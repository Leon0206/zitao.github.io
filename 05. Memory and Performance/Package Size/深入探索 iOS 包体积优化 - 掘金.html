<!DOCTYPE html>
<!-- saved from url=(0042)https://juejin.cn/post/6844904169938092045 -->
<html lang="zh" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22zh%22%7D%7D"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>深入探索 iOS 包体积优化 - 掘金</title><meta data-n-head="ssr" name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover"><meta data-n-head="ssr" name="apple-itunes-app" content="app-id=987739104"><meta data-n-head="ssr" name="theme-color" content="#ffffff"><meta data-n-head="ssr" name="msapplication-TileColor" content="#da532c"><meta data-n-head="ssr" vmid="description" name="description" content="虽然苹果官方一直在提高最大的可执行文件大小，在 iOS 13 还取消了强制的 OTA 限制，但是超过 200 MB 会默认请求用户下载许可（可在 设置 - iTunes Store与App Store - App下载 中配置），并且iOS 13 以下的超过 200 MB 无法使…"><meta data-n-head="ssr" vmid="keywords" name="keywords" content="性能优化"><link data-n-head="ssr" rel="preconnect" href="https://lf3-cdn-tos.bytescm.com/" crossorigin="anonymous"><link data-n-head="ssr" rel="preconnect" href="https://mcs.snssdk.com/" crossorigin="anonymous"><link data-n-head="ssr" rel="preconnect" href="https://i.snssdk.com/" crossorigin="anonymous"><link data-n-head="ssr" rel="dns-prefetch" href="https://lf3-cdn-tos.bytescm.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://api.juejin.cn/"><link data-n-head="ssr" rel="dns-prefetch" href="https://lf-cdn-tos.bytescm.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://unpkg.byted-static.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p1-juejin.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p3-juejin.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p6-juejin.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p9-juejin.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p1-jj.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://mcs.snssdk.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://i.snssdk.com/"><link data-n-head="ssr" rel="apple-touch-icon" sizes="180x180" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/apple-touch-icon.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="32x32" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/favicon-32x32.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="16x16" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/favicon-16x16.png"><link data-n-head="ssr" rel="mask-icon" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/safari-pinned-tab.svg" color="#1E80FF"><link data-n-head="ssr" rel="manifest" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/site.webmanifest"><link data-n-head="ssr" rel="search" title="掘金" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/search.xml" type="application/opensearchdescription+xml"><link data-n-head="ssr" rel="stylesheet" href="./深入探索 iOS 包体积优化 - 掘金_files/ionicons.min.css"><link data-n-head="ssr" rel="stylesheet" href="./深入探索 iOS 包体积优化 - 掘金_files/index.css"><link data-n-head="ssr" rel="stylesheet" href="./深入探索 iOS 包体积优化 - 掘金_files/iconfont.css"><link data-n-head="ssr" rel="stylesheet" href="./深入探索 iOS 包体积优化 - 掘金_files/bytedesign.min.css"><link data-n-head="ssr" rel="canonical" href="https://juejin.cn/post/6844904169938092045"><script data-n-head="ssr" type="text/javascript" src="./深入探索 iOS 包体积优化 - 掘金_files/acrawler.js"></script><script data-n-head="ssr" vmid="slardar" type="text/javascript" crossorigin="anonymous">;(function (w, d, u, b, n, pc, ga, ae, po, s, p, e, t, pp) {pc = 'precollect';ga = 'getAttribute';ae = 'addEventListener';po = 'PerformanceObserver';s = function (m) {p = [].slice.call(arguments);p.push(Date.now(), location.href);(m == pc ? s.p.a : s.q).push(p)};s.q = [];s.p = { a: [] };w[n] = s;e = document.createElement('script');e.src = u + '?bid=' + b + '&globalName=' + n;e.crossOrigin = u.indexOf('sdk-web') > 0 ? 'anonymous' : 'use-credentials';d.getElementsByTagName('head')[0].appendChild(e);if (ae in w) {s.pcErr = function (e) {e = e || w.event;t = e.target || e.srcElement;if (t instanceof Element || t instanceof HTMLElement) {if (t[ga]('integrity')) {w[n](pc, 'sri', t[ga]('href') || t[ga]('src'))} else {w[n](pc, 'st', { tagName: t.tagName, url: t[ga]('href') || t[ga]('src') })}} else {w[n](pc, 'err', e.error || e.message)}};s.pcRej = function (e) {e = e || w.event;w[n](pc, 'err', e.reason || (e.detail && e.detail.reason))};w[ae]('error', s.pcErr, true);w[ae]('unhandledrejection', s.pcRej, true);};if('PerformanceLongTaskTiming' in w) {pp = s.pp = { entries: [] };pp.observer = new PerformanceObserver(function (l) {pp.entries = pp.entries.concat(l.getEntries())});pp.observer.observe({ entryTypes: ['longtask', 'largest-contentful-paint','layout-shift'] })}})(window,document,'https://lf3-short.ibytedapm.com/slardar/fe/sdk-web/browser.cn.js','2608','SlardarWeb')</script><script src="./深入探索 iOS 包体积优化 - 掘金_files/browser.cn.js" crossorigin="anonymous"></script><script data-n-head="ssr" type="text/javascript" src="./深入探索 iOS 包体积优化 - 掘金_files/imageReport.js"></script><script data-n-head="ssr" type="application/ld+json">[{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://juejin.cn/post/6844904169938092045"},"headline":"深入探索 iOS 包体积优化","description":"虽然苹果官方一直在提高最大的可执行文件大小，在 iOS 13 还取消了强制的 OTA 限制，但是超过 200 MB 会默认请求用户下载许可（可在 设置 - iTunes Store与App Store - App下载 中配置），并且iOS 13 以下的超过 200 MB 无法使…","image":["https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/5/27/17254d63a9176928~tplv-t2oaga2asx-image.image"],"author":{"@type":"Organization","name":"SimonYe"},"publisher":{"@type":"Organization","name":"掘金","logo":{"@type":"ImageObject","url":"//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/e08da34488b114bd4c665ba2fa520a31.svg"}},"datePublished":"2020年05月27日","dateModified":"2020年09月02日"},{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","name":"稀土掘金","position":1,"item":"https://juejin.cn"},{"@type":"ListItem","name":"iOS","position":2,"item":"https://juejin.cn/ios"},{"@type":"ListItem","name":"文章","position":3}]}]</script><link rel="preload" href="./深入探索 iOS 包体积优化 - 掘金_files/b2807dd.js" as="script"><link rel="preload" href="./深入探索 iOS 包体积优化 - 掘金_files/7d77327.js" as="script"><link rel="preload" href="./深入探索 iOS 包体积优化 - 掘金_files/ffd6355.js" as="script"><link rel="preload" href="./深入探索 iOS 包体积优化 - 掘金_files/app.2e7e471.css" as="style"><link rel="preload" href="./深入探索 iOS 包体积优化 - 掘金_files/43bdb0e.js" as="script"><link rel="preload" href="./深入探索 iOS 包体积优化 - 掘金_files/default.5ff05a0.css" as="style"><link rel="preload" href="./深入探索 iOS 包体积优化 - 掘金_files/84ef8de.js" as="script"><link rel="preload" href="./深入探索 iOS 包体积优化 - 掘金_files/54.531a463.css" as="style"><link rel="preload" href="./深入探索 iOS 包体积优化 - 掘金_files/3e229b5.js" as="script"><link rel="preload" href="./深入探索 iOS 包体积优化 - 掘金_files/207.3d69a3b.css" as="style"><link rel="preload" href="./深入探索 iOS 包体积优化 - 掘金_files/002360f.js" as="script"><link rel="preload" href="./深入探索 iOS 包体积优化 - 掘金_files/198.e1b9b5f.css" as="style"><link rel="preload" href="./深入探索 iOS 包体积优化 - 掘金_files/14207e3.js" as="script"><link rel="stylesheet" href="./深入探索 iOS 包体积优化 - 掘金_files/app.2e7e471.css"><link rel="stylesheet" href="./深入探索 iOS 包体积优化 - 掘金_files/default.5ff05a0.css"><link rel="stylesheet" href="./深入探索 iOS 包体积优化 - 掘金_files/54.531a463.css"><link rel="stylesheet" href="./深入探索 iOS 包体积优化 - 掘金_files/207.3d69a3b.css"><link rel="stylesheet" href="./深入探索 iOS 包体积优化 - 掘金_files/198.e1b9b5f.css">
  <script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/369f17f.js"></script><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/f31ff34.js"></script><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/fdf0439.js"></script><link rel="preload" as="style" href="./深入探索 iOS 包体积优化 - 掘金_files/4.4ebc7e8.css"><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/cb95d2b.js"></script><link rel="preload" as="style" href="./深入探索 iOS 包体积优化 - 掘金_files/141.6a4a58a.css"><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/917dc4c.js"></script><link rel="preload" as="style" href="./深入探索 iOS 包体积优化 - 掘金_files/183.273fb5b.css"><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/9889692.js"></script><link rel="preload" as="style" href="./深入探索 iOS 包体积优化 - 掘金_files/193.2a5a904.css"><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/f572f44.js"></script><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/5cf7c99.js"></script><link rel="preload" as="style" href="./深入探索 iOS 包体积优化 - 掘金_files/21.4893fa3.css"><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/edbaa8a.js"></script><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/b83d181.js"></script><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/6981e9d.js"></script><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/d7c062e.js"></script><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/157c5f8.js"></script><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/58fb7d4.js"></script><style type="text/css">.code-editor-container{display:block;position:relative;overflow:hidden;box-sizing:border-box;}iframe.code-editor-frame{width:100%;height:100%;border:none;border-radius:8px;box-sizing:border-box;border:0.5px solid rgba(128,128,128,0.4);}</style><style type="text/css">.medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}</style><script src="./深入探索 iOS 包体积优化 - 掘金_files/common-monitors.1.5.1.js" crossorigin="anonymous"></script><link rel="preload" as="style" href="./深入探索 iOS 包体积优化 - 掘金_files/100.b5603cb.css"><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/bc870bc.js"></script><link rel="preload" as="style" href="./深入探索 iOS 包体积优化 - 掘金_files/158.2361d2d.css"><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/0c7e2b4.js"></script><link rel="preload" as="style" href="./深入探索 iOS 包体积优化 - 掘金_files/11.e06cf08.css"><link rel="preload" as="style" href="./深入探索 iOS 包体积优化 - 掘金_files/88.31ddc5c.css"><script charset="utf-8" src="./深入探索 iOS 包体积优化 - 掘金_files/cc8a9b2.js"></script></head>
  <body data-new-gr-c-s-check-loaded="14.1098.0" data-gr-ext-installed="">
    <div id="__nuxt"><div id="__layout"><div id="juejin"><!----> <div class="view-container" data-v-4b9f9746="" data-v-5e54ac6e=""><div class="main-header-box" data-v-4b9f9746=""><header data-fetch-key="0" class="main-header main-header visible" data-v-96dfbeac="" data-v-4b9f9746="" visible="visible"><div class="container" data-v-96dfbeac=""><a href="https://juejin.cn/" class="logo" data-v-96dfbeac=""><img src="./深入探索 iOS 包体积优化 - 掘金_files/e08da34488b114bd4c665ba2fa520a31.svg" alt="稀土掘金" class="logo-img" data-v-96dfbeac=""> <img src="./深入探索 iOS 包体积优化 - 掘金_files/6c61ae65d1c41ae8221a670fa32d05aa.svg" alt="稀土掘金" class="mobile" data-v-96dfbeac=""></a> <!----> <!----> <nav role="navigation" class="main-nav" data-v-96dfbeac=""><ul class="nav-list" data-v-96dfbeac=""><!----> <li class="main-nav-list" data-v-96dfbeac=""><div class="phone-show-menu isResourceVisible" data-v-96dfbeac=""><span data-v-96dfbeac="">首页</span> <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="unfold16-icon" data-v-96dfbeac=""><path d="M2.45025 4.82431C2.17422 4.49957 2.40501 4.00049 2.83122 4.00049H9.16878C9.59498 4.00049 9.82578 4.49957 9.54975 4.82431L6.38097 8.55229C6.1813 8.78719 5.8187 8.78719 5.61903 8.55229L2.45025 4.82431Z" data-v-96dfbeac=""></path></svg></div> <ul class="phone-hide isResourceVisible" data-v-96dfbeac=""><li class="nav-item link-item route-active" data-v-96dfbeac=""><a href="https://juejin.cn/" data-v-96dfbeac="">首页</a></li> <li class="nav-item link-item activities" data-v-96dfbeac=""><a href="https://juejin.cn/pins" data-v-96dfbeac=""><span class="text" data-v-96dfbeac="">
                  沸点
                  </span></a></li> <li class="nav-item link-item book" data-v-96dfbeac=""><a href="https://juejin.cn/course" data-v-96dfbeac="">
                课程
                <span data-v-96dfbeac="" class="tablead">
                    上新
                  </span></a></li> <li class="nav-item link-item" data-v-96dfbeac=""><a href="https://juejin.cn/live" data-v-96dfbeac="">直播</a></li> <li class="nav-item link-item" data-v-96dfbeac=""><a href="https://juejin.cn/events/all" data-v-96dfbeac="">活动</a></li> <li class="nav-item link-item" data-v-96dfbeac=""><a href="https://juejin.cn/challenge" data-v-96dfbeac="">
                竞赛
                <span data-v-96dfbeac="" class="tablead">
                    码上报名
                  </span></a></li> <nav class="nav-item link-item" data-v-96dfbeac=""><a href="https://detail.youzan.com/show/goods/newest?kdt_id=104340304" target="_blank" rel="nofollow noopener noreferrer" class="nav-item link-item no-border" data-v-96dfbeac=""><span data-v-96dfbeac="">商城</span></a> <!----></nav> <nav class="nav-item link-item download-icon isResourceVisible" data-v-96dfbeac=""><a href="https://juejin.cn/app?utm_source=jj_nav" target="_blank" class="download-app no-border" data-v-96dfbeac="">
                APP
              </a> <span data-v-96dfbeac="" class="tablead">邀请有礼</span></nav> <nav class="nav-item link-item extension-icon" data-v-96dfbeac=""><a href="https://juejin.cn/extension?utm_source=jj_nav" target="_blank" rel="nofollow noopener noreferrer" class="broswer-extension no-border isResourceVisible" data-v-96dfbeac=""><span data-v-96dfbeac="">插件</span></a></nav> <li tag="li" class="nav-item link-item" data-v-96dfbeac=""><a target="_blank" href="https://juejin.cn/vip?utm_source=web_nav" class="activity no-hover special-activity" data-v-96dfbeac=""><img src="./深入探索 iOS 包体积优化 - 掘金_files/7482b3ad2cd14edda31f05399c2ae759_tplv-k3u1fbpfcp-zoom-1.image" style="max-width: 115px; vertical-align: middle" data-v-96dfbeac=""></a></li></ul></li> <ul class="right-side-nav" data-v-96dfbeac=""><li class="search-add" data-v-96dfbeac=""><ul class="search-add-ul isResourceVisible" data-v-96dfbeac=""><li class="nav-item search" data-v-96dfbeac=""><form role="search" class="search-form isResourceVisible" data-v-96dfbeac=""><input type="search" maxlength="32" placeholder="探索稀土掘金" value="" class="search-input isResourceVisible" data-v-96dfbeac=""> <div class="seach-icon-container" data-v-96dfbeac=""><img src="./深入探索 iOS 包体积优化 - 掘金_files/1e8ab9a22f0ddc36349f60b38900d0bd.svg" alt="搜索" class="search-icon" data-v-96dfbeac=""></div> <div class="typehead" style="display:none;" data-v-96dfbeac=""><!----> <div class="title" data-v-96dfbeac=""><span data-v-96dfbeac="">搜索历史</span> <span class="clear" data-v-96dfbeac="">
                        清空
                      </span></div> <div class="list" data-v-96dfbeac=""><div data-v-96dfbeac="">
                        iOS 图片的优化
                      </div><div data-v-96dfbeac="">
                        图片的优化
                      </div></div></div></form></li> <li class="nav-item add creator-item" data-v-96dfbeac=""><div class="add-group" data-v-0a54c80a="" data-v-96dfbeac=""><svg data-v-0a54c80a="" width="38" height="20" viewBox="0 0 38 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="update-icon"><rect data-v-0a54c80a="" y="1" width="38" height="16" rx="8" fill="#F53F3F"></rect><path data-v-0a54c80a="" d="M7.5 7.93H11.47V9.02H7.5V7.93ZM11.47 9.65V10.71H7.5V9.65H11.47ZM11.47 11.34V12.48C11.47 12.72 11.34 12.84 11.08 12.84C10.75 12.84 10.39 12.82 10.01 12.8L10.19 13.46H11.31C11.87 13.44 12.15 13.19 12.15 12.7V7.3H7.51C7.75 6.93 7.96 6.54 8.16 6.14H13.43V5.44H8.46C8.6 5.09 8.72 4.73 8.84 4.36L8.11 4.27C7.99 4.66 7.84 5.05 7.67 5.44H4.69V6.14H7.34C6.65 7.43 5.68 8.57 4.42 9.57L4.89 10.18C5.61 9.6 6.26 8.95 6.82 8.25V13.48H7.5V11.34H11.47ZM14.72 4.73V5.4H18.64V6.27H15.58V10.23H18.51C18.41 10.75 18.23 11.18 17.99 11.52C17.43 11.23 16.91 10.89 16.44 10.5L15.89 10.88C16.38 11.3 16.92 11.67 17.5 11.99C16.86 12.45 15.84 12.73 14.45 12.84L14.76 13.5C16.35 13.32 17.5 12.94 18.2 12.34C19.69 13.02 21.44 13.41 23.45 13.49L23.63 12.8C21.71 12.74 20.05 12.41 18.65 11.82C18.93 11.42 19.12 10.89 19.24 10.23H22.46V6.27H19.36V5.4H23.29V4.73H14.72ZM21.75 9.6H19.33L19.36 8.89V8.54H21.75V9.6ZM18.61 9.6H16.29V8.54H18.64V8.89C18.64 9.13 18.63 9.37 18.61 9.6ZM16.29 7.94V6.89H18.64V7.94H16.29ZM19.36 6.89H21.75V7.94H19.36V6.89ZM32.94 4.43C31.97 4.85 30.88 5.08 29.67 5.1V9.38C29.62 10.9 29.3 12.09 28.71 12.95L29.22 13.49C29.94 12.47 30.32 11.1 30.37 9.38V8.19H31.85V13.53H32.56V8.19H33.6V7.5H30.37V5.68C31.45 5.62 32.42 5.41 33.3 5.07L32.94 4.43ZM24.61 5.2V5.86H29.12V5.2H27.23C27.09 4.84 26.95 4.51 26.8 4.21L26.06 4.33C26.23 4.59 26.38 4.88 26.52 5.2H24.61ZM24.51 7.47V8.12H26.53V9.24H24.67V9.9H26.53V12.56C26.53 12.8 26.4 12.92 26.14 12.92C26 12.92 25.85 12.9 25.69 12.87L25.84 13.54H26.38C26.96 13.54 27.25 13.27 27.25 12.73V9.9H29.01V9.24H27.25V8.12H29.18V7.47H28.05C28.24 7.13 28.41 6.74 28.57 6.31L27.92 6.09C27.77 6.57 27.6 7.03 27.4 7.47H26.3C26.14 6.93 25.96 6.48 25.77 6.11L25.13 6.34C25.33 6.69 25.51 7.07 25.66 7.47H24.51ZM25.37 10.44C25.15 11.32 24.81 12.12 24.34 12.84L24.94 13.22C25.4 12.47 25.77 11.59 26.03 10.58L25.37 10.44ZM28.24 10.37L27.64 10.53C27.92 11.13 28.15 11.75 28.34 12.38L28.94 12.15C28.78 11.61 28.54 11.02 28.24 10.37Z" fill="white"></path><path data-v-0a54c80a="" d="M18.8284 14L21.6568 16.8284L19.1112 19.374C18.955 19.5302 18.7017 19.5302 18.5455 19.374L15.9999 16.8284L18.8284 14Z" fill="#F53F3F"></path></svg> <button class="add-btn" data-v-0a54c80a="">
    创作者中心
  </button> <div class="more" data-v-0a54c80a=""><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="unfold12-icon" data-v-0a54c80a=""><path d="M2.45025 4.82383C2.17422 4.49908 2.40501 4 2.83122 4H9.16878C9.59499 4 9.82578 4.49908 9.54975 4.82382L6.38097 8.5518C6.1813 8.7867 5.8187 8.7867 5.61903 8.5518L2.45025 4.82383Z" fill="white" data-v-0a54c80a=""></path></svg></div> <ul class="more-list" data-v-0a54c80a=""><li class="item" data-v-0a54c80a=""><span class="icon write-article" data-v-0a54c80a="">写文章</span></li><li class="item" data-v-0a54c80a=""><span class="icon issue-points" data-v-0a54c80a="">发沸点</span></li><li class="item" data-v-0a54c80a=""><span class="icon write-note" data-v-0a54c80a="">写笔记</span></li><li class="item" data-v-0a54c80a=""><span class="icon create-jcode" data-v-0a54c80a="">写代码</span></li><li class="item" data-v-0a54c80a=""><span class="icon drafts" data-v-0a54c80a="">草稿箱</span></li></ul> <!----></div></li></ul></li> <!----> <li class="nav-item vip-entry" data-v-96dfbeac=""><div class="vip-title" data-v-96dfbeac=""><div class="vip-entry-img" data-v-96dfbeac=""><img src="./深入探索 iOS 包体积优化 - 掘金_files/24127194d5b158d7eaf8f09a256c5d01.svg" alt="vip" class="vip-img" data-v-96dfbeac=""> </div> <div class="vip-words" data-v-96dfbeac="">会员</div></div></li> <li class="nav-item notification" data-v-96dfbeac=""><a class="app-link notification-a" data-v-96dfbeac="" href="https://juejin.cn/notification"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="notification-icon" data-v-96dfbeac=""><path d="M6.01132 10.2856C6.28115 6.54234 8.68619 4.28564 11.9999 4.28564C15.3136 4.28564 17.7186 6.54234 17.9885 10.2856C18.1219 12.1363 18.4093 13.708 19.9473 15.8848C20.1889 16.2267 19.953 16.7142 19.5343 16.7142H4.46546C4.04679 16.7142 3.81092 16.2267 4.05252 15.8848C5.59053 13.708 5.87793 12.1363 6.01132 10.2856Z" stroke-width="1.5" stroke-linecap="round" data-v-96dfbeac=""></path><path d="M11.9573 3.21436V4.28578" stroke-width="3" stroke-linecap="round" data-v-96dfbeac=""></path><path d="M9.57495 18.8569C9.92795 19.8557 10.8804 20.5712 12.0001 20.5712C13.1197 20.5712 14.0722 19.8557 14.4252 18.8569H9.57495Z" stroke-linecap="round" stroke-linejoin="round" data-v-96dfbeac=""></path></svg> <!----></a> <ul class="menu-list notification-dropdown-menu" data-v-4e288a04="" data-v-96dfbeac=""><li class="menu-item" data-v-4e288a04=""><a href="https://juejin.cn/notification" class="item-link" data-v-4e288a04=""><span class="item-name" data-v-4e288a04="">评论</span> <!----></a></li><li class="menu-item" data-v-4e288a04=""><a href="https://juejin.cn/notification/digg" class="item-link" data-v-4e288a04=""><span class="item-name" data-v-4e288a04="">点赞</span> <!----></a></li><li class="menu-item" data-v-4e288a04=""><a href="https://juejin.cn/notification/follow" class="item-link" data-v-4e288a04=""><span class="item-name" data-v-4e288a04="">关注</span> <!----></a></li><li class="menu-item" data-v-4e288a04=""><a href="https://juejin.cn/notification/im" class="item-link" data-v-4e288a04=""><span class="item-name" data-v-4e288a04="">私信</span> <!----></a></li><li class="menu-item" data-v-4e288a04=""><a href="https://juejin.cn/notification/system" class="item-link" data-v-4e288a04=""><span class="item-name" data-v-4e288a04="">系统消息</span> <!----></a></li></ul></li>  <li class="nav-item menu" data-v-96dfbeac=""><div class="avatar-wrapper" data-v-96dfbeac=""><img src="./深入探索 iOS 包体积优化 - 掘金_files/3044413937_100x100.awebp" alt="Leon0206的头像" class="lazy avatar avatar immediate" data-v-248050e4="" data-v-47508ed8="" data-v-96dfbeac="" loading="lazy"> <!----></div> <!----></li> <!----></ul></ul></nav></div> <!----></header></div>  <main class="container main-container" style="max-width:1140px;" data-v-4b9f9746=""><div class="view column-view" data-v-4b9f9746="" data-v-5e54ac6e=""><div class="main-area article-area" data-v-4b9f9746="" data-v-5e54ac6e=""><article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="6844904169938092045" data-draft-id="6845076797793501192" data-original-type="0" class="article" data-v-5e54ac6e="" data-v-4b9f9746=""><!----> <meta itemprop="headline" content="深入探索 iOS 包体积优化"> <meta itemprop="keywords" content="性能优化"> <meta itemprop="datePublished" content="2020-05-27T06:41:13.000Z"> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SimonYe"> <meta itemprop="url" content="https://juejin.cn/user/3210229682279159"></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="掘金"> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"> <meta itemprop="width" content="180"> <meta itemprop="height" content="180"></div></div> <h1 class="article-title" data-v-5e54ac6e="">
            深入探索 iOS 包体积优化
            <!----></h1> <div class="author-info-block" data-v-5e54ac6e=""><a href="https://juejin.cn/user/3210229682279159" target="_blank" rel="" class="avatar-link" data-v-5e54ac6e=""><img loading="eager" src="./深入探索 iOS 包体积优化 - 掘金_files/89cbb70015b71abb1998e553d9eb5520_100x100.awebp" alt="" class="lazy avatar avatar" data-v-248050e4="" data-v-47508ed8="" data-v-5e54ac6e=""></a> <div class="author-info-box" data-v-5e54ac6e=""><div class="author-name" data-v-5e54ac6e=""><a href="https://juejin.cn/user/3210229682279159" target="_blank" rel="" class="username username ellipsis" data-v-0ef8bafa="" data-v-5e54ac6e=""><span class="name" style="max-width:128px;" data-v-0ef8bafa="">
    SimonYe
  </span> <span blank="true" class="rank" data-v-3de16c56="" data-v-0ef8bafa=""><img src="./深入探索 iOS 包体积优化 - 掘金_files/lv-4.a78c420.png" alt="lv-4" title="创作等级" data-v-3de16c56=""></span> <!----> <!----> </a> <!----></div> <div class="meta-box" data-v-5e54ac6e=""><time datetime="2020-05-27T06:41:13.000Z" title="Wed May 27 2020 14:41:13 GMT+0800 (China Standard Time)" class="time" data-v-5e54ac6e="">
                    2020年05月27日 14:41
                  </time> <span class="views-count" data-v-5e54ac6e="">
                    ·&nbsp;&nbsp;阅读 7553
                  </span> <!----></div></div> <button class="follow-button follow followed" data-v-415216a8="" data-v-5e54ac6e=""><span class="icon icon-followed" data-v-415216a8=""></span> <span class="text" data-v-415216a8="">已关注</span></button></div> <!----> <img loading="eager" src="./深入探索 iOS 包体积优化 - 掘金_files/17254d63a9176928_tplv-t2oaga2asx-zoom-crop-mark_3780_3780_3780_2128.awebp" alt="深入探索 iOS 包体积优化" class="lazy article-hero" data-v-248050e4="" data-v-5e54ac6e=""> <!----> <!----> <div itemprop="articleBody" class="article-content" data-v-5e54ac6e=""><div class="markdown-body cache html"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre>code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote>p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre>code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">背景</h2>
<p>为什么要进行包大小优化？</p>
<p>虽然苹果官方一直在提高最大的可执行文件大小，在 iOS 13 还取消了强制的 OTA 限制，但是超过 200 MB 会默认请求用户下载许可（可在 设置 - iTunes Store与App Store - App下载 中配置），并且iOS 13 以下的超过 200 MB 无法使用 OTA，影响了整体更新率。</p>
<p>如果 App 还要适配 iOS 8 之前的版本，苹果还规定了主二进制 __TEXT 段的大小不能超过 60MB，否则上传构建时会被打回。</p>
<p>为了更好的用户体验，减少用户等待时间，包瘦身仍然是 App 优化中重要的一环。</p>
<p><img src="./深入探索 iOS 包体积优化 - 掘金_files/17254d872d97732f_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<h2 data-id="heading-1">资源瘦身</h2>
<h3 data-id="heading-2">移除无用图片资源</h3>
<ul>
<li>
<p>目前市面上基本不适配 iPhone4 以下的机型了，1x 的图片都可以移除。</p>
</li>
<li>
<p>通过资源关键字进行全局匹配，筛选出未使用的资源。有些资源使用是通过拼接或者后台下发名称，需对筛选出的资源进行筛选，防止误删。</p>
</li>
<li>
<p>这里推荐使用工具 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Ftinymind%2FLSUnusedResources" target="_blank" title="https://github.com/tinymind/LSUnusedResources" ref="nofollow noopener noreferrer">LSUnusedResources</a>，可以根据项目实际情况定义查找文件的正则表达式。另外建议勾选 Ignore similar name ，避免扫描出图片组。</p>
</li>
</ul>
<p><img src="./深入探索 iOS 包体积优化 - 掘金_files/17254d894104048a_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<h3 data-id="heading-3">压缩图片等资源文件</h3>
<ul>
<li>
<p>建议使用无损压缩，例如 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fimageoptim.com%2Fmac" target="_blank" title="https://imageoptim.com/mac" ref="nofollow noopener noreferrer">ImageOptim</a>、<a href="https://link.juejin.cn/?target=https%3A%2F%2Fpngquant.org" target="_blank" title="https://pngquant.org" ref="nofollow noopener noreferrer">pngquant命令</a>、<a href="https://link.juejin.cn/?target=https%3A%2F%2Ftinypng.com%2F" target="_blank" title="https://tinypng.com/" ref="nofollow noopener noreferrer">tinypng</a> ，如果涉及有损压缩最好要求设计介入进行资源检查。</p>
</li>
<li>
<p>还可以使用 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fdevelopers.google.com%2Fspeed%2Fwebp%2F" target="_blank" title="https://developers.google.com/speed/webp/" ref="nofollow noopener noreferrer">Webp</a> 格式的图片，Webp 是由 Google 推出的图片格式，有损压缩模式下图片体积只有 jpeg 格式的 1/3，无损压缩也能减小 1/4，可以使用 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fdevelopers.google.com%2Fspeed%2Fwebp%2Fdocs%2Fprecompiled" target="_blank" title="https://developers.google.com/speed/webp/docs/precompiled" ref="nofollow noopener noreferrer">cwebp</a> 进行格式压缩转换，目前 SDWebImage、Kingfisher 都用支持该格式解析的拓展。无损压缩命令如下：</p>
<pre><code class="hljs language-arduino copyable" lang="arduino"><span class="hljs-comment">// 语法</span>
cwebp [options] input_file -o output_file.webp
<span class="hljs-comment">// 无损压缩</span>
cwebp -lossless original.png -o <span class="hljs-keyword">new</span>.webp
<span class="copy-code-btn">复制代码</span></code></pre>
<p>除了终端命令，还可以使用 <a href="https://link.juejin.cn/?target=http%3A%2F%2Fisparta.github.io%2F" target="_blank" title="http://isparta.github.io/" ref="nofollow noopener noreferrer">iSparta</a> 进行批量转换格式。</p>
</li>
</ul>
<p><img src="./深入探索 iOS 包体积优化 - 掘金_files/17254d8d5363e4a2_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<ul>
<li>
<p>Xcode 本身也提供压缩图片的编译选项</p>
<ul>
<li>
<p>Compress PNG Files</p>
<p>打包的时候基于 pngcrush 工具自动对图片进行无损压缩，如果我们已自行对图片进行压缩，该选项最好关闭。</p>
</li>
<li>
<p>Remove Text Medadata From PNG Files</p>
<p>移除 PNG 资源的文本字符，比如图像名称、作者、版权、创作时间、注释等信息。</p>
</li>
</ul>
</li>
</ul>
<p><img src="./深入探索 iOS 包体积优化 - 掘金_files/17254d8e9fd2ce96_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<h3 data-id="heading-4">删除重复文件</h3>
<p>通过校验所有资源的 MD5，筛选出项目中的重复资源，推荐使用 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fadrianlopezroche%2Ffdupes" target="_blank" title="https://github.com/adrianlopezroche/fdupes" ref="nofollow noopener noreferrer">fdupes</a> 工具进行重复文件扫描，fdupes 是 Linux 平台的一个开源工具，由 C 语言编写 ，文件比较顺序是<code>大小对比 &gt; 部分 MD5 签名对比 &gt; 完整 MD5 签名对比 &gt; 逐字节对比</code>。</p>
<p>通过 Homebrew 安装 fdupes：</p>
<pre><code class="hljs copyable">brew install fdupes
<span class="copy-code-btn">复制代码</span></code></pre>
<p>查看目标文件夹下的重复文件：</p>
<pre><code class="hljs language-arduino copyable" lang="arduino">fdupes -Sr 文件夹   <span class="hljs-comment">// 查看文件夹下所有子目录中的重复文件及大小</span>
fdupes -Sr 文件夹 &gt; 输出地址.txt  <span class="hljs-comment">// 将信息输出到txt文件中</span>

<span class="copy-code-btn">复制代码</span></code></pre>
<p>输出内容如下，一般情况下，相同文件仅保留一份，修改对应的引用即可。</p>
<pre><code class="hljs language-bash copyable" lang="bash">4474 bytes each:
Test/Images.xcassets/TabBarImage/tabBar_2.imageset/tabBar_2@2x.png
Test/Resource/TabBarImage/tabBar_2@2x.png

3912 bytes each:
Test/Images.xcassets/TabBarImage/tabBar_3.imageset/tabBar_3@2x.png
Test/Resource/TabBarImage/tabBar_3@2x.png

<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-5">图片资源放入.xcassets</h3>
<ul>
<li>
<p>尽量将图片资源放入 Images.xcassets 中，包括 pod 库的图片。 Images.xcassets 中的图片加载后会有缓存，提升加载速度，并且在最终打包时会自动进行压缩（Compress PNG Files），再根据最终运行设备进行 2x 和 3x 分发。</p>
</li>
<li>
<p>对于内部 Pod 库中的资源文件，我们可以在 Pod 库里面的 Resources 目录下新建 Asset Catalog 文件，命名为 Images.xcassets，移入所有图片文件，接着手动修改该 SDK 的 <code>podspec</code> 文件指定使用该 Images.xcassets。</p>
<pre><code class="hljs language-ini copyable" lang="ini"><span class="hljs-attr">s.resource_bundles</span> = {
    <span class="hljs-attr">'xxsdk'</span> =&gt; [<span class="hljs-string">'PAX/Assets/*.xcassets'</span>]
}
<span class="copy-code-btn">复制代码</span></code></pre>
<blockquote>
<p>Pod 资源文件的引用方式分为 <code>resource_bundles</code> 和 <code>resources</code>，这里我们使用的是 <code>resource_bundles</code>，会为为指定的资源打一个 <code>.bundle</code>，<code>.bundle</code>包含一个 <code>Assets.car</code>，获取图片的时候要严格指定 <code>bundle</code> 的位置，能很好的隔离各个库资源包。</p>
<pre><code class="hljs language-objective-c copyable" lang="objective-c">NSString *bundlePath = [[NSBundle bundleForClass:[self class]].resourcePath stringByAppendingPathComponent:@"/PAX.bundle"];
     NSBundle *resource_bundle = [NSBundle bundleWithPath:bundlePath];
     UIImage *image = [UIImage imageNamed:@"xxxx" inBundle:resource_bundle compatibleWithTraitCollection:nil];
<span class="copy-code-btn">复制代码</span></code></pre>
<ul>
<li>
<p><code>resource_bundles</code></p>
<p>允许定义当前 Pod 库的资源包的<strong>名称和文件</strong>。用 hash 的形式来声明，key 是 bundle 的名称，value 是需要包括的文件的通配 patterns。CocoaPods 官方强烈推荐使用 <code>resource_bundles</code>，因为用 key-value 可以避免相同名称资源的名称冲突。同时建议 bundle 的名称至少应该包括 Pod 库的名称，可以尽量减少同名冲突</p>
</li>
<li>
<p><code>resources</code></p>
<p>使用 <code>resources</code> 来指定资源，被指定的资源只会简单的被 copy 到目标工程中（主工程）。官方认为用 <code>resources</code> 是无法避免同名资源文件的冲突的，同时，Xcode 也不会对这些资源做优化。</p>
</li>
</ul>
</blockquote>
</li>
</ul>
<h3 data-id="heading-6">部分大资源文件通过运行下载</h3>
<p>对于一些非必要的大资源文件，例如字体库、换肤资源，可以在 App 启动后通过异步下载到本地，而不用直接放在 ipa 包内。</p>
<h2 data-id="heading-7">代码瘦身</h2>
<h3 data-id="heading-8">删除未使用代码</h3>
<h4 data-id="heading-9">LinkMap 结合 Mach-O</h4>
<p>LinkMap 的 Symbols 中会列出所有方法、类、block及它们的大小，通过获取 LinkMap 即可以获得方法和类的全集；再通过 MachOView 获得使用过的方法和类，两者的差值就是我们要找寻的未使用代码。</p>
<ul>
<li>
<p>获取 LinkMap</p>
<p>将 Build Setting - Write Link Map File 设置为 Yes，接着设置 Path to Link Map File 指定文件存放位置，即可在每次编译后获取对应的 LinkMap 文件。</p>
</li>
<li>
<p>MachOView</p>
<p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fgdbinit%2FMachOView" target="_blank" title="https://github.com/gdbinit/MachOView" ref="nofollow noopener noreferrer">MachOView</a> 是一款开源软件，可以查看 Mach-O 文件的内容。OC 的方法都会通过 objc_msgSend 来调用。可以通过 Mach-O 查看 <code>__objc_selrefs</code> 这个 section 来获取 selector 参数的，另外 <code>__objc_classrefs</code> 和 <code>__objc_superrefs</code> 这两个 section 可以获取调用过的类和父类。</p>
</li>
</ul>
<p><img src="./深入探索 iOS 包体积优化 - 掘金_files/17254d95837b512e_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<p><strong>该方式可作为参考使用，移除的代码还需要经过二次确认，防止存在拼接字符串动态等调用方式。</strong></p>
<h4 data-id="heading-10">AppCode</h4>
<p>当工程代码量不大时，还可以使用 AppCode 自带的静态分析工具辅助检查未使用的类和代码，功能在菜单 Code - Inspect Code。</p>
<p><img src="./深入探索 iOS 包体积优化 - 掘金_files/17254d973fedd4cb_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<p><strong>该静态检测方式存在的问题较多，适合作为平常开发的辅助检测工具使用</strong>。具体的问题有：</p>
<ul>
<li>SDK定义的未使用的协议会被判定为无用协议</li>
<li>如果子类使用了父类的方法，父类的这个方法不会被认为使用了</li>
<li>通过点的方式使用属性，该属性会被认为没有使用</li>
<li>使用 performSelector 方式调用的方法也检查不出来，比如 self performSelector:@selector(arrivalRefreshTime)</li>
<li>运行时声明类的情况检查不出来。比如通过 NSClassFromString 方式调用的类会被查出为没有使用的类，比如 layerClass = NSClassFromString(@“SMFloatLayer”)。还有以[[self class] accessToken] 这样不指定类名的方式使用的类，会被认为该类没有被使用。像 UITableView 的自定义的 Cell 使用 registerClass，这样的情况也会认为这个 Cell 没有被使用。</li>
</ul>
<h3 data-id="heading-11">删除版本遗留代码</h3>
<p>随着项目业务的迭代，必然会出现版本遗弃的功能，这些功能可能连入口都已经屏蔽。对于这些老业务代码，也是应该被移除的。</p>
<p>我们可以通过 Runtime 提供的 <code>isInitialized</code> 方法在运行时检测一个类是否有被使用过，更多代码可查看 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2FSimonYHB%2Fobjc4-750.git" target="_blank" title="https://github.com/SimonYHB/objc4-750.git" ref="nofollow noopener noreferrer">objc4-750</a>。</p>
<pre><code class="hljs language-objective-c copyable" lang="objective-c">// 类的方法列表已修复
#define RW_METHODIZED         (1&lt;&lt;30)

// 类已经初始化了
#define RW_INITIALIZED        (1&lt;&lt;29)

// 类在初始化过程中
#define RW_INITIALIZING       (1&lt;&lt;28)

// class_rw_t-&gt;ro 是 class_ro_t 的堆副本
#define RW_COPIED_RO          (1&lt;&lt;27)

// 类分配了内存，但没有注册
#define RW_CONSTRUCTING       (1&lt;&lt;26)

// 类分配了内存也注册了
#define RW_CONSTRUCTED        (1&lt;&lt;25)

// GC：class有不安全的finalize方法
#define RW_FINALIZE_ON_MAIN_THREAD (1&lt;&lt;24)

// 类的 +load 被调用了
#define RW_LOADED             (1&lt;&lt;23)

bool isInitialized() {
   return getMeta()-&gt;data()-&gt;flags &amp; RW_INITIALIZED;
}
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-12">精简重复代码</h3>
<p>多人开发的项目可能存在大量复制粘贴代码，可以通过 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fpmd.github.io%2F" target="_blank" title="https://pmd.github.io/" ref="nofollow noopener noreferrer">PMD</a> 扫描重复的代码片段，再结合实际逻辑重构代码。</p>
<p><strong>PMD</strong> 是一个代码静态扫描工具，直接通过 <code>brew</code> 命令安装。</p>
<pre><code class="hljs copyable">brew install pmd
<span class="copy-code-btn">复制代码</span></code></pre>
<p>安装完成后，通过 PMD-CPD 即可得到重复代码信息，格式如下：</p>
<pre><code class="hljs language-scss copyable" lang="scss">pmd cpd <span class="hljs-attr">--files</span> 扫描文件目录 <span class="hljs-attr">--minimum-tokens</span> <span class="hljs-number">70</span> <span class="hljs-attr">--language</span> objectivec <span class="hljs-attr">--encoding</span> UTF-<span class="hljs-number">8</span> <span class="hljs-attr">--format</span> xml &gt; repeat<span class="hljs-selector-class">.xml</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>其中，<code>--files</code> 用于指定文件目录，<code>--minimum-tokens</code> 用于设置最小重复代码阈值，<code>--format</code> 用于指定输出文件格式，支持 xml/csv/txt 等格式，这里建议使用 xml，方便查看 。</p>
<p>生成的 XML 文件内容如下，根据 file 标签信息就能定位到重复代码位置。</p>
<pre><code class="hljs language-xml copyable" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">pmd-cpd</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">duplication</span> <span class="hljs-attr">lines</span>=<span class="hljs-string">"87"</span> <span class="hljs-attr">tokens</span>=<span class="hljs-string">"565"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">file</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">endcolumn</span>=<span class="hljs-string">"3"</span> <span class="hljs-attr">endline</span>=<span class="hljs-string">"197"</span> <span class="hljs-attr">line</span>=<span class="hljs-string">"111"</span>
            <span class="hljs-attr">path</span>=<span class="hljs-string">"/Users/github/iOS-Develop-Tools/IOSDevelopTools/IOSDevelopTools/OCTimeConsumeMonitor/YECallMonitor.m"</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">file</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">endcolumn</span>=<span class="hljs-string">"3"</span> <span class="hljs-attr">endline</span>=<span class="hljs-string">"152"</span> <span class="hljs-attr">line</span>=<span class="hljs-string">"66"</span>
            <span class="hljs-attr">path</span>=<span class="hljs-string">"/Users/github/iOS-Develop-Tools/IOSDevelopTools/IOSDevelopTools/OCTimeConsumeMonitor/YECallTraceShowViewController.m"</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">codefragment</span>&gt;</span>&lt;![CDATA[}
#pragma private
- (NSUInteger)findStartDepthIndex:(NSUInteger)start arr:(NSArray *)arr
{
    NSUInteger index = start;
    if (arr.count &gt; index) {
        YECallRecordModel *model = arr[index];
        int minDepth = model.depth;
        int minTotal = model.total;
        for (NSUInteger i = index+1; i &lt; arr.count; i++) {
            YECallRecordModel *tmp = arr[i];
            if (tmp.depth &lt; minDepth || (tmp.depth == minDepth &amp;&amp; tmp.total &lt; minTotal)) {
                minDepth = tmp.depth;
                minTotal = tmp.total;
                index = i;
            }
        }
    }
    return index;
}

- (void)setRecordDic:(NSMutableArray *)arr record:(YEThreadCallRecord *)record
{
    if ([arr isKindOfClass:NSMutableArray.class] &amp;&amp; record) {
        int total=1;
        for (NSUInteger i = 0; i &lt; arr.count; i++)
        {
            YECallRecordModel *model = arr[i];
            if (model.depth == record-&gt;depth) {
                total = model.total+1;
                break;
            }
        }
        
        YECallRecordModel *model = [[YECallRecordModel alloc] initWithCls:record-&gt;cls sel:record-&gt;sel time:record-&gt;time depth:record-&gt;depth total:total];
        [arr insertObject:model atIndex:0];
    }
}

]]&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">codefragment</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">duplication</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">pmd-cpd</span>&gt;</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-13">与包体积有关的编译选项</h2>
<h3 data-id="heading-14">建议修改</h3>
<ul>
<li>
<p>Valid Architectures</p>
<p>设置编译生成的 ipa 包所支持的架构，不支持32位以及 iOS8 ，可去掉 armv7及之前的架构 ，减小生成的 ipa 包。</p>
</li>
<li>
<p>Strip Link Product 和 <em>Deployment</em> Postprocessing</p>
<p>Strip Linked Product 默认为 Yes，Deployment Postprocessing 默认为 No，Strip Linked Product 在 <em>Deployment</em> Postprocessing 设置为 YES 的时候才生效。当Strip Linked Product设为YES的时候，ipa会去除掉symbol符号，运行 App 断点不会中断，在程序中打印[NSThread callStackSymbols]也无法看到类名和方法名。而在程序崩溃时，终端的函数调用栈中也无法看到类名和方法名。但是不会影响正常的崩溃日志生成和解析，依然可以通过符号表来解析崩溃日志，适合线上使用，建议在 release 下都设置为 Yes。</p>
</li>
<li>
<p>Generate Debug Symbols</p>
<p>默认为 Yes，当设置为 Yes 时，编译生成的 .o 文件会更大，包含了断点信息和符号化的调试信息，方便开发阶段调试，建议在 release 下设置为 No，线上需要获取崩溃信息时搭配编译生成的 dSYM 文件解析符号。</p>
</li>
<li>
<p>Enable C++ Exceptions 和 Enable Objective-C Exceptions</p>
<p>默认都为 Yes，用于捕获 C++ 和 OC 的异常，如果项目中使用了 try catch， 可考虑去掉并在 release 下设置为 No，配合在 Other C Flags 添加 -fno-exceptions 和 -fno-rtt ，会有比较明显的体积减小。</p>
</li>
</ul>
<h3 data-id="heading-15">保持不变</h3>
<ul>
<li>
<p>Generate Debug Symbols</p>
<p>默认为 Yes，用生成dSYM文件，有助于解析崩溃信息。</p>
</li>
<li>
<p>Make Strings Read-Only</p>
<p>默认为 Yes，复用字符串字面量。</p>
</li>
<li>
<p>Dead Code Stripping</p>
<p>默认为 Yes，去除冗余代码。</p>
</li>
<li>
<p>Optimization Level</p>
<p>Release 下默认为 Fastest, Smalllest[-Os]，自动优化代码。</p>
</li>
<li>
<p>Symbols Hidden by Default</p>
<p>Release 下默认为 Yes，会移除符号信息，把所有符号都定义成 private extern。</p>
</li>
<li>
<p>Strip Swift Symbols</p>
<p>默认为 Yes，移除 Swift 相关的符号表，运行时再从 SWIFT 标准库中获取符号，从而减少应用体积。</p>
</li>
</ul>
<h2 data-id="heading-16">App Thinning</h2>
<p>WWDC2015 发布会上首次介绍了 App Thinning，并在 iOS9 开始应用。严格来说App Thinning不会让安装包变小，但用户安装应用时，苹果会根据用户的机型自动选择合适的资源和对应CPU架构的二进制执行文件（也就是说用户本地可执行文件不会同时存在 armv7 和 arm64），减少下载流量和安装占用空间。</p>
<p>在上传 App 时，配置 App Thinning 即可开启。分为三个部分： Slicing、Bitcode、On-Demand Resources。</p>
<p><img src="./深入探索 iOS 包体积优化 - 掘金_files/17254d9ce82cd343_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<h3 data-id="heading-17">Slicing</h3>
<p>在向 iTunes connect 上传 App 后，会做 App 进行分割，创建不同的变体来适配不同的设备，不同变体之间的差异主要体现在系统指令集和资源文件上。</p>
<p>在项目的 xcassets 目录添加图片，2x 和 3x 图会分别放入到不同的变体中，用户从 App Store 下载时只下载特定的变体，而不会下载全部的指令集和资源文件。</p>
<p><img src="./深入探索 iOS 包体积优化 - 掘金_files/17254d9e5b914691_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<h3 data-id="heading-18">Bitcode</h3>
<p>Bitcode 是编译好的程序中间码，使用 Bitcode 上传到 iTunes Connect 的 app 将会在 Apple 服务器中进行链接和编译。该步骤主要是方便 Apple 推出新的架构或LLVM优化时无需重新上传 App。</p>
<p>通过设置项目的 <code>Build Settings -&gt; Enable Bitcode</code> 为 YES 开启Bitcode，使用时需要保证 App 中所有的静态库和动态库都支持，否则会编译失败。</p>
<p>由于 App 的编译是在 Apple 服务器中进行的，所以本地无法获取 dSYM 文件进行崩溃分析，需在上传时勾选 <code>Include app symbols for your application* to receive symbolicated crash logs from Apple</code>，再从  <code>Xcode -&gt; Window -&gt; Organizer</code> 或者 Apple Store Connect 中下载对应的 dYSM文件。</p>
<h3 data-id="heading-19">On-Demand Resources</h3>
<p>可将部分资源单独下载，而不随着 App 一同下载，减少初始 App 的大小。例如相机的滤镜和游戏关卡。</p>
<p><img src="./深入探索 iOS 包体积优化 - 掘金_files/17254d9fa31ad79d_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<h2 data-id="heading-20">其他</h2>
<h3 data-id="heading-21">Framework 瘦身</h3>
<h4 data-id="heading-22">只保留需要的指令集</h4>
<p>没有开启 Bitcode 时，App 内的 Framework 会包含多个指令集，我们可以手动移除不需要的指令集。</p>
<p>Framework 也是 Mach-O 格式文件，一般第三方的 Framework 为了适配多种架构，都会包含全部 CPU 的指令集，此时的二进制文件称谓胖二进制文件。</p>
<p>例如百度地图的定位框架 BMKLocationKit，就包含了所有 CPU 的指令集，我们可以通过 <code>lipo -info BMKLocationKit</code>  看到如下信息：</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-title class_">Architectures</span> <span class="hljs-keyword">in</span> the fat <span class="hljs-attr">file</span>: <span class="hljs-regexp">/Users/</span><span class="hljs-title class_">BMKLocationKit</span>.<span class="hljs-property">framework</span>/<span class="hljs-title class_">BMKLocationKit</span> <span class="hljs-attr">are</span>: armv7 armv7s i386 x86_64 arm64
<span class="copy-code-btn">复制代码</span></code></pre>
<p>也可以使用 MachOView 工具查看：</p>
<p><img src="./深入探索 iOS 包体积优化 - 掘金_files/17254da19b9100a6_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>可以看到 BMKLocationKit 包含了 <code>armv7 armv7s i386 x86_64 arm64</code> 5种指令集，而对于大多数移动端 App，只需要 armv7s 和 arm64 指令集就足够了。</p>
<p>不同手机型号对应的指令集如下：</p>





























<table><thead><tr><th>指令集</th><th>型号</th></tr></thead><tbody><tr><td>armv7</td><td>iPhone4s之前 | iPad｜iPad2｜iPad3(The New iPad)｜iPad mini｜iPod Touch 3G</td></tr><tr><td>armv7s</td><td>iPhone5｜iPhone5C｜iPad4(iPad with Retina Display)</td></tr><tr><td>arm64</td><td>iPhone5s之后的机型 | iPad Air  | iPad mini2(iPad mini with Retina Display)等</td></tr><tr><td>x86_64</td><td>模拟器64位处理器 | Mac应用</td></tr><tr><td>I386</td><td>模拟器32位处理器 | Mac应用</td></tr></tbody></table>
<p>我们可以通过 lipo 命令拆分胖二进制文件，只保留需要的指令集，以 BMKLocationKit 为例，指令如下：</p>
<pre><code class="hljs language-objective-c copyable" lang="objective-c">lipo -info BMKLocationKit.framework/BMKLocationKit
// Architectures in the fat file: BMKLocationKit are: armv7 armv7s i386 x86_64 arm64
  
// 抽取armv7s架构
lipo BMKLocationKit.framework/BMKLocationKit -thin armv7s -output BMK/BMKLocationKitArmv7s
  
// 抽取arm64架构
lipo BMKLocationKit.framework/BMKLocationKit -thin arm64 -output BMK/BMKLocationKitArm64
  
// 合成armv7s和arm64
cd /Users/yehuangbin/Desktop/BMK
lipo -create BMKLocationKitArm64 BMKLocationKitArmv7s -output BMKLocationKit
  
lipo -info BMKLocationKit
// Architectures in the fat file: BMKLocationKit are: armv7s arm64

// 替换原先的二进制文件
mv -f BMKLocationKit ../BMKLocationKit.framework/
<span class="copy-code-btn">复制代码</span></code></pre>
<p>移除多余的指令集后，framework 大小从 4.3MB 降到 1.8MB，效果还是很显著的。</p>
<h4 data-id="heading-23">移除 Framework 的未使用代码</h4>
<p>通常我们可能因为某一个功能需求而引入较庞大的第三方 Framework，可以拆分 machO 文件，将不需要的 .o 文件移除。</p>
<p>由于我们不是 framework 的作者，不熟悉其代码调用逻辑，移除后应多次验证是否会有关联影响，整天流程如图所示，具体操作可查看 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.infoq.cn%2Farticle%2Fios-thinning-delete-unnecessary-mach-o%2F" target="_blank" title="https://www.infoq.cn/article/ios-thinning-delete-unnecessary-mach-o/" ref="nofollow noopener noreferrer">删除 FrameWork 中无用 mach-O 文件</a>。</p>
<p><img src="./深入探索 iOS 包体积优化 - 掘金_files/17254da3c3c172a2_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>涉及到的终端指令：</p>
<pre><code class="hljs language-less copyable" lang="less"><span class="hljs-comment">// 查看二进制文件的架构信息</span>
<span class="hljs-selector-tag">lipo</span> <span class="hljs-selector-tag">-info</span> 二进制文件  

<span class="hljs-comment">// 按架构拆分二进制文件，iOS常用 arm64、armv7s</span>
<span class="hljs-selector-tag">lipo</span> 二进制文件 <span class="hljs-selector-tag">-thin</span> 架构 <span class="hljs-selector-tag">-output</span> 新架构二进制文件

<span class="hljs-comment">// 拆分二进制文件具体的内容(.o文件列表)</span>
<span class="hljs-selector-tag">ar</span> <span class="hljs-selector-tag">-x</span> 二进制文件

<span class="hljs-comment">// 将.o合并成二进制文件</span>
<span class="hljs-selector-tag">libtool</span> <span class="hljs-selector-tag">-static</span> <span class="hljs-selector-tag">-o</span> 新二进制文件 *<span class="hljs-selector-class">.o</span>

<span class="hljs-comment">// 合并将不同架构二进制文件</span>
<span class="hljs-selector-tag">lipo</span> <span class="hljs-selector-tag">-create</span> <span class="hljs-selector-tag">a</span>架构二进制文件 <span class="hljs-selector-tag">b</span>架构二进制文件 <span class="hljs-selector-tag">-output</span> 合并后的二进制文件
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-24">App Extension 用动态库替代静态库</h3>
<p>用动态库会减小二进制文件的体积，但会增加启动时间，增加了运行时载入的过程，并且依赖外部环境，需多方面考虑。</p>
<h3 data-id="heading-25">慎重引入第三方库</h3>
<ul>
<li>不要用引入功能重复的第三库，例如 YYModel 和 JSONModel、AFNetworking 和 MKNetworkingKt。</li>
<li>充分考虑引入的必要型，避免”因小引大“，例如只是需要 JSON 转模型功能而引入了整个 YYKit，更好的方式应该是将使用的部分抽离出来。</li>
</ul>
<h3 data-id="heading-26">H5本地资源优化（只保留主页面）</h3>
<p>项目中有离线资源包，可考虑只保留主页面的代码和资源，通过增量更新的方式，启动后再进行其余离线包的下载。</p>
<h2 data-id="heading-27">总结</h2>
<p>在实际项目瘦身过程中，上面列举的方式不一定都适用。例如当项目具有动态化，许多类和方法都不会在代码中直接产生引用，而可能是通过接口方式下发数据来使用，如果没有配置表会容易产生误删。我们应该怀着敬畏之心，宁可多花点时间，避免误操作，毕竟瘦身虽可贵，安全价更高...</p>
<h3 data-id="heading-28">工具汇总</h3>
<ul>
<li>无用图片检测：<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Ftinymind%2FLSUnusedResources" target="_blank" title="https://github.com/tinymind/LSUnusedResources" ref="nofollow noopener noreferrer">LSUnusedResources</a></li>
<li>图片压缩：<a href="https://link.juejin.cn/?target=https%3A%2F%2Fimageoptim.com%2Fmac" target="_blank" title="https://imageoptim.com/mac" ref="nofollow noopener noreferrer">ImageOptim</a>、<a href="https://link.juejin.cn/?target=https%3A%2F%2Fpngquant.org" target="_blank" title="https://pngquant.org" ref="nofollow noopener noreferrer">pngquant命令</a>、<a href="https://link.juejin.cn/?target=https%3A%2F%2Ftinypng.com%2F" target="_blank" title="https://tinypng.com/" ref="nofollow noopener noreferrer">tinypng</a>、<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdevelopers.google.com%2Fspeed%2Fwebp%2F" target="_blank" title="https://developers.google.com/speed/webp/" ref="nofollow noopener noreferrer">Webp</a></li>
<li>重复文件检测：<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fadrianlopezroche%2Ffdupes" target="_blank" title="https://github.com/adrianlopezroche/fdupes" ref="nofollow noopener noreferrer">fdupes</a></li>
<li>查看Mach-O内容：<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fgdbinit%2FMachOView" target="_blank" title="https://github.com/gdbinit/MachOView" ref="nofollow noopener noreferrer">MachOView</a></li>
<li>静态检测代码：LinkMap结合Mach-O 或 Appcode静态检测</li>
<li>重复代码检测：<a href="https://link.juejin.cn/?target=https%3A%2F%2Fpmd.github.io%2F" target="_blank" title="https://pmd.github.io/" ref="nofollow noopener noreferrer">PMD</a></li>
</ul>
<h3 data-id="heading-29">参考资料</h3>
<ul>
<li><a href="https://link.juejin.cn/?target=https%3A%2F%2Ftime.geekbang.org%2Fcolumn%2Farticle%2F88573%3Futm_source%3Dweb%26utm_medium%3Dpinpaizhuanqu%26utm_campaign%3Dbaidu%26utm_term%3Dpinpaizhuanqu%26utm_content%3D0427" target="_blank" title="https://time.geekbang.org/column/article/88573?utm_source=web&amp;utm_medium=pinpaizhuanqu&amp;utm_campaign=baidu&amp;utm_term=pinpaizhuanqu&amp;utm_content=0427" ref="nofollow noopener noreferrer">包大小：如何从资源和代码层面实现全方位瘦身？</a></li>
<li><a href="https://link.juejin.cn/?target=http%3A%2F%2Flingyuncxb.com%2F2019%2F04%2F14%2FHumbleAssetCatalog%2F" target="_blank" title="http://lingyuncxb.com/2019/04/14/HumbleAssetCatalog/" ref="nofollow noopener noreferrer">Humble Assets Catalog</a></li>
<li><a href="https://link.juejin.cn/?target=https%3A%2F%2Fblog.csdn.net%2Fu014220518%2Farticle%2Fdetails%2F79725478" target="_blank" title="https://blog.csdn.net/u014220518/article/details/79725478" ref="nofollow noopener noreferrer">iOS-APP包的瘦身之旅（从116M到现在的36M的减肥之路）_移动开发_ZFJ_张福杰-CSDN博客</a></li>
<li><a href="https://juejin.cn/post/6844903845340921869" target="_blank" title="https://juejin.cn/post/6844903845340921869">iOS 瘦身之道</a></li>
<li><a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.infoq.cn%2Farticle%2Fios-thinning-delete-unnecessary-mach-o%2F" target="_blank" title="https://www.infoq.cn/article/ios-thinning-delete-unnecessary-mach-o/" ref="nofollow noopener noreferrer">删除 FrameWork 中无用 mach-O 文件</a></li>
<li><a href="https://link.juejin.cn/?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzAwNDY1ODY2OQ%3D%3D%26mid%3D207986417%26idx%3D1%26sn%3D77ea7d8e4f8ab7b59111e78c86ccfe66%26scene%3D24%26srcid%3D0921TTAXHGHWKqckEHTvGzoA%23rd" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzAwNDY1ODY2OQ==&amp;mid=207986417&amp;idx=1&amp;sn=77ea7d8e4f8ab7b59111e78c86ccfe66&amp;scene=24&amp;srcid=0921TTAXHGHWKqckEHTvGzoA#rd" ref="nofollow noopener noreferrer">iOS微信安装包瘦身</a></li>
</ul>
<h3 data-id="heading-30">优化系列其它文章</h3>
<ul>
<li><a href="https://juejin.cn/post/6844904127068110862" target="_blank" title="https://juejin.cn/post/6844904127068110862">深入探索 iOS 启动速度优化</a></li>
<li><a href="https://juejin.cn/post/6844904121896534024" target="_blank" title="https://juejin.cn/post/6844904121896534024">深入探索 iOS 启动速度优化（二进制重排）</a></li>
</ul></div></div></article> <!----> <div class="article-end" data-v-4b9f9746="" data-v-5e54ac6e=""><div class="tag-list-box" data-v-4b9f9746="" data-v-5e54ac6e=""><div class="tag-list" data-v-4b9f9746="" data-v-5e54ac6e=""><div class="tag-list-title" data-v-4b9f9746="" data-v-5e54ac6e="">分类：</div> <a href="https://juejin.cn/ios" target="_blank" rel="" class="item category-item" data-v-5e54ac6e="" data-v-4b9f9746=""><span class="tag-title" data-v-5e54ac6e="">iOS</span></a></div> <div class="tag-list" data-v-4b9f9746="" data-v-5e54ac6e=""><div class="tag-list-title" data-v-4b9f9746="" data-v-5e54ac6e="">标签：</div> <div class="tag-list-container" data-v-4b9f9746="" data-v-5e54ac6e=""><a href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="item tag-item" data-v-5e54ac6e="" data-v-4b9f9746=""><span class="tag-title" data-v-5e54ac6e="">性能优化</span></a></div></div></div> <!----> <div data-fetch-key="1" class="extension-banner" data-v-224127ff="" data-v-5e54ac6e="" data-v-4b9f9746=""><span class="banner-icon" data-v-224127ff=""></span> <div class="banner-wrapper" data-v-224127ff=""><a class="banner-title" data-v-224127ff="" href="https://juejin.cn/extension/?utm_source=standalone&amp;utm_medium=post&amp;utm_campaign=extension_promotion" target="_blank">
      安装掘金浏览器插件
    </a> <div class="banner-content" data-v-224127ff="">多内容聚合浏览、多引擎快捷搜索、多工具便捷提效、多模式随心畅享，你想要的，这里都有！</div></div> <a class="banner-action" data-v-224127ff="" href="https://juejin.cn/extension/?utm_source=standalone&amp;utm_medium=post&amp;utm_campaign=extension_promotion" target="_blank">前往安装</a></div></div> <!----> <!----> <div data-v-219ad420="" data-v-5e54ac6e="" data-jj-helper="comment-container" class="container comment-list-box" id="comment-box" data-v-4b9f9746=""><div data-v-6878e559="" data-v-219ad420="" class="comment-form"><div data-v-6878e559="" class="header"><span data-v-6878e559="" class="header-title">评论</span></div><div data-v-6878e559="" class="content"><div data-v-6878e559="" class="avatar-box"><img data-v-248050e4="" data-v-47508ed8="" data-v-6878e559="" src="./深入探索 iOS 包体积优化 - 掘金_files/3044413937_100x100.awebp" alt="" class="lazy avatar avatar" loading="lazy"></div><div data-v-6878e559="" class="form-box"><div data-v-7c7c7498="" data-v-6878e559="" class="auth-card"><!----> <div data-v-6878e559="" data-v-7c7c7498="" class="input-box"><div data-v-6878e559="" data-v-7c7c7498="" contenteditable="true" spellcheck="false" placeholder="输入评论（Enter换行，⌘ + Enter发送）" disabled="disabled" class="rich-input empty"></div><!----><!----></div></div><div data-v-6878e559="" class="action-box"><div data-v-9fe533ba="" data-v-6878e559="" class="emoji-container emoji-btn" style="display: none;"><div data-v-9fe533ba="" class="emoji-box"><svg data-v-9fe533ba="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon"><path data-v-9fe533ba="" fill-rule="evenodd" clip-rule="evenodd" d="M8.00002 0.666504C12.0501 0.666504 15.3334 3.94975 15.3334 7.99984C15.3334 12.0499 12.0501 15.3332 8.00002 15.3332C3.94993 15.3332 0.666687 12.0499 0.666687 7.99984C0.666687 3.94975 3.94993 0.666504 8.00002 0.666504ZM8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2ZM10.6667 5.66667V7.66667H9.33333V5.66667H10.6667ZM6.66667 5.66667V7.66667H5.33333V5.66667H6.66667ZM10.0767 9.33333H11.0495C11.1804 9.33333 11.2866 9.43951 11.2866 9.57048C11.2866 9.60754 11.2779 9.64409 11.2612 9.67718L11.244 9.71053C10.6294 10.8739 9.40726 11.6667 7.99998 11.6667C6.61523 11.6667 5.40977 10.8991 4.7859 9.76612L4.73786 9.67593C4.67845 9.56052 4.72385 9.4188 4.83926 9.35939C4.87253 9.34226 4.90941 9.33333 4.94683 9.33333H5.92347C6.02396 9.33332 6.11908 9.37865 6.18238 9.4567C6.26207 9.55496 6.32833 9.62955 6.38117 9.68046C6.80074 10.0847 7.37133 10.3333 7.99998 10.3333C8.63289 10.3333 9.20694 10.0814 9.62728 9.67224C9.67791 9.62296 9.74135 9.55121 9.8176 9.45698C9.88089 9.37877 9.97611 9.33333 10.0767 9.33333Z"></path></svg> <span data-v-9fe533ba="">表情</span></div> <!----></div><div data-v-6878e559="" class="image-btn" style="display: none;"><svg data-v-6878e559="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon"><path data-v-6878e559="" fill-rule="evenodd" clip-rule="evenodd" d="M14 1.3335C14.3514 1.3335 14.6394 1.60546 14.6648 1.95041L14.6666 2.00016V14.0002C14.6666 14.3516 14.3947 14.6396 14.0497 14.665L14 14.6668H1.99998C1.64853 14.6668 1.36059 14.3949 1.33514 14.0499L1.33331 14.0002V2.00016C1.33331 1.64871 1.60527 1.36077 1.95023 1.33532L1.99998 1.3335H14ZM13.3333 2.66618H2.66664V13.3328H13.3333V2.66618ZM11.9219 6.7879C11.9719 6.83791 12 6.90574 12 6.97647V11.7993C12 11.9098 11.9104 11.9993 11.8 11.9993H6.81615C6.7975 11.9993 6.77945 11.9968 6.76232 11.992L3.91042 11.9847C3.79996 11.9844 3.71063 11.8947 3.7109 11.7842C3.71102 11.7313 3.73209 11.6807 3.76948 11.6433L6.52468 8.88807C6.62882 8.78393 6.79766 8.78393 6.9018 8.88807L8.17297 10.1593L11.5447 6.7879C11.6489 6.68376 11.8177 6.68376 11.9219 6.7879ZM5.99997 3.99951V5.99951H3.99997V3.99951H5.99997Z"></path></svg><span data-v-6878e559="">图片</span></div><div data-v-6878e559="" class="submit" style="display: none;"><span data-v-6878e559="">⌘ + Enter</span><button data-v-6878e559="" disabled="disabled" class="submit-btn">发表评论</button></div></div></div><input data-v-6878e559="" type="file" class="hidden"></div></div> <!----> <!----></div> <div data-v-1b688d7c="" data-v-5e54ac6e="" class="action-box action-bar" data-v-4b9f9746=""><div data-v-1b688d7c="" class="praise-action action"><div data-v-1b688d7c="" class="action-title-box"><img data-v-1b688d7c="" src="./深入探索 iOS 包体积优化 - 掘金_files/00ba359ecd0075e59ffbc3d810af551d.svg"> <span data-v-1b688d7c="" class="action-title">
          29
        </span></div></div> <div data-v-1b688d7c="" class="comment-action action"><div data-v-1b688d7c="" class="action-title-box"><img data-v-1b688d7c="" src="./深入探索 iOS 包体积优化 - 掘金_files/336af4d1fafabcca3b770c8ad7a50781.svg"> <span data-v-1b688d7c="" class="action-title">评论</span></div></div> <div data-v-1b688d7c="" class="collect-action action"><div data-v-1b688d7c="" class="action-title-box"><img data-v-1b688d7c="" src="./深入探索 iOS 包体积优化 - 掘金_files/3d482c7a948bac826e155953b2a28a9e.svg"> <span data-v-1b688d7c="" class="action-title">收藏</span></div></div> <!----></div></div> <div data-v-5e54ac6e="" data-v-4b9f9746="" class="main-area recommended-area shadow"><div data-v-5e54ac6e="" data-v-4b9f9746="" class="recommended-list-title-wrapper"><div data-v-5e54ac6e="" data-v-4b9f9746="" class="title"><span data-v-5e54ac6e="" data-v-4b9f9746="" class="title-content">相关推荐</span></div></div> <div data-v-3ff8f708="" data-v-57c9777c="" data-v-5e54ac6e="" name="entry-list" tag="div" class="entry-list list recommended-entry-list" data-v-4b9f9746=""><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7068899096232198157" data-original-type="0" data-draft-id="7066358418696568839" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/3869892066424887" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        LinZM
      </div></a> <div data-v-7fc52684="" class="date">1年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F" target="_blank" rel="" class="tag">
        微信小程序
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7068899096232198157" target="_blank" rel="" title="记一次微信小程序echarts体积太大的优化过程" class="title">记一次微信小程序echarts体积太大的优化过程</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7068899096232198157" target="_blank" rel=""><div data-v-7fc52684="">记一次echarts体积优化的过程，由自定义构建减小体积，到分包，到最后采用了we-script+js外链使用。也指出了在npm安装ec-canvas下可能会页面卡死的情况，最后展示了成果</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1958</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            15
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            20
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/41a91e4a725847a9a30f2a1c8926136c_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="记一次微信小程序echarts体积太大的优化过程" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7094083986334433317" data-original-type="0" data-draft-id="7093810601150906404" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/2049145404143848" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        Caij
      </div></a> <div data-v-7fc52684="" class="date">10月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/Android" target="_blank" rel="" class="tag">
        Android
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7094083986334433317" target="_blank" rel="" title="阿里某淘Android体积优化方案(下)" class="title">阿里某淘Android体积优化方案(下)</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7094083986334433317" target="_blank" rel=""><div data-v-7fc52684="">简介 上一章我们介绍Dex的优化方案，本章主要介绍资源文件的优化方案。 1 无用资源移除......</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">3646</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            40
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            5
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7088897451725160461" data-original-type="0" data-draft-id="7088687673107283998" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/1882007127197694" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        有道AI情报局
      </div></a> <div data-v-7fc52684="" class="date">10月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/Groovy" target="_blank" rel="" class="tag">
        Groovy
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7088897451725160461" target="_blank" rel="" title="有道词典Android客户端包体积优化之路" class="title">有道词典Android客户端包体积优化之路</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7088897451725160461" target="_blank" rel=""><div data-v-7fc52684="">本文主要介绍了包体积包含的内容以及优化方法，分析了技术实现的具体细节，在接下来的工作中，我们会对启动速度、安装包体积以及内存占用等多方面进行持续优化，欢迎大家关注！</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1119</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            2
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            评论
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/f5c6a76631fa4e4fa74f7441b654db94_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="有道词典Android客户端包体积优化之路" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7179230851853451323" data-original-type="0" data-draft-id="7179227427330064440" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/2752832844861800" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        小木箱
      </div></a> <div data-v-7fc52684="" class="date">2月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/Android" target="_blank" rel="" class="tag">
        Android
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7179230851853451323" target="_blank" rel="" title="包体积优化 · 实战论 · 怎么做包体积优化? 做好能晋升吗? 能涨多少钱?" class="title">包体积优化 · 实战论 · 怎么做包体积优化? 做好能晋升吗? 能涨多少钱?</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7179230851853451323" target="_blank" rel=""><div data-v-7fc52684="">一、引言 Hello，我是小木箱，欢迎来到小木箱成长营系列教程，今天将分享Android性能优化 · 实战论 · 怎么做包体优化? 做好能晋升吗? 能涨多少钱? 上一次分享，小木箱从三个维度将Andr</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">2530</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            23
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            7
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/151915e643c340749c355ef3ac2efbc3_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="包体积优化 · 实战论 · 怎么做包体积优化? 做好能晋升吗? 能涨多少钱?" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7070013197054394399" data-original-type="0" data-draft-id="7070008095186878478" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/4186596000416094" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        百度Geek说
      </div></a> <div data-v-7fc52684="" class="date">1年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%90%8E%E7%AB%AF" target="_blank" rel="" class="tag">
        后端
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%9E%B6%E6%9E%84" target="_blank" rel="" class="tag">
        架构
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7070013197054394399" target="_blank" rel="" title="Android包体积优化上篇- 资源混淆优化" class="title">Android包体积优化上篇- 资源混淆优化</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7070013197054394399" target="_blank" rel=""><div data-v-7fc52684="">什么时候进行包体积优化？一般在app初创期时，由于业务代码较少，包体积也不大，相应这个时候对包体积的优化收益也较少。当业务逐渐成熟功能，迭代逐渐变多，包体积也会逐渐增加。 增加包体积主要影响如下</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">883</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            3
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            评论
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/f42a8cdb16d14139a6c15c101ee2d6cf_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="Android包体积优化上篇- 资源混淆优化" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7188894691356573754" data-original-type="0" data-draft-id="7187224068548984869" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/2594503172831208" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        海阔_天空
      </div></a> <div data-v-7fc52684="" class="date">1月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/Vue.js" target="_blank" rel="" class="tag">
        Vue.js
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7188894691356573754" target="_blank" rel="" title="前端性能优化——首页资源压缩63%、白屏时间缩短86%" class="title">前端性能优化——首页资源压缩63%、白屏时间缩短86%</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7188894691356573754" target="_blank" rel=""><div data-v-7fc52684="">提升首屏的加载速度，是前端性能优化中最重要的环节，这里笔者梳理出一些 `常规且有效` 的首屏优化建议 通过对比优化前后的性能变化，来验证方案的有效性，了解并掌握其原理</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">4.4w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            1217
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            97
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/baf9043e819f418f9b09bd458d05f063_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="前端性能优化——首页资源压缩63%、白屏时间缩短86%" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6983565413833506852" data-original-type="0" data-draft-id="6983182640778051620" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/4494459266151869" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        Lillian
      </div></a> <div data-v-7fc52684="" class="date">1年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/Webpack" target="_blank" rel="" class="tag">
        Webpack
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/6983565413833506852" target="_blank" rel="" title="webpack 通用配置及构建速度，体积优化" class="title">webpack 通用配置及构建速度，体积优化</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/6983565413833506852" target="_blank" rel=""><div data-v-7fc52684="">webpack基本配置，修改代码，自动编译，热更新，文件指纹，代码压缩，webpack 通用配置及构建速度，体积优化，多页面应用，source map 定位源代码，webpack打包组件库，</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1006</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            10
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            评论
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/555a32c73e7f4c2f997f7818b13a7d84_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="webpack 通用配置及构建速度，体积优化" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7028742781807886344" data-original-type="0" data-draft-id="7026693093264982046" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/1239904846637928" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        叶秋主
      </div></a> <div data-v-7fc52684="" class="date">1年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7028742781807886344" target="_blank" rel="" title="iOS开发中Mach-O的体积优化" class="title">iOS开发中Mach-O的体积优化</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7028742781807886344" target="_blank" rel=""><div data-v-7fc52684="">这是我参与11月更文挑战的第10天，活动详情查看：2021最后一次更文挑战。 Mach-O体积优化 什么是Bitcode？英文原意是： Bitcode是编译后生成汇编之前的中间表现： 底层的编译流程如</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1073</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            2
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            1
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7085722155584847903" data-original-type="0" data-draft-id="7084464475926953991" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/1556564197771064" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        炫彩一词
      </div></a> <div data-v-7fc52684="" class="date">10月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7085722155584847903" target="_blank" rel="" title="性能优化-构建产物体积优化" class="title">性能优化-构建产物体积优化</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7085722155584847903" target="_blank" rel=""><div data-v-7fc52684="">什么是性能优化？我相信很多人都没有想过这样一个问题？所谓的性能优化其实就是指在保持系统稳定的情况下，使功能更快速完成，交互更友好。 那怎么去做性能优化?</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">287</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            4
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            评论
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7133395389482270756" data-original-type="0" data-draft-id="7133387641558401031" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/2101921963314535" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        bigtree
      </div></a> <div data-v-7fc52684="" class="date">6月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/JavaScript" target="_blank" rel="" class="tag">
        JavaScript
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7133395389482270756" target="_blank" rel="" title="性能优化之不可忽视的sourcemap体积" class="title">性能优化之不可忽视的sourcemap体积</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7133395389482270756" target="_blank" rel=""><div data-v-7fc52684="">性能优化之不可忽视的sourcemap体积，sourcemap对js包的体积影响非常大，在做性能优化时需注意。如何确定js内是否有sourcemap？webpack默认会加上sourcemap吗？</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1171</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            1
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            4
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/dceb2731d4014524add4f4d8121776c4_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="性能优化之不可忽视的sourcemap体积" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7186315052465520698" data-original-type="0" data-draft-id="7185849636043620410" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/2594503172831208" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        海阔_天空
      </div></a> <div data-v-7fc52684="" class="date">1月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/Vue.js" target="_blank" rel="" class="tag">
        Vue.js
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7186315052465520698" target="_blank" rel="" title="前端性能优化——包体积压缩82%、打包速度提升65%" class="title">前端性能优化——包体积压缩82%、打包速度提升65%</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7186315052465520698" target="_blank" rel=""><div data-v-7fc52684="">压缩项目打包后的体积大小、提升打包速度，是前端性能优化中非常重要的环节，笔者结合工作中的实践总结，梳理出一些常规且有效的性能优化建议</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">3.6w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            609
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            80
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/cb09fa529d1142959d5c7548c9449dc3_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="前端性能优化——包体积压缩82%、打包速度提升65%" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844904174937718792" data-original-type="0" data-draft-id="6845076802088468493" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/1116759543260333" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        老骥farmer
      </div></a> <div data-v-7fc52684="" class="date">2年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/6844904174937718792" target="_blank" rel="" title="webpack优化解决项目体积大、打包时间长、刷新时间长问题！" class="title">webpack优化解决项目体积大、打包时间长、刷新时间长问题！</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/6844904174937718792" target="_blank" rel=""><div data-v-7fc52684="">在项目中，如果发现脚手架打包缓慢，体积又臭又大，那么，升级技术环境是提升的最快方式，比如node环境，比如升级脚手架版本，效果会有显著提升，而且是最廉价的优化方式。 首先当我们取用esmodel去引用jquery的时候npm搜索会先从当前目录的node_modules中找，找不…</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1.7w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            202
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            25
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7051490517346943007" data-original-type="0" data-draft-id="7047432396253167652" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/1714893869298349" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        未闻花名温温
      </div></a> <div data-v-7fc52684="" class="date">1年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7051490517346943007" target="_blank" rel="" title="React-native 包体积优化" class="title">React-native 包体积优化</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7051490517346943007" target="_blank" rel=""><div data-v-7fc52684="">开发过 React-native 的同学们应该都知道，客户端运行RN代码，主要是运行RN打包后生成的 bundle 文件，以及一些静态图片资源。本文将从这两点展开优化。 我们先来了解下React-na</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1139</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            4
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            1
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7117774868187185188" data-original-type="0" data-draft-id="7117641412698439717" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/3597257778926973" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        小羽同学
      </div></a> <div data-v-7fc52684="" class="date">7月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7117774868187185188" target="_blank" rel="" title="项目没亮点？那就来学下web worker吧~" class="title">项目没亮点？那就来学下web worker吧~</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7117774868187185188" target="_blank" rel=""><div data-v-7fc52684="">小伙伴们经常说在日常的项目开发中，都是单纯的搬砖，没啥亮点嘛，那还等什么？一起来学下web worker吧</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1.0w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            241
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            50
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/10fc41eda1e24d428067829f1181c984_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="项目没亮点？那就来学下web worker吧~" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7121323745980973070" data-original-type="0" data-draft-id="7120887721765290014" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/976022056736765" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        ndz
      </div></a> <div data-v-7fc52684="" class="date">7月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7121323745980973070" target="_blank" rel="" title="老板让你做性能优化，第一步你应该做什么？🔥🔥" class="title">老板让你做性能优化，第一步你应该做什么？🔥🔥</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7121323745980973070" target="_blank" rel=""><div data-v-7fc52684="">老板让你做性能优化，第一步你应该做什么？想做好网页性能优化，首先需要先定义好性能指标。性能指标才是做好性能优化的第一步。</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">3.4w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            437
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            134
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/f4eb2dd7a48d4cb9adffb15e558c598a_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="老板让你做性能优化，第一步你应该做什么？🔥🔥" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7185101900303728695" data-original-type="0" data-draft-id="7185072236322095164" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/3359704427793181" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        移动端小伙伴
      </div></a> <div data-v-7fc52684="" class="date">1月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7185101900303728695" target="_blank" rel="" title="iOS 包体积优化5 - 编译优化" class="title">iOS 包体积优化5 - 编译优化</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7185101900303728695" target="_blank" rel=""><div data-v-7fc52684="">iOS包体积优化的系列文章，其中包括： iOS 包体积优化1 - 总览 iOS 包体积优化2 - 如何分析ipa包？ iOS 包体积优化3 - 代码管理 iOS 包体积优化4 - 资源管理 iOS 包</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">7661</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            16
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            评论
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/e97abb88cf044d16b59ed1d539943ac9_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="iOS 包体积优化5 - 编译优化" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7177195746272215098" data-original-type="0" data-draft-id="7177193791588139068" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/2752832844861800" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        小木箱
      </div></a> <div data-v-7fc52684="" class="date">2月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/Java" target="_blank" rel="" class="tag">
        Java
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7177195746272215098" target="_blank" rel="" title="包体积优化 · 方法论 · 揭开包体积优化神秘面纱" class="title">包体积优化 · 方法论 · 揭开包体积优化神秘面纱</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7177195746272215098" target="_blank" rel=""><div data-v-7fc52684="">一、引言 Hello，我是小木箱，欢迎来到小木箱成长营系列教程，今天将分享Android性能优化 · 方法论 · 揭开包体优化神秘面纱。 上一次分享我们说了三个部分内容，第一部分内容是业务问题和挑战。</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">2045</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            16
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            6
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/5878bb3429424a04b68ec53807a83655_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="包体积优化 · 方法论 · 揭开包体积优化神秘面纱" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6909827134899486734" data-original-type="0" data-draft-id="6909826782405328910" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/2700056288829879" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        塔希
      </div></a> <div data-v-7fc52684="" class="date">2年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6" target="_blank" rel="" class="tag">
        前端框架
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/6909827134899486734" target="_blank" rel="" title="Svelte 框架体积优势有多大？" class="title">Svelte 框架体积优势有多大？</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/6909827134899486734" target="_blank" rel=""><div data-v-7fc52684="">Svelte 是一个新的前端框架，由 rollup 的作者编写。其口号——编译器即框架，核心思想在在于 编译期 做静态分析， 按需生成 最小的功能集来减少打包后代码体积。Svelte 的另一个特点是没有采用现在框架流行的虚拟 DOM 架构，而是直接编译生成最小操作 DOM 的代…</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">2933</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            10
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            6
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7081453829375393823" data-original-type="0" data-draft-id="7081433158863814663" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/3263006241460792" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        Burt
      </div></a> <div data-v-7fc52684="" class="date">11月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/Webpack" target="_blank" rel="" class="tag">
        Webpack
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7081453829375393823" target="_blank" rel="" title="UMI 配置优化 - 优化打包体积，提高打包速度、提高热更新速度etc" class="title">UMI 配置优化 - 优化打包体积，提高打包速度、提高热更新速度etc</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7081453829375393823" target="_blank" rel=""><div data-v-7fc52684="">UMI 配置优化 - 提高打包速度、提高开发速度、减少打包体积 项目越来越大，打包后的体积很大，打包时间也很长；开发时每次运行也需要很久，随便改动一个地方都要等2分钟以上才能看到效果（热更新太慢）。</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">3885</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            28
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            19
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6970972459885395982" data-original-type="0" data-draft-id="6970965496413814814" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/264345020283550" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        hyman
      </div></a> <div data-v-7fc52684="" class="date">1年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/6970972459885395982" target="_blank" rel="" title="微信小程序体积优化" class="title">微信小程序体积优化</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/6970972459885395982" target="_blank" rel=""><div data-v-7fc52684="">要解决的问题 微信小程序现在对体积有限制， 整个小程序所有分包大小不超过 20M 单个分包/主包大小不能超过 2M 在开发大型项目的时候，大家可以参考下面几项 对应的建议 静态资源上cdn 把静态资源</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">2048</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            8
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            评论
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7105910276448321573" data-original-type="0" data-draft-id="7105909910923116574" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/3509296845313741" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        美团技术团队
      </div></a> <div data-v-7fc52684="" class="date">8月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/Android" target="_blank" rel="" class="tag">
        Android
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7105910276448321573" target="_blank" rel="" title="Android对so体积优化的探索与实践" class="title">Android对so体积优化的探索与实践</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7105910276448321573" target="_blank" rel=""><div data-v-7fc52684="">减小应用安装包的体积，对提升用户体验和下载转化率都大有益处。本文将结合美团平台的实践经验，分享 so 体积优化的思路、收益，以及工程实践中的注意事项。</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1559</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            14
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            1
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/14bd24ad312c4f9bbea7758c7a6ff91b_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="Android对so体积优化的探索与实践" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844904014170030087" data-original-type="0" data-draft-id="6845076565877850126" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/1838039172387262" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        字节跳动技术团队
      </div></a> <div data-v-7fc52684="" class="date">3年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/Flutter" target="_blank" rel="" class="tag">
        Flutter
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/6844904014170030087" target="_blank" rel="" title="如何缩减接近 50% 的 Flutter 包体积 | Flutter 沙龙回顾" class="title">如何缩减接近 50% 的 Flutter 包体积 | Flutter 沙龙回顾</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/6844904014170030087" target="_blank" rel=""><div data-v-7fc52684="">11 月 23 日，字节跳动技术沙龙 | Flutter 技术专场 在北京后山艺术空间圆满结束。我们邀请到字节跳动移动平台部 Flutter 架构师袁辉辉，Google Flutter 团队工程师 Justin McCandless，字节跳动移动平台部 Flutter 资深工程…</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1.5w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            146
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            13
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/16ed4c113fb31a58_tplv-t2oaga2asx-no-mark_300_300_300_200.awebp" alt="如何缩减接近 50% 的 Flutter 包体积 | Flutter 沙龙回顾" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7118782372220567566" data-original-type="0" data-draft-id="7117080348546039815" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/2356955247553678" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        Escape
      </div></a> <div data-v-7fc52684="" class="date">7月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%9E%B6%E6%9E%84" target="_blank" rel="" class="tag">
        架构
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7118782372220567566" target="_blank" rel="" title="分包王！🧨优化项目体积减少20%！" class="title">分包王！🧨优化项目体积减少20%！</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7118782372220567566" target="_blank" rel=""><div data-v-7fc52684="">故事背景是入职不久后被领导喊去优化基建相关的事，从上一篇面试篇知道，入职不久后主管丢给我一个表格，上面列了四五条，都是当前项目存在的一些问题，让我看看有哪些可以去解决掉，一眼就瞅到了一个语言包优化。</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">8894</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            200
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            41
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/bfa65eb6735a44d9b8afcc28f18068db_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="分包王！🧨优化项目体积减少20%！" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6919638463168020488" data-original-type="0" data-draft-id="6919391617623261191" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/2770425031438440" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        孤猎
      </div></a> <div data-v-7fc52684="" class="date">2年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/Vue.js" target="_blank" rel="" class="tag">
        Vue.js
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/6919638463168020488" target="_blank" rel="" title="让你的vue项目体积更小点，打包速度更快点" class="title">让你的vue项目体积更小点，打包速度更快点</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/6919638463168020488" target="_blank" rel=""><div data-v-7fc52684="">以上是笔者平时针对自己项目或者公司项目累积的一点vue项目打包优化知识，也许你有更好的优化点，或者更好的优化方案，欢迎提供案例，学习学习。</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1.7w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            316
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            47
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/b6a863125b334b5ab4c484370e6d88e5_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="让你的vue项目体积更小点，打包速度更快点" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6885144933997494280" data-original-type="0" data-draft-id="6884092782839857165" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/1838039172387262" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        字节跳动技术团队
      </div></a> <div data-v-7fc52684="" class="date">2年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/6885144933997494280" target="_blank" rel="" title="iOS 性能优化实践：头条抖音如何实现 OOM 崩溃率下降50%+" class="title">iOS 性能优化实践：头条抖音如何实现 OOM 崩溃率下降50%+</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/6885144933997494280" target="_blank" rel=""><div data-v-7fc52684="">OOM 其实是Out Of Memory的简称，指的是在 iOS 设备上当前应用因为内存占用过高而被操作系统强制终止，在用户侧的感知就是 App 一瞬间的闪退，与普通的 Crash 没有明显差异。但是当我们在调试阶段遇到这种崩溃的时候，从设备设置-&gt;隐私-&gt;分析与改进中是找不到…</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1.5w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            148
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            14
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/54022a231ea947d2a3578d9c846ae75c_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="iOS 性能优化实践：头条抖音如何实现 OOM 崩溃率下降50%+" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7136453274948861983" data-original-type="0" data-draft-id="7136101393038835743" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/1838039170555800" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        程序员摩根
      </div></a> <div data-v-7fc52684="" class="date">6月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/Vue.js" target="_blank" rel="" class="tag">
        Vue.js
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E9%9D%A2%E8%AF%95" target="_blank" rel="" class="tag">
        面试
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7136453274948861983" target="_blank" rel="" title="如何通过性能优化，将包的体积压缩了62.7%" class="title">如何通过性能优化，将包的体积压缩了62.7%</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7136453274948861983" target="_blank" rel=""><div data-v-7fc52684="">今天前同事找到我，向我请教了一个性能优化的问题，我简单的跟他回答了一下例如组件懒加载、路由懒加载、开启gzip、公共的第三方包上cdn、还有基础的雅虎53条军规一条条排查等等......</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1.1w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            137
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            35
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/58d35b7b43c3466b878af316123ce897_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="如何通过性能优化，将包的体积压缩了62.7%" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844903592898330638" data-original-type="1" data-draft-id="0" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/1063982985654685" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        shawnchenxmu
      </div></a> <div data-v-7fc52684="" class="date">4年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/6844903592898330638" target="_blank" rel="" title="防抖和节流" class="title">防抖和节流</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/6844903592898330638" target="_blank" rel=""><div data-v-7fc52684="">浏览器的 resize、scroll、keypress、mousemove 等事件在触发时，会不断地调用绑定在事件上的回调函数，极大地浪费资源，降低前端性能。为了优化体验，需要对这类事件进行调用次数的限制。 作用是在短时间内多次触发同一个函数，只执行最后一次，或者只在开始时执行…</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1.7w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            228
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            4
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844904184689475592" data-original-type="0" data-draft-id="6845076816537845774" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/3808363978429613" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        徐小夕
      </div></a> <div data-v-7fc52684="" class="date">2年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/JavaScript" target="_blank" rel="" class="tag">
        JavaScript
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/6844904184689475592" target="_blank" rel="" title="当后端一次性丢给你10万条数据, 作为前端工程师的你,要怎么处理?" class="title">当后端一次性丢给你10万条数据, 作为前端工程师的你,要怎么处理?</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/6844904184689475592" target="_blank" rel=""><div data-v-7fc52684="">前段时间有朋友问我一个他们公司遇到的问题, 说是后端由于某种原因没有实现分页功能, 所以一次性返回了2万条数据,让前端用select组件展示到用户界面里. 我听完之后立马明白了他的困惑, 如果通过硬编码的方式去直接渲染这两万条数据到select中,肯定会卡死. 后面他还说需要支…</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">9.1w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            1070
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            288
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/17299405366ecc5c_tplv-t2oaga2asx-no-mark_300_300_300_200.awebp" alt="当后端一次性丢给你10万条数据, 作为前端工程师的你,要怎么处理?" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7112359594717872164" data-original-type="0" data-draft-id="7112357551542861832" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/3452921774353399" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        liu_mou
      </div></a> <div data-v-7fc52684="" class="date">8月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7112359594717872164" target="_blank" rel="" title="前端项目打包体积优化" class="title">前端项目打包体积优化</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7112359594717872164" target="_blank" rel=""><div data-v-7fc52684="">项目部署 项目部署后个人用户购买的云服务器的带宽通常只有 1M~2M。若是生成的资源文件体积过大会导致加载缓慢。没有使用 gzip 时文件大小为 2M 左右，以 1M 的带宽 128kb/s 加载时长</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1397</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            15
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            5
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7127910952162295822" data-original-type="0" data-draft-id="7127898345892216863" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/4186596000416094" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        百度Geek说
      </div></a> <div data-v-7fc52684="" class="date">7月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/Android" target="_blank" rel="" class="tag">
        Android
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7127910952162295822" target="_blank" rel="" title="百度APP Android包体积优化实践（三）资源优化" class="title">百度APP Android包体积优化实践（三）资源优化</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7127910952162295822" target="_blank" rel=""><div data-v-7fc52684="">百度APP Android包体积优化实践系列文章的前两篇分别介绍了体积优化的整体方案和Dex行号优化的具体内容。本文主要介绍了百度APP资源优化方案，其中重点讲述了在资源路径和资源名方面的优化。</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">2247</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            18
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            1
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7121938110585241630" data-original-type="0" data-draft-id="7121916364730269726" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/4186596000416094" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        百度Geek说
      </div></a> <div data-v-7fc52684="" class="date">7月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/Java" target="_blank" rel="" class="tag">
        Java
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7121938110585241630" target="_blank" rel="" title="百度APP Android包体积优化实践（一）总览" class="title">百度APP Android包体积优化实践（一）总览</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7121938110585241630" target="_blank" rel=""><div data-v-7fc52684="">本文主要介绍了百度APP 包体积优化的基本思路，解构了优化对象，介绍了现有优化工具，最后简单介绍了百度APP 具体实践的优化项及收益。</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1339</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            7
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            1
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7158656846595784711" data-original-type="0" data-draft-id="7158653017812647967" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/3096680514469176" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        字节跳动终端技术
      </div></a> <div data-v-7fc52684="" class="date">4月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E7%9B%91%E6%8E%A7" target="_blank" rel="" class="tag">
        监控
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7158656846595784711" target="_blank" rel="" title="字节前端监控 SDK 体积与性能优化实践" class="title">字节前端监控 SDK 体积与性能优化实践</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7158656846595784711" target="_blank" rel=""><div data-v-7fc52684="">字节前端SDK接入方众多，用户群庞大，若自身存在性能问题，会影响到数以亿计用户真实体验。本文以字节前端监控SDK为例，探讨作为三方SDK如何实现性能优化的思路与实操。</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1686</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            8
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            2
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/89121ad7a43b4699a4e4412b41c95a2e_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="字节前端监控 SDK 体积与性能优化实践" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7016225898768629773" data-original-type="0" data-draft-id="7016223082016686117" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/659362706101735" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        yechaoa
      </div></a> <div data-v-7fc52684="" class="date">1年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/Android" target="_blank" rel="" class="tag">
        Android
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7016225898768629773" target="_blank" rel="" title="Android包体积优化（常规、进阶、极致）" class="title">Android包体积优化（常规、进阶、极致）</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7016225898768629773" target="_blank" rel=""><div data-v-7fc52684="">前言 提升下载转化率，安装包越小，转化率越高。 降低渠道推广成本。 降低安装时间，文件拷贝、Library解压、编译ODEX、签名校验这些，包体积越大越耗时。 降低运行时内存等等。 环境 Androi</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">7764</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            149
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            8
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844903590138478600" data-original-type="0" data-draft-id="6845075408929423374" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/1081575169068238" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        LaiYoung_
      </div></a> <div data-v-7fc52684="" class="date">4年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/Apple" target="_blank" rel="" class="tag">
        Apple
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%9B%BE%E7%89%87%E8%B5%84%E6%BA%90" target="_blank" rel="" class="tag">
        图片资源
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/6844903590138478600" target="_blank" rel="" title="iOS 性能优化总结" class="title">iOS 性能优化总结</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/6844903590138478600" target="_blank" rel=""><div data-v-7fc52684="">在 VSync 信号到来后，系统图形服务会通过 CADisplayLink 等机制通知 App，App 主线程开始在 CPU 中计算显示内容，比如视图的创建、布局计算、图片解码、文本绘制等。随后 CPU 会将计算好的内容提交到 GPU 去，由 GPU 进行变换、合成、渲染。随后…</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">2.2w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            460
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            13
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7081606242212413447" data-original-type="0" data-draft-id="7081605128582594597" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/2664871914644525" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        雪球工程师团队
      </div></a> <div data-v-7fc52684="" class="date">11月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/Android" target="_blank" rel="" class="tag">
        Android
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7081606242212413447" target="_blank" rel="" title="雪球 Android App 秒开实践" class="title">雪球 Android App 秒开实践</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7081606242212413447" target="_blank" rel=""><div data-v-7fc52684="">本文从应用启动基本原理出发，总结了雪球客户端启动优化的思路和遇到的问题。主要包括启动原理介绍、优化方案和线上验证等三方面内容。</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1.6w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            196
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            32
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7069912887258513445" data-original-type="0" data-draft-id="7069912793633259550" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/3368559359568696" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        程序新视界
      </div></a> <div data-v-7fc52684="" class="date">1年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/MySQL" target="_blank" rel="" class="tag">
        MySQL
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7069912887258513445" target="_blank" rel="" title="不要再用where 1=1了，有更好的写法" class="title">不要再用where 1=1了，有更好的写法</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7069912887258513445" target="_blank" rel=""><div data-v-7fc52684="">背景 刚入行的同学，看到在SQL语句中出现where 1 = 1这样的条件可能会有所困惑，而长时间这样使用的朋友可能又习以为常。 那么，你是否还记得当初为什么要这样写？是否有性能问题？有没有更好的写法</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1.9w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            67
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            38
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844904009585655816" data-original-type="0" data-draft-id="6845076562430132231" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/1204720477420734" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        zhanzizhen
      </div></a> <div data-v-7fc52684="" class="date">3年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/Webpack" target="_blank" rel="" class="tag">
        Webpack
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/6844904009585655816" target="_blank" rel="" title="如何用webpack优化moment.js的体积" class="title">如何用webpack优化moment.js的体积</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/6844904009585655816" target="_blank" rel=""><div data-v-7fc52684="">本篇为转译，原出处。 当你在代码中写了var moment = require('moment') 然后再用webpack打包, 打出来的包会比你想象中的大很多，因为打包结果包含了各地的local文件. IgnorePlugin的原理是会移除moment的所有本地文件，因为我们…</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">6032</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            13
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            4
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6976849074108497956" data-original-type="0" data-draft-id="6976846112988594206" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/606586147454599" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        Hello丶Alili
      </div></a> <div data-v-7fc52684="" class="date">1年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%BF%AB%E5%BA%94%E7%94%A8" target="_blank" rel="" class="tag">
        快应用
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/6976849074108497956" target="_blank" rel="" title="使用Taro开发的快应用如何优化体积" class="title">使用Taro开发的快应用如何优化体积</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/6976849074108497956" target="_blank" rel=""><div data-v-7fc52684="">快应用重复打包问题 使用Taro开发快应用,有一个问题绝对不能忽视,那就是体积问题. 因为快应用打包的特性(1080以下)多个页面里,如果重复应用了一个第三方库,那么这个库的代码会一起打到这个页面中,</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1536</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            6
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            评论
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7008422231403397134" data-original-type="0" data-draft-id="7008417689253199909" class="entry" style="margin-bottom: 0px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/2840793776929533" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        Tzyito
      </div></a> <div data-v-7fc52684="" class="date">1年前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a><a data-v-7fc52684="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7008422231403397134" target="_blank" rel="" title="领导：小伙子，咱们这个页面出来太慢了！赶紧给我优化一下。" class="title">领导：小伙子，咱们这个页面出来太慢了！赶紧给我优化一下。</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7008422231403397134" target="_blank" rel=""><div data-v-7fc52684="">性能优化 这样一个词应该已经是老生常谈了，不仅在面试中面试官会以此和你掰头，而且在工作中领导也会因为网页加载速度慢来敲打你学(打)习(工)，那么前端性能优化，如果判断到底需不需要做，如果需要做又怎么去</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">2.6w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            227
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            30
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/fa96d3a873b84fd2bd03649eafce6315_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="领导：小伙子，咱们这个页面出来太慢了！赶紧给我优化一下。" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-7fc52684="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7072196942045904933" data-original-type="0" data-draft-id="7072196155836203039" class="entry" style="margin-bottom: 20px;"><div data-v-7fc52684="" class="meta-container"><a data-v-7fc52684="" href="https://juejin.cn/user/4265760847567016" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-7fc52684="" class="popover-box user-popover"><!---->  
        网易云音乐技术团队
      </div></a> <div data-v-7fc52684="" class="date">12月前</div> <div data-v-7fc52684="" class="tag_list"><a data-v-7fc52684="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a></div></div> <div data-v-7fc52684="" class="content-wrapper" style="border-bottom: 0px;"><div data-v-7fc52684="" class="content-main"><div data-v-7fc52684="" class="title-row"> <!----> <!----> <!----> <a data-v-7fc52684="" href="https://juejin.cn/post/7072196942045904933" target="_blank" rel="" title="如何让云音乐iOS包体积减少87MB" class="title">如何让云音乐iOS包体积减少87MB</a></div> <div data-v-7fc52684="" class="abstract"><a data-v-7fc52684="" href="https://juejin.cn/post/7072196942045904933" target="_blank" rel=""><div data-v-7fc52684="">云音乐iOS客户端包体积优化最新实践，从解析包体积口径，到分析现状，再通过使用各种优化方式，从资源到二进制，最终使云音乐安装体积下降87MB，下载体积下降60MB.</div></a></div> <ul data-v-7fc52684="" class="action-list jh-timeline-action-area"><li data-v-7fc52684="" class="item view"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">1.4w</span></li> <li data-v-7fc52684="" class="item like"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            123
          </span></li> <li data-v-7fc52684="" class="item comment"><i data-v-7fc52684=""></i> <span data-v-7fc52684="">
            24
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-7fc52684="" src="./深入探索 iOS 包体积优化 - 掘金_files/b4ba48cf73e348b8b43290208c311242_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="如何让云音乐iOS包体积减少87MB" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li></div></div> <div data-v-65e9deb8="" data-v-5e54ac6e="" class="recommended-links main-area" data-v-4b9f9746=""><p data-v-65e9deb8="">友情链接：</p> <ul data-v-65e9deb8=""><li data-v-65e9deb8=""><a data-v-65e9deb8="" href="https://frontend.devrank.cn/traffic-aggregation/231344" title="inode number in linux terminal" target="_blank" rel="noopener noreferrer">
        inode number in linux terminal
      </a></li><li data-v-65e9deb8=""><a data-v-65e9deb8="" href="https://frontend.devrank.cn/traffic-aggregation/231347" title="浏览器 调试 javascript" target="_blank" rel="noopener noreferrer">
        浏览器 调试 javascript
      </a></li><li data-v-65e9deb8=""><a data-v-65e9deb8="" href="https://frontend.devrank.cn/traffic-aggregation/231348" title="js exec支持ie8吗" target="_blank" rel="noopener noreferrer">
        js exec支持ie8吗
      </a></li><li data-v-65e9deb8=""><a data-v-65e9deb8="" href="https://frontend.devrank.cn/traffic-aggregation/231349" title="dw 写js时没有提示代码" target="_blank" rel="noopener noreferrer">
        dw 写js时没有提示代码
      </a></li><li data-v-65e9deb8=""><a data-v-65e9deb8="" href="https://frontend.devrank.cn/traffic-aggregation/231350" title="node-sass 版本" target="_blank" rel="noopener noreferrer">
        node-sass 版本
      </a></li></ul></div> <div data-v-65597ac0="" data-v-5e54ac6e="" st:block="sidebar" class="sidebar sidebar" data-v-4b9f9746=""><div data-v-71f2d09e="" data-v-bdf6e7fa="" data-v-65597ac0="" class="sidebar-block author-block pure"><a data-v-bdf6e7fa="" href="https://juejin.cn/user/3210229682279159" target="_blank" rel="" class="user-item item" data-v-71f2d09e=""><img data-v-248050e4="" data-v-47508ed8="" data-v-bdf6e7fa="" src="./深入探索 iOS 包体积优化 - 掘金_files/89cbb70015b71abb1998e553d9eb5520_100x100.awebp" alt="" class="lazy avatar avatar" loading="lazy"> <div data-v-bdf6e7fa="" class="info-box"><a data-v-0ef8bafa="" data-v-bdf6e7fa="" href="https://juejin.cn/user/3210229682279159" target="_blank" rel="" class="username"><span data-v-0ef8bafa="" class="name" style="max-width: 128px;">
      SimonYe
    </span> <span data-v-3de16c56="" data-v-0ef8bafa="" blank="true" class="rank"><img data-v-3de16c56="" src="./深入探索 iOS 包体积优化 - 掘金_files/lv-4.a78c420.png" alt="lv-4" title="创作等级"></span> <!----> <!----> </a> <div data-v-bdf6e7fa="" title="移动端程序猿 @ Ping An" class="position">
        移动端程序猿 @ Ping An
      </div></div></a> <div data-v-bdf6e7fa="" data-v-71f2d09e="" class="operate-btn"><button data-v-2afc21b6="" data-v-bdf6e7fa="" class="ui-btn follow-btn primary large default cancel attention" st:name="followBtn" data-v-71f2d09e=""><!----> 
    已关注
  </button> <a data-v-11443840="" data-v-bdf6e7fa="" href="https://juejin.cn/notification/im?participantId=3210229682279159" class="im-button im-btn" data-v-71f2d09e=""><!----> <div data-v-11443840="">私信</div></a></div> <div data-v-bdf6e7fa="" data-v-71f2d09e="" class="cut-off"></div>  <div data-v-bdf6e7fa="" data-v-71f2d09e="" class="stat-item item"><svg data-v-bdf6e7fa="" data-v-71f2d09e="" xmlns="http://www.w3.org/2000/svg" width="25" height="26" viewBox="0 0 25 26" class="zan"><g data-v-bdf6e7fa="" data-v-71f2d09e="" fill="none" fill-rule="evenodd" transform="translate(0 .57)"><ellipse data-v-bdf6e7fa="" data-v-71f2d09e="" cx="12.5" cy="12.57" fill="#E1EFFF" rx="12.5" ry="12.57"></ellipse><path data-v-bdf6e7fa="" data-v-71f2d09e="" fill="#7BB9FF" d="M8.596 11.238V19H7.033C6.463 19 6 18.465 6 17.807v-5.282c0-.685.483-1.287 1.033-1.287h1.563zm4.275-4.156A1.284 1.284 0 0 1 14.156 6c.885.016 1.412.722 1.595 1.07.334.638.343 1.687.114 2.361-.207.61-.687 1.412-.687 1.412h3.596c.38 0 .733.178.969.488.239.317.318.728.21 1.102l-1.628 5.645a1.245 1.245 0 0 1-1.192.922h-7.068v-7.889c1.624-.336 2.623-2.866 2.806-4.029z"></path></g></svg> <span data-v-bdf6e7fa="" data-v-71f2d09e="" class="content">
      获得点赞
      <span data-v-bdf6e7fa="" data-v-71f2d09e="" class="count">&nbsp;323</span></span></div> <div data-v-bdf6e7fa="" data-v-71f2d09e="" class="stat-item item"><svg data-v-bdf6e7fa="" data-v-71f2d09e="" width="25" height="25" viewBox="0 0 25 25" class="icon stat-view-icon"><g data-v-bdf6e7fa="" data-v-71f2d09e="" fill="none" fill-rule="evenodd"><circle data-v-bdf6e7fa="" data-v-71f2d09e="" cx="12.5" cy="12.5" r="12.5" fill="#E1EFFF"></circle><path data-v-bdf6e7fa="" data-v-71f2d09e="" fill="#7BB9FF" d="M4 12.5S6.917 7 12.75 7s8.75 5.5 8.75 5.5-2.917 5.5-8.75 5.5S4 12.5 4 12.5zm8.75 2.292c1.208 0 2.188-1.026 2.188-2.292 0-1.266-.98-2.292-2.188-2.292-1.208 0-2.188 1.026-2.188 2.292 0 1.266.98 2.292 2.188 2.292z"></path></g></svg> <span data-v-bdf6e7fa="" data-v-71f2d09e="" class="content">
      文章被阅读
      <span data-v-bdf6e7fa="" data-v-71f2d09e="" class="count">&nbsp;75,778</span></span></div> <!----></div> <!----> <a data-v-65597ac0="" href="https://juejin.cn/user/center/signin?from=item" target="" rel=""></a> <div data-v-71f2d09e="" data-v-375ef892="" data-v-65597ac0="" class="sidebar-block wechat-sidebar-block pure"><div data-v-7691896e="" data-v-375ef892="" class="wechat-banner" data-v-71f2d09e=""><img data-v-7691896e="" src="./深入探索 iOS 包体积优化 - 掘金_files/default.640d9a7.png" class="wechat-img square"></div> <div data-v-375ef892="" data-v-71f2d09e="" title="关闭" class="close-btn ion-close-round"></div></div> <div data-v-71f2d09e="" data-v-17139de4="" data-v-65597ac0="" class="sidebar-block related-entry-sidebar-block shadow" st:block="relatedEntrySidebarBlock"><div data-v-71f2d09e="" class="block-title">相关文章</div> <div data-v-71f2d09e="" class="block-body"><div data-v-17139de4="" data-v-71f2d09e="" class="entry-list"><a data-v-17139de4="" href="https://juejin.cn/post/7075309486927249444" target="_blank" rel="" st:name="link" title="webpack构建速度和体积优化策略" class="item" data-v-71f2d09e=""><div data-v-17139de4="" class="entry-title">webpack构建速度和体积优化策略</div> <div data-v-17139de4="" class="entry-meta-box"><div data-v-17139de4="" class="entry-meta">93点赞</div> <div data-v-17139de4="" class="entry-meta">&nbsp;·&nbsp;</div> <div data-v-17139de4="" class="entry-meta">13评论</div></div></a><a data-v-17139de4="" href="https://juejin.cn/post/7177195746272215098" target="_blank" rel="" st:name="link" title="包体积优化 · 方法论 · 揭开包体积优化神秘面纱" class="item" data-v-71f2d09e=""><div data-v-17139de4="" class="entry-title">包体积优化 · 方法论 · 揭开包体积优化神秘面纱</div> <div data-v-17139de4="" class="entry-meta-box"><div data-v-17139de4="" class="entry-meta">16点赞</div> <div data-v-17139de4="" class="entry-meta">&nbsp;·&nbsp;</div> <div data-v-17139de4="" class="entry-meta">6评论</div></div></a><a data-v-17139de4="" href="https://juejin.cn/post/7176622003888226362" target="_blank" rel="" st:name="link" title="包体积优化 · 工具论 · 初识包体积优化" class="item" data-v-71f2d09e=""><div data-v-17139de4="" class="entry-title">包体积优化 · 工具论 · 初识包体积优化</div> <div data-v-17139de4="" class="entry-meta-box"><div data-v-17139de4="" class="entry-meta">31点赞</div> <div data-v-17139de4="" class="entry-meta">&nbsp;·&nbsp;</div> <div data-v-17139de4="" class="entry-meta">5评论</div></div></a><a data-v-17139de4="" href="https://juejin.cn/post/7185101900303728695" target="_blank" rel="" st:name="link" title="iOS 包体积优化5 - 编译优化" class="item" data-v-71f2d09e=""><div data-v-17139de4="" class="entry-title">iOS 包体积优化5 - 编译优化</div> <div data-v-17139de4="" class="entry-meta-box"><div data-v-17139de4="" class="entry-meta">16点赞</div> <div data-v-17139de4="" class="entry-meta">&nbsp;·&nbsp;</div> <div data-v-17139de4="" class="entry-meta">0评论</div></div></a><a data-v-17139de4="" href="https://juejin.cn/post/7072196942045904933" target="_blank" rel="" st:name="link" title="如何让云音乐iOS包体积减少87MB" class="item" data-v-71f2d09e=""><div data-v-17139de4="" class="entry-title">如何让云音乐iOS包体积减少87MB</div> <div data-v-17139de4="" class="entry-meta-box"><div data-v-17139de4="" class="entry-meta">123点赞</div> <div data-v-17139de4="" class="entry-meta">&nbsp;·&nbsp;</div> <div data-v-17139de4="" class="entry-meta">24评论</div></div></a></div></div></div> <div data-v-65597ac0="" class="sticky-block-box"><div data-v-71f2d09e="" data-v-65597ac0="" class="sidebar-block catalog-block catalog-block pure isExpand" style=""><nav data-v-21dfbf50="" class="article-catalog" data-v-71f2d09e="" style=""><div data-v-21dfbf50="" class="catalog-title">目录</div> <div data-v-21dfbf50="" class="catalog-body"><ul data-v-21dfbf50="" class="catalog-list" style="margin-top: 0px;"><li data-v-21dfbf50="" class="item d1 active"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-0" title="背景" class="catalog-aTag">
      背景
    </a></div> <!----></li><li data-v-21dfbf50="" class="item d1"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-1" title="资源瘦身" class="catalog-aTag">
      资源瘦身
    </a></div> <ul class="sub-list"><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-2" title="移除无用图片资源" class="catalog-aTag">
      移除无用图片资源
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-3" title="压缩图片等资源文件" class="catalog-aTag">
      压缩图片等资源文件
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-4" title="删除重复文件" class="catalog-aTag">
      删除重复文件
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-5" title="图片资源放入.xcassets" class="catalog-aTag">
      图片资源放入.xcassets
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-6" title="部分大资源文件通过运行下载" class="catalog-aTag">
      部分大资源文件通过运行下载
    </a></div> <!----></li></ul></li><li data-v-21dfbf50="" class="item d1"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-7" title="代码瘦身" class="catalog-aTag">
      代码瘦身
    </a></div> <ul class="sub-list"><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-8" title="删除未使用代码" class="catalog-aTag">
      删除未使用代码
    </a></div> <ul class="sub-list"><li class="item d3"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-9" title="LinkMap 结合 Mach-O" class="catalog-aTag">
      LinkMap 结合 Mach-O
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-10" title="AppCode" class="catalog-aTag">
      AppCode
    </a></div> <!----></li></ul></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-11" title="删除版本遗留代码" class="catalog-aTag">
      删除版本遗留代码
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-12" title="精简重复代码" class="catalog-aTag">
      精简重复代码
    </a></div> <!----></li></ul></li><li data-v-21dfbf50="" class="item d1"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-13" title="与包体积有关的编译选项" class="catalog-aTag">
      与包体积有关的编译选项
    </a></div> <ul class="sub-list"><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-14" title="建议修改" class="catalog-aTag">
      建议修改
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-15" title="保持不变" class="catalog-aTag">
      保持不变
    </a></div> <!----></li></ul></li><li data-v-21dfbf50="" class="item d1"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-16" title="App Thinning" class="catalog-aTag">
      App Thinning
    </a></div> <ul class="sub-list"><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-17" title="Slicing" class="catalog-aTag">
      Slicing
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-18" title="Bitcode" class="catalog-aTag">
      Bitcode
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-19" title="On-Demand Resources" class="catalog-aTag">
      On-Demand Resources
    </a></div> <!----></li></ul></li><li data-v-21dfbf50="" class="item d1"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-20" title="其他" class="catalog-aTag">
      其他
    </a></div> <ul class="sub-list"><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-21" title="Framework 瘦身" class="catalog-aTag">
      Framework 瘦身
    </a></div> <ul class="sub-list"><li class="item d3"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-22" title="只保留需要的指令集" class="catalog-aTag">
      只保留需要的指令集
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-23" title="移除 Framework 的未使用代码" class="catalog-aTag">
      移除 Framework 的未使用代码
    </a></div> <!----></li></ul></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-24" title="App Extension 用动态库替代静态库" class="catalog-aTag">
      App Extension 用动态库替代静态库
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-25" title="慎重引入第三方库" class="catalog-aTag">
      慎重引入第三方库
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-26" title="H5本地资源优化（只保留主页面）" class="catalog-aTag">
      H5本地资源优化（只保留主页面）
    </a></div> <!----></li></ul></li><li data-v-21dfbf50="" class="item d1"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-27" title="总结" class="catalog-aTag">
      总结
    </a></div> <ul class="sub-list"><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-28" title="工具汇总" class="catalog-aTag">
      工具汇总
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-29" title="参考资料" class="catalog-aTag">
      参考资料
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844904169938092045#heading-30" title="优化系列其它文章" class="catalog-aTag">
      优化系列其它文章
    </a></div> <!----></li></ul></li></ul></div></nav></div> <!----></div></div> <div class="article-suspended-panel article-suspended-panel" data-v-8df60ffa="" data-v-5e54ac6e="" data-v-4b9f9746=""><svg xmlns="http://www.w3.org/2000/svg" style="display:none;" data-v-8df60ffa="" class=""><symbol id="icon-collect" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-v-8df60ffa=""><path fill-rule="evenodd" clip-rule="evenodd" d="M5.24287 18.3845C4.89724 18.5507 4.48229 18.4053 4.31605 18.0596C4.26029 17.9437 4.23783 17.8146 4.25117 17.6866L4.75725 12.8332C4.77762 12.6379 4.71431 12.443 4.583 12.297L1.29207 8.63594C1.03567 8.35071 1.05905 7.91164 1.34428 7.65524C1.43464 7.574 1.54475 7.5179 1.66358 7.49254L6.47789 6.46509C6.66998 6.42409 6.83572 6.30367 6.93407 6.13365L9.39894 1.87248C9.59098 1.54049 10.0158 1.42704 10.3478 1.61907C10.453 1.67992 10.5403 1.76729 10.6012 1.87248L13.0661 6.13365C13.1644 6.30367 13.3301 6.42409 13.5222 6.46509L18.3365 7.49254C18.7116 7.57259 18.9508 7.94155 18.8707 8.31664C18.8454 8.43547 18.7893 8.54557 18.708 8.63594L15.4171 12.297C15.2858 12.443 15.2225 12.6379 15.2429 12.8332L15.7489 17.6866C15.7887 18.0681 15.5117 18.4096 15.1303 18.4493C15.0023 18.4627 14.8732 18.4402 14.7572 18.3845L10.3011 16.2412C10.1108 16.1497 9.8893 16.1497 9.69906 16.2412L5.24287 18.3845Z" data-v-8df60ffa=""></path></symbol><symbol id="icon-comment" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-v-8df60ffa=""><path fill-rule="evenodd" clip-rule="evenodd" d="M4.62739 1.25C2.9347 1.25 1.5625 2.6222 1.5625 4.31489L1.56396 12.643C1.56403 14.3356 2.9362 15.7078 4.62885 15.7078H6.48326L6.93691 17.6869L6.93884 17.6948C7.16894 18.6441 8.28598 19.0599 9.08073 18.4921L12.7965 15.7078H15.5001C17.1928 15.7078 18.565 14.3355 18.565 12.6428L18.5635 4.31477C18.5635 2.62213 17.1913 1.25 15.4986 1.25H4.62739ZM5.98265 9.89255C6.68783 9.89255 7.2595 9.32089 7.2595 8.61571C7.2595 7.91053 6.68783 7.33887 5.98265 7.33887C5.27747 7.33887 4.70581 7.91053 4.70581 8.61571C4.70581 9.32089 5.27747 9.89255 5.98265 9.89255ZM9.95604 9.89255C10.6612 9.89255 11.2329 9.32089 11.2329 8.61571C11.2329 7.91053 10.6612 7.33887 9.95604 7.33887C9.25086 7.33887 8.6792 7.91053 8.6792 8.61571C8.6792 9.32089 9.25086 9.89255 9.95604 9.89255ZM15.2124 8.61571C15.2124 9.32089 14.6407 9.89255 13.9355 9.89255C13.2304 9.89255 12.6587 9.32089 12.6587 8.61571C12.6587 7.91053 13.2304 7.33887 13.9355 7.33887C14.6407 7.33887 15.2124 7.91053 15.2124 8.61571Z" data-v-8df60ffa=""></path></symbol><symbol id="icon-zan" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-v-8df60ffa=""><path fill-rule="evenodd" clip-rule="evenodd" d="M13.0651 3.25923C12.6654 2.21523 12.1276 1.60359 11.4633 1.40559C10.8071 1.21 10.2539 1.48626 9.97848 1.67918C9.43962 2.05668 9.17297 2.64897 9.0009 3.12662C8.93522 3.30893 8.87504 3.50032 8.82077 3.67291L8.82077 3.67292C8.80276 3.73019 8.78541 3.78539 8.76872 3.8375C8.6974 4.06017 8.63455 4.23905 8.56561 4.38315C8.07104 5.41687 7.64014 6.034 7.2617 6.43277C6.89154 6.8228 6.5498 7.0275 6.18413 7.21038C5.8887 7.35813 5.69369 7.66144 5.69365 8.00211L5.69237 17.3908C5.6923 17.8783 6.08754 18.2736 6.57511 18.2736H14.8382C15.2621 18.2736 15.5829 18.1393 15.8149 17.9421C15.9234 17.8497 15.9985 17.7554 16.0484 17.6856C16.0695 17.6561 16.088 17.6282 16.0983 17.6126L16.1017 17.6075L16.1033 17.6051L16.1194 17.5857L16.1428 17.5478C16.913 16.3019 17.4472 15.3088 17.8659 14.1183C18.3431 12.7613 18.5849 11.5853 18.6874 10.6685C18.7871 9.77617 18.7612 9.07318 18.6558 8.68779C18.5062 8.14118 18.138 7.82653 17.7668 7.66617C17.4231 7.51771 17.0763 7.49836 16.8785 7.49807L13.1134 7.44551C13.662 5.19751 13.31 3.89889 13.0651 3.25923ZM1.251 8.0848C1.22726 7.5815 1.62891 7.16046 2.13277 7.16046H3.4408C3.92832 7.16046 4.32354 7.55568 4.32354 8.04321V17.4303C4.32354 17.9178 3.92832 18.313 3.4408 18.313H2.57554C2.10419 18.313 1.71599 17.9427 1.69378 17.4718L1.251 8.0848Z" data-v-8df60ffa=""></path></symbol><symbol id="icon-share" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-v-8df60ffa=""><path fill-rule="evenodd" clip-rule="evenodd" d="M10.4167 6.40399C5.35406 6.40399 1.25 10.5675 1.25 15.7035C1.25 16.0225 1.28448 16.4512 1.35344 16.9898C1.36807 17.1039 1.47243 17.1846 1.58655 17.17C1.6483 17.1621 1.70328 17.127 1.73643 17.0743L1.86865 16.8676C1.99553 16.6731 2.10644 16.5147 2.20137 16.3925C3.69554 14.4692 6.13777 13.3823 9.35515 13.3378L10.4167 13.3364V17.0757C10.4167 17.3101 10.6086 17.5 10.8453 17.5C10.959 17.5 11.068 17.4553 11.1483 17.3757L18.145 10.45C18.3961 10.2015 18.3961 9.79853 18.145 9.55L11.1483 2.62426C10.981 2.45858 10.7096 2.45858 10.5422 2.62426C10.4618 2.70383 10.4167 2.81174 10.4167 2.92426V6.40399Z" data-v-8df60ffa=""></path></symbol><symbol id="icon-report" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-v-8df60ffa=""><path fill-rule="evenodd" clip-rule="evenodd" d="M10.8389 1.89381C11.0873 2.03868 11.2939 2.24532 11.4388 2.49366L18.9369 15.0065C19.4007 15.8015 19.1322 16.8221 18.3371 17.2859C18.0822 17.4346 17.7924 17.5129 17.4973 17.5129H2.50041C1.57993 17.5129 0.83374 16.7667 0.83374 15.8462C0.83374 15.5512 0.912088 15.2614 1.06078 15.0065L8.5595 2.49366C9.0233 1.69857 10.0438 1.43001 10.8389 1.89381ZM10.3118 13.3459C10.6283 13.3459 10.8848 13.6025 10.8848 13.9189V14.4918C10.8848 14.8082 10.6283 15.0647 10.3118 15.0647H9.73893C9.42252 15.0647 9.16602 14.8082 9.16602 14.4918V13.9189C9.16602 13.6025 9.42252 13.3459 9.73893 13.3459H10.3118ZM10.8356 7.09513C10.8356 6.86502 10.6491 6.67847 10.419 6.67847H9.58512C9.35501 6.67847 9.16846 6.86502 9.16846 7.09513V12.0956C9.16846 12.3257 9.35501 12.5123 9.58512 12.5123H10.419C10.6491 12.5123 10.8356 12.3257 10.8356 12.0956V7.09513Z" data-v-8df60ffa=""></path></symbol><symbol id="icon-immerse" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-v-8df60ffa=""><path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 1C0.25 0.585786 0.585786 0.25 1 0.25H4C4.41421 0.25 4.75 0.585786 4.75 1C4.75 1.41421 4.41421 1.75 4 1.75H1.75V4C1.75 4.41421 1.41421 4.75 1 4.75C0.585786 4.75 0.25 4.41421 0.25 4V1ZM0.25 19C0.25 19.4142 0.585786 19.75 1 19.75H4C4.41421 19.75 4.75 19.4142 4.75 19C4.75 18.5858 4.41421 18.25 4 18.25H1.75V16C1.75 15.5858 1.41421 15.25 1 15.25C0.585786 15.25 0.25 15.5858 0.25 16V19ZM19 0.25C19.4142 0.25 19.75 0.585786 19.75 1V4C19.75 4.41421 19.4142 4.75 19 4.75C18.5858 4.75 18.25 4.41421 18.25 4V1.75H16C15.5858 1.75 15.25 1.41421 15.25 1C15.25 0.585786 15.5858 0.25 16 0.25H19ZM19.75 19C19.75 19.4142 19.4142 19.75 19 19.75H16C15.5858 19.75 15.25 19.4142 15.25 19C15.25 18.5858 15.5858 18.25 16 18.25H18.25V16C18.25 15.5858 18.5858 15.25 19 15.25C19.4142 15.25 19.75 15.5858 19.75 16V19ZM7 5C5.89543 5 5 5.89543 5 7V13C5 14.1046 5.89543 15 7 15H13C14.1046 15 15 14.1046 15 13V7C15 5.89543 14.1046 5 13 5H7Z" data-v-8df60ffa=""></path></symbol><symbol id="icon-wechat" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-v-8df60ffa=""><path fill-rule="evenodd" clip-rule="evenodd" d="M13.5578 5.34061C12.0476 2.85722 8.90911 1.73257 6.11813 2.05358C4.56413 2.23231 3.0449 2.85861 1.88463 3.92471C1.00689 4.72863 0.354462 5.78486 0.109889 6.95889C-0.187864 8.37395 0.125815 9.85314 0.957723 11.0298C1.28982 11.4994 1.68479 11.9193 2.11951 12.2941C2.25136 12.4079 2.38694 12.5172 2.52543 12.6228C2.59301 12.6742 2.66115 12.7249 2.73011 12.7745C2.74195 12.7831 2.75392 12.7902 2.76512 12.7969C2.80389 12.8201 2.83351 12.8378 2.81653 12.8887L2.67458 13.3177C2.53986 13.7252 2.40492 14.1325 2.26998 14.5399C2.22084 14.6883 2.17169 14.8366 2.12256 14.985L2.61572 14.7368C2.85714 14.6151 3.09863 14.4935 3.34012 14.3719C3.58099 14.2507 3.82186 14.1294 4.06266 14.0081L4.40902 13.8337C4.42474 13.8257 4.44104 13.8164 4.45775 13.8069C4.51759 13.7728 4.58265 13.7356 4.64501 13.7481C4.76613 13.7723 4.88708 13.7972 5.00801 13.8221C5.08094 13.8372 5.15386 13.8522 5.22681 13.867C6.06287 14.0373 6.88508 14.1348 7.73859 14.0675C7.4486 13.0669 7.44915 12.0016 7.7559 11.0045C8.09853 9.88624 8.81438 8.89831 9.74448 8.19773C11.0171 7.23915 12.6431 6.81493 14.2212 6.99199C14.0895 6.4081 13.8688 5.85148 13.5578 5.34061ZM4.77922 5.02147C4.28094 5.02147 3.71299 5.35514 3.71299 5.90829C3.71299 6.46088 4.28066 6.79844 4.77922 6.79844C5.29233 6.79844 5.66293 6.42291 5.66293 5.90829C5.66293 5.39311 5.29205 5.02147 4.77922 5.02147ZM10.6158 5.90829C10.6158 6.42444 10.2434 6.79844 9.7296 6.79844C9.23076 6.79844 8.66641 6.46032 8.66641 5.90829C8.66641 5.3557 9.23104 5.02147 9.7296 5.02147C10.2431 5.02147 10.6158 5.39158 10.6158 5.90829ZM17.7911 8.53846C15.3552 6.80489 11.734 6.93368 9.53048 9.01108C8.77779 9.72181 8.22909 10.6485 8.04061 11.6744C7.78288 13.0799 8.22536 14.5441 9.17304 15.605C10.0674 16.6063 11.2889 17.2564 12.5986 17.5166C13.4216 17.6806 14.2559 17.6931 15.0799 17.5344C15.2863 17.4948 15.4911 17.4481 15.6954 17.3986C15.7826 17.3774 15.8697 17.3559 15.9568 17.334C15.9655 17.3319 15.9784 17.3272 15.9934 17.3219C16.0359 17.3068 16.0949 17.2858 16.118 17.2984C16.2476 17.3695 16.3771 17.4408 16.5066 17.5122L17.0557 17.8142L17.0577 17.8153L17.0598 17.8164C17.3912 17.9986 17.7227 18.1809 18.054 18.3634C17.9748 18.0977 17.895 17.832 17.8153 17.5664L17.8146 17.5641L17.6749 17.0981L17.5814 16.7863L17.5332 16.6257C17.5159 16.5675 17.5927 16.5183 17.6556 16.4779C17.6753 16.4653 17.6937 16.4535 17.7073 16.4426C18.0608 16.1622 18.3952 15.8558 18.6963 15.5191C19.1832 14.9747 19.5895 14.3498 19.8161 13.6505C20.0122 13.039 20.0488 12.392 19.9377 11.7604C19.7098 10.438 18.8643 9.30511 17.7911 8.53846ZM15.2396 11.0049C15.1595 10.6088 15.5334 10.1787 15.931 10.1787C16.3063 10.1787 16.7409 10.3931 16.8096 10.7989C16.8724 11.1695 16.556 11.4696 16.227 11.5617C15.8032 11.6802 15.3326 11.4649 15.2396 11.0049ZM12.0348 10.1787C11.6369 10.1787 11.2573 10.6064 11.3385 11.0049C11.4325 11.4667 11.9081 11.68 12.3327 11.5617C12.6626 11.4696 12.9753 11.1695 12.9134 10.7989C12.8453 10.3914 12.4112 10.1787 12.0348 10.1787Z" data-v-8df60ffa=""></path></symbol><symbol id="icon-weibo" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-v-8df60ffa=""><path fill-rule="evenodd" clip-rule="evenodd" d="M-0.000244141 13.0984C-0.000244141 8.70757 6.6145 3.5004 9.18008 4.57052C10.1717 4.98415 9.97381 6.1693 9.85415 6.88576C9.8069 7.16863 9.77186 7.37844 9.82705 7.43887C9.92921 7.55074 10.2955 7.42054 10.7994 7.2414C11.8362 6.87286 13.4557 6.2972 14.5566 7.19617C15.2665 7.77576 14.9657 8.72382 14.7905 9.27603C14.7289 9.4701 14.6829 9.61528 14.7017 9.6784C14.741 9.81053 14.9858 9.91133 15.317 10.0477C15.926 10.2984 16.8269 10.6692 17.2784 11.5759C18.3716 13.7713 15.2036 18.2504 8.62234 18.2504C3.25024 18.2504 -0.000244141 15.6688 -0.000244141 13.0984ZM8.45309 17.057C11.7733 16.7393 14.2944 14.7397 14.0842 12.5908C13.874 10.4418 11.012 8.95732 7.69179 9.27503C4.37159 9.59274 1.85045 11.5924 2.06068 13.7413C2.2709 15.8902 5.13288 17.3747 8.45309 17.057Z" data-v-8df60ffa=""></path><path fill-rule="evenodd" clip-rule="evenodd" d="M10.7098 12.7012C11.1162 14.1374 10.0604 15.6852 8.35157 16.1581C6.64275 16.6311 4.92801 15.8502 4.5216 14.4139C4.11518 12.9777 5.171 11.4299 6.87982 10.957C8.58865 10.484 10.3034 11.2649 10.7098 12.7012ZM7.67026 13.6265C7.89619 14.1072 7.61751 14.7092 7.04779 14.9711C6.47808 15.2331 5.83308 15.0558 5.60715 14.5751C5.38122 14.0945 5.6599 13.4925 6.22962 13.2306C6.79933 12.9686 7.44433 13.1459 7.67026 13.6265ZM8.41746 13.3766C8.63945 13.2745 8.74804 13.0399 8.66001 12.8526C8.57197 12.6654 8.32065 12.5963 8.09866 12.6984C7.87667 12.8004 7.76808 13.035 7.85612 13.2223C7.94415 13.4095 8.19547 13.4786 8.41746 13.3766Z" data-v-8df60ffa=""></path><path d="M13.648 3.54836C13.9523 3.47388 14.2712 3.43418 14.6004 3.43418C16.7813 3.43418 18.5492 5.18267 18.5492 7.33955C18.5492 7.81593 18.4633 8.27085 18.3066 8.69104C18.168 9.06261 18.3602 9.47493 18.7359 9.61199C19.1116 9.74904 19.5285 9.55894 19.6671 9.18737C19.8822 8.61063 19.9993 7.98781 19.9993 7.33955C19.9993 4.3906 17.5822 2 14.6004 2C14.1528 2 13.717 2.05403 13.2996 2.15619C12.9109 2.25133 12.6738 2.64011 12.77 3.02455C12.8662 3.40899 13.2593 3.6435 13.648 3.54836Z" data-v-8df60ffa=""></path><path d="M14.2887 6.05162C14.388 6.02824 14.4923 6.01569 14.6004 6.01569C15.3397 6.01569 15.939 6.6084 15.939 7.33955C15.939 7.49914 15.9108 7.65062 15.8596 7.7904C15.7232 8.16277 15.9179 8.57396 16.2944 8.70881C16.6709 8.84366 17.0867 8.65112 17.2231 8.27875C17.3307 7.98466 17.3891 7.66805 17.3891 7.33955C17.3891 5.81633 16.1406 4.58152 14.6004 4.58152C14.3784 4.58152 14.1614 4.60734 13.9529 4.65643C13.5633 4.74813 13.3227 5.1348 13.4154 5.52008C13.5082 5.90535 13.8991 6.14333 14.2887 6.05162Z" data-v-8df60ffa=""></path></symbol><symbol id="icon-qq" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-v-8df60ffa=""><path d="M11.8841 17.1943C11.1815 17.1943 10.5625 17.2136 10.0541 17.26C9.44625 17.2112 8.8365 17.1898 8.22671 17.1956C6.20498 17.1956 4.40588 17.9613 4.40588 18.5263C4.40588 19.0681 5.89998 19.0076 7.91657 18.987C8.64426 18.985 9.3699 18.9096 10.0824 18.7618C10.6796 18.8879 11.4079 18.9677 12.193 18.9741C14.2095 18.9947 15.7024 19.0552 15.7024 18.5173C15.7024 17.9549 13.9045 17.1943 11.8841 17.1943V17.1943Z" data-v-8df60ffa=""></path><path d="M16.9138 11.6311C16.5346 10.6112 16.1212 9.60428 15.6745 8.61206C15.6951 8.37141 15.7054 8.12818 15.7054 7.8811C15.7054 4.08086 13.7622 1 10.0649 1C6.36759 1 4.42307 4.08086 4.42307 7.8811C4.42307 8.11274 4.43208 8.34052 4.45138 8.56573C3.99804 9.5756 3.57913 10.6006 3.19536 11.6389C2.41678 13.7494 2.38203 15.6566 2.65357 15.7982C2.84661 15.8985 3.54797 15.1611 4.21845 13.9669C4.66115 16.7801 6.53102 18.8842 10.0649 18.8842C13.5871 18.8842 15.457 16.7916 15.9074 13.99C16.5728 15.1611 17.2664 15.8818 17.4569 15.7814C17.7284 15.6399 17.6937 13.7365 16.9138 11.6311V11.6311Z" data-v-8df60ffa=""></path><path d="M8.5542 3.2522C8.00598 3.26507 7.57358 3.90981 7.58902 4.69739C7.60447 5.48369 8.06132 6.11299 8.60954 6.1027C9.15776 6.0924 9.59016 5.44637 9.57472 4.65879C9.56056 3.87249 9.10243 3.24319 8.5542 3.25348V3.2522ZM11.5862 3.26764C11.0315 3.25734 10.5695 3.88278 10.5541 4.66651C10.5386 5.44895 10.9749 6.0924 11.5308 6.1027C12.0842 6.11299 12.5475 5.48755 12.5629 4.70512C12.5784 3.92139 12.1408 3.27794 11.5862 3.26764V3.26764Z" data-v-8df60ffa=""></path><path d="M13.6704 9.57861C12.5971 9.76521 11.354 9.87074 10.0285 9.87074C8.7287 9.87074 7.50742 9.76779 6.44959 9.58762C5.71605 10.4962 5.65942 11.8307 5.65942 13.3184C5.65942 16.0505 7.20371 18.2665 10.0645 18.2665C12.924 18.2665 14.4696 16.0505 14.4696 13.3184C14.4696 11.8243 14.4104 10.4859 13.6704 9.57861V9.57861Z" data-v-8df60ffa=""></path><path d="M10.0628 6.56616C8.14273 6.56616 6.58557 6.95223 6.58557 7.26238C6.58557 7.57124 8.62146 8.42188 10.0641 8.42188C11.5054 8.42188 13.5413 7.55065 13.5413 7.26238C13.5413 6.97411 11.9842 6.56745 10.0641 6.56745L10.0628 6.56616Z" data-v-8df60ffa=""></path><path d="M15.6744 8.6121L15.6757 8.59151C14.264 9.05866 12.2718 9.35078 10.0648 9.35078C7.8513 9.35078 5.85402 9.05737 4.441 8.58765C4.14115 9.25684 3.85546 9.93375 3.58521 10.6171C4.45644 10.9054 5.43192 11.1357 6.48332 11.2992V13.8858C6.48332 13.8858 7.22715 14.0235 7.92981 14.0531C8.42784 14.0737 8.95676 13.9888 8.95676 13.9888V11.5398C9.32095 11.5565 9.6903 11.5656 10.0635 11.5656C12.4919 11.5656 14.7311 11.2142 16.5251 10.6222C16.2566 9.94593 15.9729 9.27571 15.6744 8.6121V8.6121Z" data-v-8df60ffa=""></path><path d="M8.87981 4.24829C8.63787 4.24829 8.44226 4.53656 8.44226 4.89174C8.44226 5.24693 8.63787 5.5352 8.87981 5.5352C9.12046 5.5352 9.31736 5.24693 9.31736 4.89174C9.31736 4.53656 9.12046 4.24829 8.87981 4.24829V4.24829ZM12.0997 4.65624C12.0997 4.65624 11.9246 4.41816 11.4819 4.48122C11.0444 4.54428 10.8745 4.83126 10.8423 4.86215C10.8423 4.86215 10.7381 5.0243 10.8115 5.12467C10.8848 5.22505 11.0174 5.06676 11.0174 5.06676C11.0174 5.06676 11.2194 4.78364 11.4806 4.77335C11.6273 4.76349 11.7729 4.80489 11.8925 4.89046C11.8925 4.89046 12.0211 4.99856 12.0984 4.89046C12.1769 4.78364 12.0997 4.65624 12.0997 4.65624V4.65624Z" data-v-8df60ffa=""></path></symbol></svg> <div badge="29" class="panel-btn with-badge" data-v-8df60ffa=""><svg class="sprite-icon icon-zan" data-v-0f838daa="" data-v-8df60ffa=""><use xlink:href="#icon-zan" data-v-0f838daa=""></use></svg></div> <div badge="0" class="panel-btn" data-v-8df60ffa=""><svg class="sprite-icon icon-comment" data-v-0f838daa="" data-v-8df60ffa=""><use xlink:href="#icon-comment" data-v-0f838daa=""></use></svg></div> <div class="panel-btn" data-v-8df60ffa=""><svg class="sprite-icon icon-collect" data-v-0f838daa="" data-v-8df60ffa=""><use xlink:href="#icon-collect" data-v-0f838daa=""></use></svg> <div class="collect-popover" data-v-d0b73df6="" data-v-8df60ffa=""><div class="title" data-v-d0b73df6="">收藏成功！</div> <div class="sub-title" data-v-d0b73df6="">
    已添加到「」，
    <span class="modify-btn" data-v-d0b73df6="">点击更改</span></div></div> <!----> <!----></div> <div class="share-btn panel-btn" data-v-8df60ffa=""><svg class="sprite-icon icon-share" data-v-0f838daa="" data-v-8df60ffa=""><use xlink:href="#icon-share" data-v-0f838daa=""></use></svg> <div class="share-popup" data-v-8df60ffa=""><ul data-v-8df60ffa=""><li class="share-item wechat" data-v-8df60ffa=""><svg class="sprite-icon share-icon icon-wechat" data-v-0f838daa="" data-v-8df60ffa=""><use xlink:href="#icon-wechat" data-v-0f838daa=""></use></svg> <span class="share-item-title" data-v-8df60ffa="">微信</span> <div class="wechat-qrcode" data-v-8df60ffa=""><img src="https://juejin.cn/post/6844904169938092045" class="wechat-qrcode-img" style="display:none;" data-v-8df60ffa=""> <span class="wechat-qrcode-title" data-v-8df60ffa="">微信扫码分享</span></div></li> <li class="share-item weibo" data-v-8df60ffa=""><svg class="sprite-icon share-icon icon-weibo" data-v-0f838daa="" data-v-8df60ffa=""><use xlink:href="#icon-weibo" data-v-0f838daa=""></use></svg> <span class="share-item-title" data-v-8df60ffa="">新浪微博</span></li> <li class="share-item qq" data-v-8df60ffa=""><svg class="sprite-icon share-icon icon-qq" data-v-0f838daa="" data-v-8df60ffa=""><use xlink:href="#icon-qq" data-v-0f838daa=""></use></svg> <span class="share-item-title" data-v-8df60ffa="">QQ</span></li></ul></div></div> <div class="divider" data-v-8df60ffa=""></div> <div class="panel-btn" data-v-8df60ffa=""><svg class="sprite-icon icon-report" data-v-0f838daa="" data-v-8df60ffa=""><use xlink:href="#icon-report" data-v-0f838daa=""></use></svg></div> <span class="tooltip" data-v-8df60ffa=""><span class="byte-tooltip__wrapper"><div class="panel-btn" data-v-8df60ffa=""><svg class="sprite-icon icon-immerse" data-v-0f838daa="" data-v-8df60ffa=""><use xlink:href="#icon-immerse" data-v-0f838daa=""></use></svg></div></span></span></div></div> <!----></main> <!----></div> <!----> <div class="global-component-box"><div data-v-262fe4c6="" class="alert-list alert-list"></div> <div data-v-0b2d23d8="" class="suspension-panel suspension-panel"><!----> <button data-v-0b2d23d8="" title="回到顶部" class="btn to-top-btn" style="display: none;"><svg data-v-0b2d23d8="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class=""><path data-v-0b2d23d8="" fill-rule="evenodd" clip-rule="evenodd" d="M2.75 1C2.33579 1 2 1.33579 2 1.75C2 2.16421 2.33579 2.5 2.75 2.5H13.25C13.6642 2.5 14 2.16421 14 1.75C14 1.33579 13.6642 1 13.25 1H2.75ZM7.24407 3.87287C7.64284 3.41241 8.35716 3.41241 8.75593 3.87287L13.0622 8.84535C13.6231 9.49299 13.163 10.5 12.3063 10.5H10V14C10 14.5523 9.55228 15 9 15H7C6.44772 15 6 14.5523 6 14V10.5H3.69371C2.83696 10.5 2.37691 9.49299 2.93778 8.84535L7.24407 3.87287Z" fill="#8A919F"></path></svg></button> <button data-v-0b2d23d8="" title="建议反馈" class="btn meiqia-btn" style=""><svg data-v-0b2d23d8="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-feedback"><path data-v-0b2d23d8="" fill-rule="evenodd" clip-rule="evenodd" d="M1.8252 4.002C1.8252 2.80032 2.79935 1.82617 4.00102 1.82617H12.001C13.2027 1.82617 14.1768 2.80032 14.1768 4.002V9.71628C14.1768 10.918 13.2027 11.8921 12.001 11.8921H9.43308L6.92709 14.1281C6.4455 14.5578 5.68234 14.216 5.68234 13.5706V11.8921H4.00102C2.79934 11.8921 1.8252 10.918 1.8252 9.71628V4.002ZM11.2414 7.86753C11.3826 7.65526 11.3249 7.36878 11.1126 7.22764C10.9004 7.08651 10.6139 7.14417 10.4728 7.35643C9.94042 8.15705 9.03153 8.68309 7.99997 8.68309C6.96841 8.68309 6.05952 8.15705 5.52719 7.35643C5.38605 7.14417 5.09957 7.08651 4.88731 7.22764C4.67504 7.36878 4.61738 7.65526 4.75852 7.86753C5.45467 8.91452 6.64645 9.60617 7.99997 9.60617C9.35349 9.60617 10.5453 8.91452 11.2414 7.86753Z" fill="#1E80FF"></path></svg></button></div> <!----> <!----> <!----> <!----> <!----></div> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----></div></div></div><script>window.__NUXT__=(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F){q.loading=a;q.skeleton=b;q.cursor=f;q.data=[];q.total=d;q.hasMore=b;return {layout:"default",data:[{renderPost:b,additionalDataUseCSR:b}],fetch:[{bdPageUrlForNav:"https:\u002F\u002Fbd.juejin.cn?utm_campaign=bd&utm_source=web&utm_medium=nav",queryString:e,isShowUserDropdownList:a,isShowAddMoreList:a,isFocus:a,isPhoneMenuShow:a,visibleBadge:a,placeholder:e,hiddenProperty:"hidden",searchHistoryVisible:a,searchHistoryItems:[],tabBadge:c,isChangePlaceholder:b,showMallBridge:a},{articleBanner:{url:"https:\u002F\u002Fjuejin.cn\u002Fextension\u002F?utm_source=standalone&utm_medium=post&utm_campaign=extension_promotion",title:"安装掘金浏览器插件",content:"多内容聚合浏览、多引擎快捷搜索、多工具便捷提效、多模式随心畅享，你想要的，这里都有！"},showExtension:b}],error:c,state:{view:{activityIndex:{activityList:[],pageInfo:{hasNextPage:a,endCursor:e},afterPosition:e,activityListIsLoading:b,activityListIsError:a,userActivityList:[],placeholder:e,actionType:{FETCH:"@\u002Fview\u002Factivity-index\u002FFETCH",FETCH_RECOMMEND_LIST:"@\u002Fview\u002Factivity-index\u002FFETCH_RECOMMEND_LIST",RESET_ACTIVITY_LIST:"@\u002Fview\u002Factivity-index\u002FRESET_ACTIVITY_LIST",FETCH_USER_ACTIVITY_LIST:"@\u002Fview\u002Factivity-index\u002FFETCH_USER_ACTIVITY_LIST",FETCH_NEW_COUNT:"@\u002Fview\u002Factivity-index\u002FFETCH_NEW_COUNT",DELETE_ACTIVITY:"@\u002Fview\u002Factivity-index\u002FDELETE_ACTIVITY",TOGGLE_FOLLOW_USER:"@\u002Fview\u002Factivity-index\u002FTOGGLE_FOLLOW_USER",FETCH_ENTRY_COMMENT_LIST:"@\u002Fview\u002Factivity-index\u002FFETCH_ENTRY_COMMENT_LIST",UPDATE_LIST_LOADING:"@\u002Fview\u002Factivity-index\u002FUPDATE_LIST_LOADING",RESET:"@\u002Fview\u002Factivity-index\u002FRESET"},hotList:{list:[],after:e,loading:a,hasNextPage:a,actionType:{UPDATE_STATE:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FFETCH",RESET:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FRESET"}},sidebar:{bannerList:[],actionType:{RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002FRESET",UPDATE_STATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002FUPDATE_STATE",FETCH_BANNER:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002FFETCH_BANNER"},recommend:{pageSize:h,page:d,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FUPDATE",FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FFETCH_MORE",RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FRESET"},after:d},followed:{pageSize:h,page:d,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FUPDATE",FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FFETCH_MORE",RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FRESET"},after:d},recommendPin:{list:[],after:e,loading:a,hasNextPage:b,actionType:{UPDATE_STATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FFETCH",RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FRESET"}}},topicPinList:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FUPDATE",FETCH:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FFETCH_MORE",RESET:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FRESET"},topicId:e,navList:[{type:k,name:k,title:"推荐 ",id:k},{type:m,name:m,title:"热门 ",id:m},{type:o,name:o,title:"关注 ",id:o},{type:i,name:"opensource",title:"开源推荐 ",id:"5c09ea2b092dcb42c740fe73"},{type:i,name:"recruitment",title:"内推招聘",id:"5abb61e1092dcb4620ca3322"},{type:i,name:"dating",title:"掘金相亲",id:"5abcaa67092dcb4620ca335c"},{type:i,name:"slacking",title:"上班摸鱼",id:"5c106be9092dcb2cc5de7257"},{type:i,name:"app",title:"应用安利",id:"5b514af1092dcb61bd72800d"},{type:i,name:"tool",title:"开发工具",id:"5abb67d2092dcb4620ca3324"},{type:i,name:"news",title:"New资讯",id:"5c46a17f092dcb4737217152"}],sortType:p}},search:{search_result_from:d,query:e,list:[],linkList:[],loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fsearch\u002FFETCH",FETCH_MORE:"@\u002Fview\u002Fsearch\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fsearch\u002FRESET"}},columnIndex:{list:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FRESET"},sort:n,category:"all"},hotList:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FUPDATE",FETCH:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FFETCH_MORE",RESET:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FRESET"}}},timelineIndex:{tdkTemplates:[],categoryNavList:[],tagNavList:[],splitTagList:[],timelineAdList:[],list:[],sort:p,category:k,categoryId:e,tagId:e,tag:"全部",actionType:{FETCH_TIMELINE_LIST:"@\u002Fview\u002FtimelineIndex\u002FFETCH_TIMELINE_LIST",FETCH_CATEGORY_LIST:"@\u002Fview\u002FtimelineIndex\u002FFETCH_CATEGORY_LIST",FETCH_TAG_LIST:"@\u002Fview\u002FtimelineIndex\u002FFETCH_TAG_LIST",DELETE_ENTRY:"@\u002Fview\u002FtimelineIndex\u002FDELETE_ENTRY",DELETE_USER_ENTRIES:"@\u002Fview\u002FtimelineIndex\u002FDELETE_USER_ENTRIES",DELETE_TAG_ENTRIES:"@\u002Fview\u002FtimelineIndex\u002FDELETE_TAG_ENTRIES",FETCH_MORE:"@\u002Fview\u002FtimelineIndex\u002FFETCH_MORE",FETCH:"@\u002Fview\u002FtimelineIndex\u002FFETCH",RESET:"@\u002Fview\u002FtimelineIndex\u002FRESET"},serverRenderTimelineList:a,timelineList:{list:[],cursor:f,skeleton:b,loading:a,hasMore:b,categoryId:e,tagId:e,sort:e,actionType:{UPDATE_STATE:"timeline-list\u002FUPDATE_STATE",FETCH_MORE:"timeline-list\u002FFETCH_MORE",FETCH:"timeline-list\u002FFETCH",RESET:"timeline-list\u002FRESET"}},recommendList:{list:[],cursor:f,loading:a,skeleton:b,hasMore:b,actionType:{UPDATE_STATE:"recommend-list\u002FUPDATE_STATE",FETCH_MORE:"recommend-list\u002FFETCH_MORE",FETCH:"recommend-list\u002FFETCH",RESET:"recommend-list\u002FRESET"}},followingList:{list:[],cursor:f,skeleton:b,loading:a,hasMore:b,actionType:{UPDATE_STATE:"following-list\u002FUPDATE_STATE",FETCH_MORE:"following-list\u002FFETCH_MORE",FETCH:"following-list\u002FFETCH",RESET:"following-list\u002FRESET"}}},subscribe:{subscribed:{list:[],cursor:f,skeleton:b,loading:a,hasMore:a,actionType:{UPDATE_STATE:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FUPDATE_STATE",FETCH_MORE:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FFETCH_MORE",FETCH:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FFETCH",RESET:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FRESET"}},all:{list:[],cursor:f,loading:a,skeleton:b,hasMore:a,linkList:e,actionType:{UPDATE_STATE:"view\u002Fsubscribe\u002Fall\u002Flist\u002FUPDATE_STATE",FETCH_MORE:"view\u002Fsubscribe\u002Fall\u002Flist\u002FFETCH_MORE",FETCH:"view\u002Fsubscribe\u002Fall\u002Flist\u002FFETCH",RESET:"view\u002Fsubscribe\u002Fall\u002Flist\u002FRESET"}}},entryPublic:{entry:{user:{}},relatedEntryList:[],relatedCollectionList:[],actionType:{FETCH:"@\u002Fview\u002FentryPublic\u002FFETCH",RESET:"@\u002Fview\u002FentryPublic\u002FRESET"}},user:{user:{},serverRendered:a,userAnnuals:[],actionType:{FETCH:"@\u002Fview\u002Fuser\u002FFETCH",RESET:"@\u002Fview\u002Fuser\u002FRESET",UPDATE:"@\u002Fview\u002Fuser\u002FUPDATE",FETCH_ANNUALS:"@\u002Fview\u002Fuser\u002FFETCH_ANNUALS"},detailList:{actionType:{RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FRESET"},likeList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FRESET"}},postList:{list:[],hasMore:a,skeleton:a,loading:a,sort:n,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FRESET"}},searchList:{list:[],hasMore:a,skeleton:a,loading:a,key_word:e,search_type:d,cursor:f,isPostSearch:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FRESET"}},tagList:{list:[],loading:a,skeleton:b,hasMore:a,cursor:f,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FRESET"}},collectionList:{list:[],userId:e,skeleton:b,hasMore:a,cursor:f,type:"created",loading:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FRESET",TOGGLE_FOLLOW_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FTOGGLE_FOLLOW_COLLECTION",FOLLOW_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FFOLLOW_COLLECTION",UNFOLLOW_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FUNFOLLOW_COLLECTION",DELELTE_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FDELELTE_COLLECTION",ADD_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FADD_COLLECTION",EDIT_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FEDIT_COLLECTION"}},followerList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FRESET"}},followingList:{list:[],cursor:f,hasMore:a,skeleton:a,loading:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FRESET"}},followingTeamsList:{list:[],cursor:f,hasMore:a,skeleton:a,loading:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FRESET"}},activityList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FRESET"}},bookList:{list:[],cursor:f,skeleton:b,hasMore:a,loading:a,type:"wrote",actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FRESET"}},pinList:{list:[],hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FRESET"}},courseList:{list:[],hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FRESET"}},pinPraisedList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FRESET"}},eventList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FRESET"}},selfColumnList:{list:[],hasMore:a,skeleton:a,loading:a,cursor:f,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FRESET"}},columnFollowedList:{list:[],hasMore:a,skeleton:a,loading:a,cursor:f,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FRESET",FILTER:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FFILTER"}},realtimes:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FRESET",DELETE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FDELETE"}},realtimeliked:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FRESET",DELETE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FDELETE"}}}},tag:{tag:{},actionType:{FETCH:"@\u002Fview\u002Ftag\u002FFETCH",FETCH_LIST:"@\u002Fview\u002Ftag\u002FFETCH_LIST",RESET:"@\u002Fview\u002Ftag\u002FRESET"},list:{list:[],cursor:f,loading:a,skeleton:a,hasMore:a,actionType:{UPDATE_STATE:"@\u002Fview\u002Ftag\u002Flist\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Ftag\u002Flist\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Ftag\u002Flist\u002FFETCH",RESET:"@\u002Fview\u002Ftag\u002Flist\u002FRESET"}}},notification:{user:{actionType:{READ_ALL:"@\u002Fview\u002Fnotification\u002Fuser\u002FREAD_ALL",RESET:"@\u002Fview\u002Fnotification\u002Fuser\u002FRESET"},listState:{list:[],cursor:f,hasMore:a,isLoading:a,messageType:3,msgTotal:d,msgSubMap:{"1":d,"2":d,"3":d,"4":d,"7":d}},list:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FRESET"}}},system:{actionType:{READ_ALL:"@\u002Fview\u002Fnotification\u002Fsystem\u002FREAD_ALL",RESET:"@\u002Fview\u002Fnotification\u002Fsystem\u002FRESET"},list:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FRESET"}}}},column:{serverRenderList:a,column:{id:w},entry:{id:w,screenshot:void 0,liked:a,article_id:w,article_info:{article_id:w,user_id:"3210229682279159",category_id:"6809635626661445640",tag_ids:[6809641167680963000],visible_level:d,link_url:e,cover_image:"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d63a9176928~tplv-t2oaga2asx-image.image",is_gfw:d,title:"深入探索 iOS 包体积优化",brief_content:"虽然苹果官方一直在提高最大的可执行文件大小，在 iOS 13 还取消了强制的 OTA 限制，但是超过 200 MB 会默认请求用户下载许可（可在 设置 - iTunes Store与App Store - App下载 中配置），并且iOS 13 以下的超过 200 MB 无法使…",is_english:d,is_original:g,user_index:d,original_type:d,original_author:e,content:"deprecated",ctime:"1590561673",mtime:"1599014911",rtime:"-62135596800",draft_id:"6845076797793501192",view_count:7553,collect_count:56,digg_count:29,comment_count:d,hot_index:406,is_hot:d,rank_index:.00000189,status:g,verify_status:g,audit_status:l,mark_content:"\n\n## 背景\n\n为什么要进行包大小优化？\n\n虽然苹果官方一直在提高最大的可执行文件大小，在 iOS 13 还取消了强制的 OTA 限制，但是超过 200 MB 会默认请求用户下载许可（可在 设置 - iTunes Store与App Store - App下载 中配置），并且iOS 13 以下的超过 200 MB 无法使用 OTA，影响了整体更新率。\n\n如果 App 还要适配 iOS 8 之前的版本，苹果还规定了主二进制 __TEXT 段的大小不能超过 60MB，否则上传构建时会被打回。\n\n为了更好的用户体验，减少用户等待时间，包瘦身仍然是 App 优化中重要的一环。\n\n\n![](https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d872d97732f~tplv-t2oaga2asx-image.image)\n\n\n\n## 资源瘦身\n\n### 移除无用图片资源\n\n- 目前市面上基本不适配 iPhone4 以下的机型了，1x 的图片都可以移除。\n\n- 通过资源关键字进行全局匹配，筛选出未使用的资源。有些资源使用是通过拼接或者后台下发名称，需对筛选出的资源进行筛选，防止误删。\n\n- 这里推荐使用工具 [LSUnusedResources](https:\u002F\u002Fgithub.com\u002Ftinymind\u002FLSUnusedResources)，可以根据项目实际情况定义查找文件的正则表达式。另外建议勾选 Ignore similar name ，避免扫描出图片组。\n\n  \n![](https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d894104048a~tplv-t2oaga2asx-image.image)\n\n  \n\n### 压缩图片等资源文件\n\n- 建议使用无损压缩，例如 [ImageOptim](https:\u002F\u002Fimageoptim.com\u002Fmac)、[pngquant命令](https:\u002F\u002Fpngquant.org)、[tinypng](https:\u002F\u002Ftinypng.com\u002F) ，如果涉及有损压缩最好要求设计介入进行资源检查。\n\n- 还可以使用 [Webp](https:\u002F\u002Fdevelopers.google.com\u002Fspeed\u002Fwebp\u002F) 格式的图片，Webp 是由 Google 推出的图片格式，有损压缩模式下图片体积只有 jpeg 格式的 1\u002F3，无损压缩也能减小 1\u002F4，可以使用 [cwebp](https:\u002F\u002Fdevelopers.google.com\u002Fspeed\u002Fwebp\u002Fdocs\u002Fprecompiled) 进行格式压缩转换，目前 SDWebImage、Kingfisher 都用支持该格式解析的拓展。无损压缩命令如下：\n\n  ```\n  \u002F\u002F 语法\n  cwebp [options] input_file -o output_file.webp\n  \u002F\u002F 无损压缩\n  cwebp -lossless original.png -o new.webp\n  ```\n\n  除了终端命令，还可以使用 [iSparta](http:\u002F\u002Fisparta.github.io\u002F) 进行批量转换格式。\n\n  \n![](https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d8d5363e4a2~tplv-t2oaga2asx-image.image)\n\n- Xcode 本身也提供压缩图片的编译选项\n\n  - Compress PNG Files\n\n    打包的时候基于 pngcrush 工具自动对图片进行无损压缩，如果我们已自行对图片进行压缩，该选项最好关闭。\n\n  - Remove Text Medadata From PNG Files\n\n    移除 PNG 资源的文本字符，比如图像名称、作者、版权、创作时间、注释等信息。\n\n  \n![](https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d8e9fd2ce96~tplv-t2oaga2asx-image.image)\n\n\n\n### 删除重复文件\n\n通过校验所有资源的 MD5，筛选出项目中的重复资源，推荐使用 [fdupes](https:\u002F\u002Fgithub.com\u002Fadrianlopezroche\u002Ffdupes) 工具进行重复文件扫描，fdupes 是 Linux 平台的一个开源工具，由 C 语言编写 ，文件比较顺序是`大小对比 \u003E 部分 MD5 签名对比 \u003E 完整 MD5 签名对比 \u003E 逐字节对比`。\n\n通过 Homebrew 安装 fdupes：\n\n```\nbrew install fdupes\n```\n\n查看目标文件夹下的重复文件：\n\n````````\nfdupes -Sr 文件夹   \u002F\u002F 查看文件夹下所有子目录中的重复文件及大小\nfdupes -Sr 文件夹 \u003E 输出地址.txt  \u002F\u002F 将信息输出到txt文件中\n\n````````\n\n输出内容如下，一般情况下，相同文件仅保留一份，修改对应的引用即可。\n\n```\n4474 bytes each:\nTest\u002FImages.xcassets\u002FTabBarImage\u002FtabBar_2.imageset\u002FtabBar_2@2x.png\nTest\u002FResource\u002FTabBarImage\u002FtabBar_2@2x.png\n\n3912 bytes each:\nTest\u002FImages.xcassets\u002FTabBarImage\u002FtabBar_3.imageset\u002FtabBar_3@2x.png\nTest\u002FResource\u002FTabBarImage\u002FtabBar_3@2x.png\n\n```\n\n### 图片资源放入.xcassets\n\n- 尽量将图片资源放入 Images.xcassets 中，包括 pod 库的图片。 Images.xcassets 中的图片加载后会有缓存，提升加载速度，并且在最终打包时会自动进行压缩（Compress PNG Files），再根据最终运行设备进行 2x 和 3x 分发。\n\n- 对于内部 Pod 库中的资源文件，我们可以在 Pod 库里面的 Resources 目录下新建 Asset Catalog 文件，命名为 Images.xcassets，移入所有图片文件，接着手动修改该 SDK 的 `podspec` 文件指定使用该 Images.xcassets。\n\n  ```\n  s.resource_bundles = {\n      'xxsdk' =\u003E ['PAX\u002FAssets\u002F*.xcassets']\n  }\n  ```\n\n  \u003E Pod 资源文件的引用方式分为 `resource_bundles` 和 `resources`，这里我们使用的是 `resource_bundles`，会为为指定的资源打一个 `.bundle`，`.bundle`包含一个 `Assets.car`，获取图片的时候要严格指定 `bundle` 的位置，能很好的隔离各个库资源包。\n  \u003E\n  \u003E ```objective-c\n  \u003E NSString *bundlePath = [[NSBundle bundleForClass:[self class]].resourcePath stringByAppendingPathComponent:@\"\u002FPAX.bundle\"];\n  \u003E      NSBundle *resource_bundle = [NSBundle bundleWithPath:bundlePath];\n  \u003E      UIImage *image = [UIImage imageNamed:@\"xxxx\" inBundle:resource_bundle compatibleWithTraitCollection:nil];\n  \u003E ```\n  \u003E\n  \u003E \n  \u003E\n  \u003E - `resource_bundles`\n  \u003E\n  \u003E   允许定义当前 Pod 库的资源包的**名称和文件**。用 hash 的形式来声明，key 是 bundle 的名称，value 是需要包括的文件的通配 patterns。CocoaPods 官方强烈推荐使用 `resource_bundles`，因为用 key-value 可以避免相同名称资源的名称冲突。同时建议 bundle 的名称至少应该包括 Pod 库的名称，可以尽量减少同名冲突\n  \u003E\n  \u003E - `resources`\n  \u003E\n  \u003E   使用 `resources` 来指定资源，被指定的资源只会简单的被 copy 到目标工程中（主工程）。官方认为用 `resources` 是无法避免同名资源文件的冲突的，同时，Xcode 也不会对这些资源做优化。\n  \u003E\n  \u003E \n\n\n\n### 部分大资源文件通过运行下载\n\n对于一些非必要的大资源文件，例如字体库、换肤资源，可以在 App 启动后通过异步下载到本地，而不用直接放在 ipa 包内。\n\n\n\n## 代码瘦身\n\n### 删除未使用代码\n\n####  LinkMap 结合 Mach-O \n\nLinkMap 的 Symbols 中会列出所有方法、类、block及它们的大小，通过获取 LinkMap 即可以获得方法和类的全集；再通过 MachOView 获得使用过的方法和类，两者的差值就是我们要找寻的未使用代码。\n\n- 获取 LinkMap \n\n  将 Build Setting - Write Link Map File 设置为 Yes，接着设置 Path to Link Map File 指定文件存放位置，即可在每次编译后获取对应的 LinkMap 文件。\n\n- MachOView\n\n  [MachOView](https:\u002F\u002Fgithub.com\u002Fgdbinit\u002FMachOView) 是一款开源软件，可以查看 Mach-O 文件的内容。OC 的方法都会通过 objc_msgSend 来调用。可以通过 Mach-O 查看 ``__objc_selrefs`` 这个 section 来获取 selector 参数的，另外 `__objc_classrefs` 和 `__objc_superrefs` 这两个 section 可以获取调用过的类和父类。\n\n  \n![](https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d95837b512e~tplv-t2oaga2asx-image.image)\n\n**该方式可作为参考使用，移除的代码还需要经过二次确认，防止存在拼接字符串动态等调用方式。**\n\n#### AppCode\n\n当工程代码量不大时，还可以使用 AppCode 自带的静态分析工具辅助检查未使用的类和代码，功能在菜单 Code - Inspect Code。\n\n\n![](https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d973fedd4cb~tplv-t2oaga2asx-image.image)\n\n**该静态检测方式存在的问题较多，适合作为平常开发的辅助检测工具使用**。具体的问题有：\n\n- SDK定义的未使用的协议会被判定为无用协议\n- 如果子类使用了父类的方法，父类的这个方法不会被认为使用了\n- 通过点的方式使用属性，该属性会被认为没有使用\n- 使用 performSelector 方式调用的方法也检查不出来，比如 self performSelector:@selector(arrivalRefreshTime)\n- 运行时声明类的情况检查不出来。比如通过 NSClassFromString 方式调用的类会被查出为没有使用的类，比如 layerClass = NSClassFromString(@“SMFloatLayer”)。还有以[[self class] accessToken] 这样不指定类名的方式使用的类，会被认为该类没有被使用。像 UITableView 的自定义的 Cell 使用 registerClass，这样的情况也会认为这个 Cell 没有被使用。\n\n\n\n### 删除版本遗留代码\n\n随着项目业务的迭代，必然会出现版本遗弃的功能，这些功能可能连入口都已经屏蔽。对于这些老业务代码，也是应该被移除的。\n\n我们可以通过 Runtime 提供的 `isInitialized` 方法在运行时检测一个类是否有被使用过，更多代码可查看 [objc4-750](https:\u002F\u002Fgithub.com\u002FSimonYHB\u002Fobjc4-750.git)。\n\n```objective-c\n\u002F\u002F 类的方法列表已修复\n#define RW_METHODIZED         (1\u003C\u003C30)\n\n\u002F\u002F 类已经初始化了\n#define RW_INITIALIZED        (1\u003C\u003C29)\n\n\u002F\u002F 类在初始化过程中\n#define RW_INITIALIZING       (1\u003C\u003C28)\n\n\u002F\u002F class_rw_t-\u003Ero 是 class_ro_t 的堆副本\n#define RW_COPIED_RO          (1\u003C\u003C27)\n\n\u002F\u002F 类分配了内存，但没有注册\n#define RW_CONSTRUCTING       (1\u003C\u003C26)\n\n\u002F\u002F 类分配了内存也注册了\n#define RW_CONSTRUCTED        (1\u003C\u003C25)\n\n\u002F\u002F GC：class有不安全的finalize方法\n#define RW_FINALIZE_ON_MAIN_THREAD (1\u003C\u003C24)\n\n\u002F\u002F 类的 +load 被调用了\n#define RW_LOADED             (1\u003C\u003C23)\n\nbool isInitialized() {\n   return getMeta()-\u003Edata()-\u003Eflags & RW_INITIALIZED;\n}\n```\n\n### 精简重复代码\n\n多人开发的项目可能存在大量复制粘贴代码，可以通过 [PMD](https:\u002F\u002Fpmd.github.io\u002F) 扫描重复的代码片段，再结合实际逻辑重构代码。\n\n**PMD** 是一个代码静态扫描工具，直接通过 `brew` 命令安装。\n\n```\nbrew install pmd\n```\n\n安装完成后，通过 PMD-CPD 即可得到重复代码信息，格式如下：\n\n```\npmd cpd --files 扫描文件目录 --minimum-tokens 70 --language objectivec --encoding UTF-8 --format xml \u003E repeat.xml\n```\n\n其中，`--files` 用于指定文件目录，`--minimum-tokens` 用于设置最小重复代码阈值，`--format` 用于指定输出文件格式，支持 xml\u002Fcsv\u002Ftxt 等格式，这里建议使用 xml，方便查看 。\n\n生成的 XML 文件内容如下，根据 file 标签信息就能定位到重复代码位置。\n\n```xml\n\u003C?xml version=\"1.0\" encoding=\"UTF-8\"?\u003E\n\u003Cpmd-cpd\u003E\n   \u003Cduplication lines=\"87\" tokens=\"565\"\u003E\n      \u003Cfile column=\"1\" endcolumn=\"3\" endline=\"197\" line=\"111\"\n            path=\"\u002FUsers\u002Fgithub\u002FiOS-Develop-Tools\u002FIOSDevelopTools\u002FIOSDevelopTools\u002FOCTimeConsumeMonitor\u002FYECallMonitor.m\"\u002F\u003E\n      \u003Cfile column=\"1\" endcolumn=\"3\" endline=\"152\" line=\"66\"\n            path=\"\u002FUsers\u002Fgithub\u002FiOS-Develop-Tools\u002FIOSDevelopTools\u002FIOSDevelopTools\u002FOCTimeConsumeMonitor\u002FYECallTraceShowViewController.m\"\u002F\u003E\n      \u003Ccodefragment\u003E\u003C![CDATA[}\n#pragma private\n- (NSUInteger)findStartDepthIndex:(NSUInteger)start arr:(NSArray *)arr\n{\n    NSUInteger index = start;\n    if (arr.count \u003E index) {\n        YECallRecordModel *model = arr[index];\n        int minDepth = model.depth;\n        int minTotal = model.total;\n        for (NSUInteger i = index+1; i \u003C arr.count; i++) {\n            YECallRecordModel *tmp = arr[i];\n            if (tmp.depth \u003C minDepth || (tmp.depth == minDepth && tmp.total \u003C minTotal)) {\n                minDepth = tmp.depth;\n                minTotal = tmp.total;\n                index = i;\n            }\n        }\n    }\n    return index;\n}\n\n- (void)setRecordDic:(NSMutableArray *)arr record:(YEThreadCallRecord *)record\n{\n    if ([arr isKindOfClass:NSMutableArray.class] && record) {\n        int total=1;\n        for (NSUInteger i = 0; i \u003C arr.count; i++)\n        {\n            YECallRecordModel *model = arr[i];\n            if (model.depth == record-\u003Edepth) {\n                total = model.total+1;\n                break;\n            }\n        }\n        \n        YECallRecordModel *model = [[YECallRecordModel alloc] initWithCls:record-\u003Ecls sel:record-\u003Esel time:record-\u003Etime depth:record-\u003Edepth total:total];\n        [arr insertObject:model atIndex:0];\n    }\n}\n\n]]\u003E\u003C\u002Fcodefragment\u003E\n   \u003C\u002Fduplication\u003E\n\u003C\u002Fpmd-cpd\u003E\n```\n\n\n\n## 与包体积有关的编译选项\n\n### 建议修改\n\n- Valid Architectures \n\n  设置编译生成的 ipa 包所支持的架构，不支持32位以及 iOS8 ，可去掉 armv7及之前的架构 ，减小生成的 ipa 包。\n\n- Strip Link Product 和 *Deployment* Postprocessing\n\n  Strip Linked Product 默认为 Yes，Deployment Postprocessing 默认为 No，Strip Linked Product 在 *Deployment* Postprocessing 设置为 YES 的时候才生效。当Strip Linked Product设为YES的时候，ipa会去除掉symbol符号，运行 App 断点不会中断，在程序中打印[NSThread callStackSymbols]也无法看到类名和方法名。而在程序崩溃时，终端的函数调用栈中也无法看到类名和方法名。但是不会影响正常的崩溃日志生成和解析，依然可以通过符号表来解析崩溃日志，适合线上使用，建议在 release 下都设置为 Yes。\n\n- Generate Debug Symbols\n\n  默认为 Yes，当设置为 Yes 时，编译生成的 .o 文件会更大，包含了断点信息和符号化的调试信息，方便开发阶段调试，建议在 release 下设置为 No，线上需要获取崩溃信息时搭配编译生成的 dSYM 文件解析符号。\n\n- Enable C++ Exceptions 和 Enable Objective-C Exceptions\n\n  默认都为 Yes，用于捕获 C++ 和 OC 的异常，如果项目中使用了 try catch， 可考虑去掉并在 release 下设置为 No，配合在 Other C Flags 添加 -fno-exceptions 和 -fno-rtt ，会有比较明显的体积减小。\n\n  \n\n### 保持不变\n\n- Generate Debug Symbols\n\n  默认为 Yes，用生成dSYM文件，有助于解析崩溃信息。\n\n- Make Strings Read-Only\n\n  默认为 Yes，复用字符串字面量。\n\n- Dead Code Stripping\n\n  默认为 Yes，去除冗余代码。\n\n- Optimization Level\n\n  Release 下默认为 Fastest, Smalllest[-Os]，自动优化代码。\n\n- Symbols Hidden by Default\n\n  Release 下默认为 Yes，会移除符号信息，把所有符号都定义成 private extern。\n\n- Strip Swift Symbols\n\n  默认为 Yes，移除 Swift 相关的符号表，运行时再从 SWIFT 标准库中获取符号，从而减少应用体积。\n\n\n\n## App Thinning\n\nWWDC2015 发布会上首次介绍了 App Thinning，并在 iOS9 开始应用。严格来说App Thinning不会让安装包变小，但用户安装应用时，苹果会根据用户的机型自动选择合适的资源和对应CPU架构的二进制执行文件（也就是说用户本地可执行文件不会同时存在 armv7 和 arm64），减少下载流量和安装占用空间。\n\n在上传 App 时，配置 App Thinning 即可开启。分为三个部分： Slicing、Bitcode、On-Demand Resources。\n\n\n![](https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d9ce82cd343~tplv-t2oaga2asx-image.image)\n\n### Slicing\n\n在向 iTunes connect 上传 App 后，会做 App 进行分割，创建不同的变体来适配不同的设备，不同变体之间的差异主要体现在系统指令集和资源文件上。\n\n在项目的 xcassets 目录添加图片，2x 和 3x 图会分别放入到不同的变体中，用户从 App Store 下载时只下载特定的变体，而不会下载全部的指令集和资源文件。\n\n\n![](https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d9e5b914691~tplv-t2oaga2asx-image.image)\n\n### Bitcode \n\nBitcode 是编译好的程序中间码，使用 Bitcode 上传到 iTunes Connect 的 app 将会在 Apple 服务器中进行链接和编译。该步骤主要是方便 Apple 推出新的架构或LLVM优化时无需重新上传 App。\n\n通过设置项目的 `Build Settings -\u003E Enable Bitcode` 为 YES 开启Bitcode，使用时需要保证 App 中所有的静态库和动态库都支持，否则会编译失败。\n\n由于 App 的编译是在 Apple 服务器中进行的，所以本地无法获取 dSYM 文件进行崩溃分析，需在上传时勾选 `Include app symbols for your application* to receive symbolicated crash logs from Apple`，再从  `Xcode -\u003E Window -\u003E Organizer` 或者 Apple Store Connect 中下载对应的 dYSM文件。\n\n### On-Demand Resources\n\n可将部分资源单独下载，而不随着 App 一同下载，减少初始 App 的大小。例如相机的滤镜和游戏关卡。\n\n\n![](https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d9fa31ad79d~tplv-t2oaga2asx-image.image)\n\n\n\n## 其他\n\n### Framework 瘦身\n\n####  只保留需要的指令集\n\n没有开启 Bitcode 时，App 内的 Framework 会包含多个指令集，我们可以手动移除不需要的指令集。\n\nFramework 也是 Mach-O 格式文件，一般第三方的 Framework 为了适配多种架构，都会包含全部 CPU 的指令集，此时的二进制文件称谓胖二进制文件。\n\n例如百度地图的定位框架 BMKLocationKit，就包含了所有 CPU 的指令集，我们可以通过 `lipo -info BMKLocationKit`  看到如下信息： \n\n```\nArchitectures in the fat file: \u002FUsers\u002FBMKLocationKit.framework\u002FBMKLocationKit are: armv7 armv7s i386 x86_64 arm64\n```\n\n也可以使用 MachOView 工具查看：\n\n\n![](https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254da19b9100a6~tplv-t2oaga2asx-image.image)\n\n可以看到 BMKLocationKit 包含了 `armv7 armv7s i386 x86_64 arm64` 5种指令集，而对于大多数移动端 App，只需要 armv7s 和 arm64 指令集就足够了。\n\n不同手机型号对应的指令集如下：\n\n| 指令集 | 型号                                                         |\n| ------ | ------------------------------------------------------------ |\n| armv7  | iPhone4s之前 \\| iPad｜iPad2｜iPad3(The New iPad)｜iPad mini｜iPod Touch 3G |\n| armv7s | iPhone5｜iPhone5C｜iPad4(iPad with Retina Display)           |\n| arm64  | iPhone5s之后的机型 \\| iPad Air  \\| iPad mini2(iPad mini with Retina Display)等 |\n| x86_64 | 模拟器64位处理器 \\| Mac应用                                  |\n| I386   | 模拟器32位处理器 \\| Mac应用                                  |\n\n我们可以通过 lipo 命令拆分胖二进制文件，只保留需要的指令集，以 BMKLocationKit 为例，指令如下：\n\n```objective-c\nlipo -info BMKLocationKit.framework\u002FBMKLocationKit\n\u002F\u002F Architectures in the fat file: BMKLocationKit are: armv7 armv7s i386 x86_64 arm64\n  \n\u002F\u002F 抽取armv7s架构\nlipo BMKLocationKit.framework\u002FBMKLocationKit -thin armv7s -output BMK\u002FBMKLocationKitArmv7s\n  \n\u002F\u002F 抽取arm64架构\nlipo BMKLocationKit.framework\u002FBMKLocationKit -thin arm64 -output BMK\u002FBMKLocationKitArm64\n  \n\u002F\u002F 合成armv7s和arm64\ncd \u002FUsers\u002Fyehuangbin\u002FDesktop\u002FBMK\nlipo -create BMKLocationKitArm64 BMKLocationKitArmv7s -output BMKLocationKit\n  \nlipo -info BMKLocationKit\n\u002F\u002F Architectures in the fat file: BMKLocationKit are: armv7s arm64\n\n\u002F\u002F 替换原先的二进制文件\nmv -f BMKLocationKit ..\u002FBMKLocationKit.framework\u002F\n```\n\n移除多余的指令集后，framework 大小从 4.3MB 降到 1.8MB，效果还是很显著的。\n\n#### 移除 Framework 的未使用代码\n\n通常我们可能因为某一个功能需求而引入较庞大的第三方 Framework，可以拆分 machO 文件，将不需要的 .o 文件移除。\n\n由于我们不是 framework 的作者，不熟悉其代码调用逻辑，移除后应多次验证是否会有关联影响，整天流程如图所示，具体操作可查看 [删除 FrameWork 中无用 mach-O 文件](https:\u002F\u002Fwww.infoq.cn\u002Farticle\u002Fios-thinning-delete-unnecessary-mach-o\u002F)。\n\n\n![](https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254da3c3c172a2~tplv-t2oaga2asx-image.image)\n\n涉及到的终端指令：\n\n```\n\u002F\u002F 查看二进制文件的架构信息\nlipo -info 二进制文件  \n\n\u002F\u002F 按架构拆分二进制文件，iOS常用 arm64、armv7s\nlipo 二进制文件 -thin 架构 -output 新架构二进制文件\n\n\u002F\u002F 拆分二进制文件具体的内容(.o文件列表)\nar -x 二进制文件\n\n\u002F\u002F 将.o合并成二进制文件\nlibtool -static -o 新二进制文件 *.o\n\n\u002F\u002F 合并将不同架构二进制文件\nlipo -create a架构二进制文件 b架构二进制文件 -output 合并后的二进制文件\n```\n\n\n\n### App Extension 用动态库替代静态库\n\n用动态库会减小二进制文件的体积，但会增加启动时间，增加了运行时载入的过程，并且依赖外部环境，需多方面考虑。\n\n### 慎重引入第三方库\n\n- 不要用引入功能重复的第三库，例如 YYModel 和 JSONModel、AFNetworking 和 MKNetworkingKt。\n- 充分考虑引入的必要型，避免”因小引大“，例如只是需要 JSON 转模型功能而引入了整个 YYKit，更好的方式应该是将使用的部分抽离出来。\n\n### H5本地资源优化（只保留主页面）\n\n项目中有离线资源包，可考虑只保留主页面的代码和资源，通过增量更新的方式，启动后再进行其余离线包的下载。\n\n## 总结\n\n在实际项目瘦身过程中，上面列举的方式不一定都适用。例如当项目具有动态化，许多类和方法都不会在代码中直接产生引用，而可能是通过接口方式下发数据来使用，如果没有配置表会容易产生误删。我们应该怀着敬畏之心，宁可多花点时间，避免误操作，毕竟瘦身虽可贵，安全价更高...\n\n### 工具汇总\n\n- 无用图片检测：[LSUnusedResources](https:\u002F\u002Fgithub.com\u002Ftinymind\u002FLSUnusedResources)\n- 图片压缩：[ImageOptim](https:\u002F\u002Fimageoptim.com\u002Fmac)、[pngquant命令](https:\u002F\u002Fpngquant.org)、[tinypng](https:\u002F\u002Ftinypng.com\u002F)、[Webp](https:\u002F\u002Fdevelopers.google.com\u002Fspeed\u002Fwebp\u002F) \n- 重复文件检测：[fdupes](https:\u002F\u002Fgithub.com\u002Fadrianlopezroche\u002Ffdupes) \n- 查看Mach-O内容：[MachOView](https:\u002F\u002Fgithub.com\u002Fgdbinit\u002FMachOView) \n- 静态检测代码：LinkMap结合Mach-O 或 Appcode静态检测\n- 重复代码检测：[PMD](https:\u002F\u002Fpmd.github.io\u002F) \n\n### 参考资料\n- [包大小：如何从资源和代码层面实现全方位瘦身？](https:\u002F\u002Ftime.geekbang.org\u002Fcolumn\u002Farticle\u002F88573?utm_source=web&utm_medium=pinpaizhuanqu&utm_campaign=baidu&utm_term=pinpaizhuanqu&utm_content=0427)\n- [Humble Assets Catalog](http:\u002F\u002Flingyuncxb.com\u002F2019\u002F04\u002F14\u002FHumbleAssetCatalog\u002F)\n- [iOS-APP包的瘦身之旅（从116M到现在的36M的减肥之路）_移动开发_ZFJ_张福杰-CSDN博客](https:\u002F\u002Fblog.csdn.net\u002Fu014220518\u002Farticle\u002Fdetails\u002F79725478)\n- [iOS 瘦身之道](https:\u002F\u002Fjuejin.cn\u002Fpost\u002F6844903845340921869)\n- [删除 FrameWork 中无用 mach-O 文件](https:\u002F\u002Fwww.infoq.cn\u002Farticle\u002Fios-thinning-delete-unnecessary-mach-o\u002F)\n- [iOS微信安装包瘦身](https:\u002F\u002Fmp.weixin.qq.com\u002Fs?__biz=MzAwNDY1ODY2OQ==&mid=207986417&idx=1&sn=77ea7d8e4f8ab7b59111e78c86ccfe66&scene=24&srcid=0921TTAXHGHWKqckEHTvGzoA#rd)\n\n### 优化系列其它文章\n- [深入探索 iOS 启动速度优化](https:\u002F\u002Fjuejin.cn\u002Fpost\u002F6844904127068110862)\n- [深入探索 iOS 启动速度优化（二进制重排）](https:\u002F\u002Fjuejin.cn\u002Fpost\u002F6844904121896534024)",display_count:d,is_markdown:g,app_html_content:e},author_user_info:{user_id:"3210229682279159",user_name:"SimonYe",company:"Ping An",job_title:"移动端程序猿",avatar_large:"https:\u002F\u002Fp26-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F89cbb70015b71abb1998e553d9eb5520~300x300.image",level:4,description:e,followee_count:13,follower_count:262,post_article_count:18,digg_article_count:28,got_digg_count:323,got_view_count:75778,post_shortmsg_count:d,digg_shortmsg_count:d,isfollowed:a,favorable_author:d,power:1847,study_point:d,university:{university_id:f,name:e,logo:e},major:{major_id:f,parent_id:f,name:e},student_status:d,select_event_count:d,select_online_course_count:d,identity:d,is_select_annual:a,select_annual_rank:d,annual_list_type:d,extraMap:{},is_logout:d,annual_info:[],account_amount:d,user_growth_info:{user_id:3210229682279159,jpower:1847,jscore:21.1,jpower_level:4,jscore_level:l,jscore_title:"见习掘友",author_achievement_list:[],vip_level:d,vip_title:e,jscore_next_level_score:30,jscore_this_level_mini_score:d},is_vip:a,become_author_days:d,collection_set_article_count:d},category:{category_id:"6809635626661445640",category_name:"iOS",category_url:"ios",rank:4,back_ground:"https:\u002F\u002Flc-mhke0kuv.cn-n1.lcfile.com\u002F34589746327a360a.png",icon:"https:\u002F\u002Flc-mhke0kuv.cn-n1.lcfile.com\u002F4a218bdf1f6969fd.png",ctime:1461266350,mtime:1432503174,show_type:3,item_type:l,promote_tag_cap:4,promote_priority:4,id:"6809635626661445640",name:"iOS",title:"iOS",alias:"ios"},tags:[{entriesCount:void 0,subscribed:a,id:"6809641167680962568",tag_id:"6809641167680962568",tag_name:"性能优化",color:e,icon:"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F1552374613638f172b668f237482fee67f11b7ac8c181.jpg~tplv-t2oaga2asx-image.image",back_ground:e,show_navi:d,ctime:1548033194,mtime:1677731191,id_type:9,tag_alias:"Performance optimization",post_article_count:3597,concern_user_count:41911,title:"性能优化",tagId:"6809641167680962568",articleCount:3597,subscribersCount:41911,createdAt:c,updatedAt:c}],user_interact:{id:6844904169938092000,omitempty:l,user_id:2894327269039357,is_digg:a,is_follow:a,is_collect:a},org:{org_info:c,org_user:c,is_followed:a},req_id:"2023030212503591277BA34AF06409CB14",status:{push_status:d},author_interact:c,extra:{boost_type:e},title:"深入探索 iOS 包体积优化",user:{id:"3210229682279159",self_description:void 0,followed:a,viewerIsFollowing:void 0,community:void 0,subscribedTagCount:d,wroteBookCount:d,boughtBookCount:d,isBindedPhone:a,level:4,user_id:"3210229682279159",user_name:"SimonYe",company:"Ping An",job_title:"移动端程序猿",avatar_large:"https:\u002F\u002Fp26-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F89cbb70015b71abb1998e553d9eb5520~300x300.image",description:e,followee_count:13,follower_count:262,post_article_count:18,digg_article_count:28,got_digg_count:323,got_view_count:75778,post_shortmsg_count:d,digg_shortmsg_count:d,isfollowed:a,favorable_author:d,power:1847,study_point:d,university:{university_id:f,name:e,logo:e},major:{major_id:f,parent_id:f,name:e},student_status:d,select_event_count:d,select_online_course_count:d,identity:d,is_select_annual:a,select_annual_rank:d,annual_list_type:d,extraMap:{},is_logout:d,annual_info:[],account_amount:d,user_growth_info:{user_id:3210229682279159,jpower:1847,jscore:21.1,jpower_level:4,jscore_level:l,jscore_title:"见习掘友",author_achievement_list:[],vip_level:d,vip_title:e,jscore_next_level_score:30,jscore_this_level_mini_score:d},is_vip:a,become_author_days:d,collection_set_article_count:d,juejinPower:1847,jobTitle:"移动端程序猿",roles:{isBookAuthor:a,isFavorableAuthor:a,isCobuilder:a,isAdmin:a},username:"SimonYe",blogAddress:void 0,selfDescription:e,beLikedCount:323,beReadCount:75778,followerCount:262,followingCount:13,collectionCount:d,createdCollectionCount:d,followingCollectionCount:d,postedPostsCount:18,pinCount:d,likedArticleCount:28,likedPinCount:d,avatar:"https:\u002F\u002Fp26-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F89cbb70015b71abb1998e553d9eb5520~300x300.image",latestLoginedInAt:c,createdAt:c,updatedAt:c,phoneNumber:e,titleDescription:e,followeesCount:13,applyEventCount:d,need_lead:d,followTopicCnt:d},viewCount:void 0,commentsCount:d,isEvent:void 0,abstract:"虽然苹果官方一直在提高最大的可执行文件大小，在 iOS 13 还取消了强制的 OTA 限制，但是超过 200 MB 会默认请求用户下载许可（可在 设置 - iTunes Store与App Store - App下载 中配置），并且iOS 13 以下的超过 200 MB 无法使…",latestCommentAt:c,createdAt:new Date(1590561673000),updatedAt:c,isTopicEvent:a,likedCount:29,likeCount:29,content:"deprecated",originalUrl:e,type:"post",collected:a,viewsCount:7553,username:"SimonYe",viewerHasLiked:a,draftId:"6845076797793501192",collectionCount:56},entryView:{},author:{id:"3210229682279159",self_description:void 0,followed:a,viewerIsFollowing:void 0,community:void 0,subscribedTagCount:d,wroteBookCount:d,boughtBookCount:d,isBindedPhone:a,level:4,user_id:"3210229682279159",user_name:"SimonYe",company:"Ping An",job_title:"移动端程序猿",avatar_large:"https:\u002F\u002Fp26-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F89cbb70015b71abb1998e553d9eb5520~300x300.image",description:e,followee_count:13,follower_count:262,post_article_count:18,digg_article_count:28,got_digg_count:323,got_view_count:75778,post_shortmsg_count:d,digg_shortmsg_count:d,isfollowed:a,favorable_author:d,power:1847,study_point:d,university:{university_id:f,name:e,logo:e},major:{major_id:f,parent_id:f,name:e},student_status:d,select_event_count:d,select_online_course_count:d,identity:d,is_select_annual:a,select_annual_rank:d,annual_list_type:d,extraMap:{},is_logout:d,annual_info:[],account_amount:d,user_growth_info:{user_id:3210229682279159,jpower:1847,jscore:21.1,jpower_level:4,jscore_level:l,jscore_title:"见习掘友",author_achievement_list:[],vip_level:d,vip_title:e,jscore_next_level_score:30,jscore_this_level_mini_score:d},is_vip:a,become_author_days:d,collection_set_article_count:d,juejinPower:1847,jobTitle:"移动端程序猿",roles:{isBookAuthor:a,isFavorableAuthor:a,isCobuilder:a,isAdmin:a},username:"SimonYe",blogAddress:void 0,selfDescription:e,beLikedCount:323,beReadCount:75778,followerCount:262,followingCount:13,collectionCount:d,createdCollectionCount:d,followingCollectionCount:d,postedPostsCount:18,pinCount:d,likedArticleCount:28,likedPinCount:d,avatar:"https:\u002F\u002Fp26-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F89cbb70015b71abb1998e553d9eb5520~300x300.image",latestLoginedInAt:c,createdAt:c,updatedAt:c,phoneNumber:e,titleDescription:e,followeesCount:13,applyEventCount:d,need_lead:d,followTopicCnt:d},adEntryList:[],relatedEntryList:[],linkVotingList:[],userAnnuals:[],columnList:[],resultHtml:"\u003Cstyle\u003E.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre\u003Ecode{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:\"\"}.markdown-body blockquote\u003Ep{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}\u003C\u002Fstyle\u003E\u003Cstyle data-highlight data-highlight-key=\"juejin\"\u003E.markdown-body pre,.markdown-body pre\u003Ecode.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}\u003C\u002Fstyle\u003E\u003Ch2 data-id=\"heading-0\"\u003E背景\u003C\u002Fh2\u003E\n\u003Cp\u003E为什么要进行包大小优化？\u003C\u002Fp\u003E\n\u003Cp\u003E虽然苹果官方一直在提高最大的可执行文件大小，在 iOS 13 还取消了强制的 OTA 限制，但是超过 200 MB 会默认请求用户下载许可（可在 设置 - iTunes Store与App Store - App下载 中配置），并且iOS 13 以下的超过 200 MB 无法使用 OTA，影响了整体更新率。\u003C\u002Fp\u003E\n\u003Cp\u003E如果 App 还要适配 iOS 8 之前的版本，苹果还规定了主二进制 __TEXT 段的大小不能超过 60MB，否则上传构建时会被打回。\u003C\u002Fp\u003E\n\u003Cp\u003E为了更好的用户体验，减少用户等待时间，包瘦身仍然是 App 优化中重要的一环。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d872d97732f~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" alt=\"\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 data-id=\"heading-1\"\u003E资源瘦身\u003C\u002Fh2\u003E\n\u003Ch3 data-id=\"heading-2\"\u003E移除无用图片资源\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E目前市面上基本不适配 iPhone4 以下的机型了，1x 的图片都可以移除。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E通过资源关键字进行全局匹配，筛选出未使用的资源。有些资源使用是通过拼接或者后台下发名称，需对筛选出的资源进行筛选，防止误删。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E这里推荐使用工具 \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftinymind%2FLSUnusedResources\" target=\"_blank\" title=\"https:\u002F\u002Fgithub.com\u002Ftinymind\u002FLSUnusedResources\" ref=\"nofollow noopener noreferrer\"\u003ELSUnusedResources\u003C\u002Fa\u003E，可以根据项目实际情况定义查找文件的正则表达式。另外建议勾选 Ignore similar name ，避免扫描出图片组。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d894104048a~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" alt=\"\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 data-id=\"heading-3\"\u003E压缩图片等资源文件\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E建议使用无损压缩，例如 \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fimageoptim.com%2Fmac\" target=\"_blank\" title=\"https:\u002F\u002Fimageoptim.com\u002Fmac\" ref=\"nofollow noopener noreferrer\"\u003EImageOptim\u003C\u002Fa\u003E、\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fpngquant.org\" target=\"_blank\" title=\"https:\u002F\u002Fpngquant.org\" ref=\"nofollow noopener noreferrer\"\u003Epngquant命令\u003C\u002Fa\u003E、\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Ftinypng.com%2F\" target=\"_blank\" title=\"https:\u002F\u002Ftinypng.com\u002F\" ref=\"nofollow noopener noreferrer\"\u003Etinypng\u003C\u002Fa\u003E ，如果涉及有损压缩最好要求设计介入进行资源检查。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E还可以使用 \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fspeed%2Fwebp%2F\" target=\"_blank\" title=\"https:\u002F\u002Fdevelopers.google.com\u002Fspeed\u002Fwebp\u002F\" ref=\"nofollow noopener noreferrer\"\u003EWebp\u003C\u002Fa\u003E 格式的图片，Webp 是由 Google 推出的图片格式，有损压缩模式下图片体积只有 jpeg 格式的 1\u002F3，无损压缩也能减小 1\u002F4，可以使用 \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fspeed%2Fwebp%2Fdocs%2Fprecompiled\" target=\"_blank\" title=\"https:\u002F\u002Fdevelopers.google.com\u002Fspeed\u002Fwebp\u002Fdocs\u002Fprecompiled\" ref=\"nofollow noopener noreferrer\"\u003Ecwebp\u003C\u002Fa\u003E 进行格式压缩转换，目前 SDWebImage、Kingfisher 都用支持该格式解析的拓展。无损压缩命令如下：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs language-arduino copyable\" lang=\"arduino\"\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 语法\u003C\u002Fspan\u003E\ncwebp [options] input_file -o output_file.webp\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 无损压缩\u003C\u002Fspan\u003E\ncwebp -lossless original.png -o \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E.webp\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E除了终端命令，还可以使用 \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=http%3A%2F%2Fisparta.github.io%2F\" target=\"_blank\" title=\"http:\u002F\u002Fisparta.github.io\u002F\" ref=\"nofollow noopener noreferrer\"\u003EiSparta\u003C\u002Fa\u003E 进行批量转换格式。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d8d5363e4a2~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" alt=\"\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EXcode 本身也提供压缩图片的编译选项\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003ECompress PNG Files\u003C\u002Fp\u003E\n\u003Cp\u003E打包的时候基于 pngcrush 工具自动对图片进行无损压缩，如果我们已自行对图片进行压缩，该选项最好关闭。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003ERemove Text Medadata From PNG Files\u003C\u002Fp\u003E\n\u003Cp\u003E移除 PNG 资源的文本字符，比如图像名称、作者、版权、创作时间、注释等信息。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d8e9fd2ce96~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" alt=\"\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 data-id=\"heading-4\"\u003E删除重复文件\u003C\u002Fh3\u003E\n\u003Cp\u003E通过校验所有资源的 MD5，筛选出项目中的重复资源，推荐使用 \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fadrianlopezroche%2Ffdupes\" target=\"_blank\" title=\"https:\u002F\u002Fgithub.com\u002Fadrianlopezroche\u002Ffdupes\" ref=\"nofollow noopener noreferrer\"\u003Efdupes\u003C\u002Fa\u003E 工具进行重复文件扫描，fdupes 是 Linux 平台的一个开源工具，由 C 语言编写 ，文件比较顺序是\u003Ccode\u003E大小对比 \u003E 部分 MD5 签名对比 \u003E 完整 MD5 签名对比 \u003E 逐字节对比\u003C\u002Fcode\u003E。\u003C\u002Fp\u003E\n\u003Cp\u003E通过 Homebrew 安装 fdupes：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs copyable\"\u003Ebrew install fdupes\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E查看目标文件夹下的重复文件：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs language-arduino copyable\" lang=\"arduino\"\u003Efdupes -Sr 文件夹   \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 查看文件夹下所有子目录中的重复文件及大小\u003C\u002Fspan\u003E\nfdupes -Sr 文件夹 \u003E 输出地址.txt  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 将信息输出到txt文件中\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E输出内容如下，一般情况下，相同文件仅保留一份，修改对应的引用即可。\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs language-bash copyable\" lang=\"bash\"\u003E4474 bytes each:\nTest\u002FImages.xcassets\u002FTabBarImage\u002FtabBar_2.imageset\u002FtabBar_2@2x.png\nTest\u002FResource\u002FTabBarImage\u002FtabBar_2@2x.png\n\n3912 bytes each:\nTest\u002FImages.xcassets\u002FTabBarImage\u002FtabBar_3.imageset\u002FtabBar_3@2x.png\nTest\u002FResource\u002FTabBarImage\u002FtabBar_3@2x.png\n\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 data-id=\"heading-5\"\u003E图片资源放入.xcassets\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E尽量将图片资源放入 Images.xcassets 中，包括 pod 库的图片。 Images.xcassets 中的图片加载后会有缓存，提升加载速度，并且在最终打包时会自动进行压缩（Compress PNG Files），再根据最终运行设备进行 2x 和 3x 分发。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E对于内部 Pod 库中的资源文件，我们可以在 Pod 库里面的 Resources 目录下新建 Asset Catalog 文件，命名为 Images.xcassets，移入所有图片文件，接着手动修改该 SDK 的 \u003Ccode\u003Epodspec\u003C\u002Fcode\u003E 文件指定使用该 Images.xcassets。\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs language-ini copyable\" lang=\"ini\"\u003E\u003Cspan class=\"hljs-attr\"\u003Es.resource_bundles\u003C\u002Fspan\u003E = {\n    \u003Cspan class=\"hljs-attr\"\u003E'xxsdk'\u003C\u002Fspan\u003E =\u003E [\u003Cspan class=\"hljs-string\"\u003E'PAX\u002FAssets\u002F*.xcassets'\u003C\u002Fspan\u003E]\n}\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EPod 资源文件的引用方式分为 \u003Ccode\u003Eresource_bundles\u003C\u002Fcode\u003E 和 \u003Ccode\u003Eresources\u003C\u002Fcode\u003E，这里我们使用的是 \u003Ccode\u003Eresource_bundles\u003C\u002Fcode\u003E，会为为指定的资源打一个 \u003Ccode\u003E.bundle\u003C\u002Fcode\u003E，\u003Ccode\u003E.bundle\u003C\u002Fcode\u003E包含一个 \u003Ccode\u003EAssets.car\u003C\u002Fcode\u003E，获取图片的时候要严格指定 \u003Ccode\u003Ebundle\u003C\u002Fcode\u003E 的位置，能很好的隔离各个库资源包。\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs language-objective-c copyable\" lang=\"objective-c\"\u003ENSString *bundlePath = [[NSBundle bundleForClass:[self class]].resourcePath stringByAppendingPathComponent:@\"\u002FPAX.bundle\"];\n     NSBundle *resource_bundle = [NSBundle bundleWithPath:bundlePath];\n     UIImage *image = [UIImage imageNamed:@\"xxxx\" inBundle:resource_bundle compatibleWithTraitCollection:nil];\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ccode\u003Eresource_bundles\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E允许定义当前 Pod 库的资源包的\u003Cstrong\u003E名称和文件\u003C\u002Fstrong\u003E。用 hash 的形式来声明，key 是 bundle 的名称，value 是需要包括的文件的通配 patterns。CocoaPods 官方强烈推荐使用 \u003Ccode\u003Eresource_bundles\u003C\u002Fcode\u003E，因为用 key-value 可以避免相同名称资源的名称冲突。同时建议 bundle 的名称至少应该包括 Pod 库的名称，可以尽量减少同名冲突\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ccode\u003Eresources\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E使用 \u003Ccode\u003Eresources\u003C\u002Fcode\u003E 来指定资源，被指定的资源只会简单的被 copy 到目标工程中（主工程）。官方认为用 \u003Ccode\u003Eresources\u003C\u002Fcode\u003E 是无法避免同名资源文件的冲突的，同时，Xcode 也不会对这些资源做优化。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fblockquote\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 data-id=\"heading-6\"\u003E部分大资源文件通过运行下载\u003C\u002Fh3\u003E\n\u003Cp\u003E对于一些非必要的大资源文件，例如字体库、换肤资源，可以在 App 启动后通过异步下载到本地，而不用直接放在 ipa 包内。\u003C\u002Fp\u003E\n\u003Ch2 data-id=\"heading-7\"\u003E代码瘦身\u003C\u002Fh2\u003E\n\u003Ch3 data-id=\"heading-8\"\u003E删除未使用代码\u003C\u002Fh3\u003E\n\u003Ch4 data-id=\"heading-9\"\u003ELinkMap 结合 Mach-O\u003C\u002Fh4\u003E\n\u003Cp\u003ELinkMap 的 Symbols 中会列出所有方法、类、block及它们的大小，通过获取 LinkMap 即可以获得方法和类的全集；再通过 MachOView 获得使用过的方法和类，两者的差值就是我们要找寻的未使用代码。\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E获取 LinkMap\u003C\u002Fp\u003E\n\u003Cp\u003E将 Build Setting - Write Link Map File 设置为 Yes，接着设置 Path to Link Map File 指定文件存放位置，即可在每次编译后获取对应的 LinkMap 文件。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EMachOView\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgdbinit%2FMachOView\" target=\"_blank\" title=\"https:\u002F\u002Fgithub.com\u002Fgdbinit\u002FMachOView\" ref=\"nofollow noopener noreferrer\"\u003EMachOView\u003C\u002Fa\u003E 是一款开源软件，可以查看 Mach-O 文件的内容。OC 的方法都会通过 objc_msgSend 来调用。可以通过 Mach-O 查看 \u003Ccode\u003E__objc_selrefs\u003C\u002Fcode\u003E 这个 section 来获取 selector 参数的，另外 \u003Ccode\u003E__objc_classrefs\u003C\u002Fcode\u003E 和 \u003Ccode\u003E__objc_superrefs\u003C\u002Fcode\u003E 这两个 section 可以获取调用过的类和父类。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d95837b512e~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" alt=\"\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003E该方式可作为参考使用，移除的代码还需要经过二次确认，防止存在拼接字符串动态等调用方式。\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Ch4 data-id=\"heading-10\"\u003EAppCode\u003C\u002Fh4\u003E\n\u003Cp\u003E当工程代码量不大时，还可以使用 AppCode 自带的静态分析工具辅助检查未使用的类和代码，功能在菜单 Code - Inspect Code。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d973fedd4cb~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" alt=\"\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003E该静态检测方式存在的问题较多，适合作为平常开发的辅助检测工具使用\u003C\u002Fstrong\u003E。具体的问题有：\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESDK定义的未使用的协议会被判定为无用协议\u003C\u002Fli\u003E\n\u003Cli\u003E如果子类使用了父类的方法，父类的这个方法不会被认为使用了\u003C\u002Fli\u003E\n\u003Cli\u003E通过点的方式使用属性，该属性会被认为没有使用\u003C\u002Fli\u003E\n\u003Cli\u003E使用 performSelector 方式调用的方法也检查不出来，比如 self performSelector:@selector(arrivalRefreshTime)\u003C\u002Fli\u003E\n\u003Cli\u003E运行时声明类的情况检查不出来。比如通过 NSClassFromString 方式调用的类会被查出为没有使用的类，比如 layerClass = NSClassFromString(@“SMFloatLayer”)。还有以[[self class] accessToken] 这样不指定类名的方式使用的类，会被认为该类没有被使用。像 UITableView 的自定义的 Cell 使用 registerClass，这样的情况也会认为这个 Cell 没有被使用。\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 data-id=\"heading-11\"\u003E删除版本遗留代码\u003C\u002Fh3\u003E\n\u003Cp\u003E随着项目业务的迭代，必然会出现版本遗弃的功能，这些功能可能连入口都已经屏蔽。对于这些老业务代码，也是应该被移除的。\u003C\u002Fp\u003E\n\u003Cp\u003E我们可以通过 Runtime 提供的 \u003Ccode\u003EisInitialized\u003C\u002Fcode\u003E 方法在运行时检测一个类是否有被使用过，更多代码可查看 \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSimonYHB%2Fobjc4-750.git\" target=\"_blank\" title=\"https:\u002F\u002Fgithub.com\u002FSimonYHB\u002Fobjc4-750.git\" ref=\"nofollow noopener noreferrer\"\u003Eobjc4-750\u003C\u002Fa\u003E。\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs language-objective-c copyable\" lang=\"objective-c\"\u003E\u002F\u002F 类的方法列表已修复\n#define RW_METHODIZED         (1&#x3C;&#x3C;30)\n\n\u002F\u002F 类已经初始化了\n#define RW_INITIALIZED        (1&#x3C;&#x3C;29)\n\n\u002F\u002F 类在初始化过程中\n#define RW_INITIALIZING       (1&#x3C;&#x3C;28)\n\n\u002F\u002F class_rw_t-\u003Ero 是 class_ro_t 的堆副本\n#define RW_COPIED_RO          (1&#x3C;&#x3C;27)\n\n\u002F\u002F 类分配了内存，但没有注册\n#define RW_CONSTRUCTING       (1&#x3C;&#x3C;26)\n\n\u002F\u002F 类分配了内存也注册了\n#define RW_CONSTRUCTED        (1&#x3C;&#x3C;25)\n\n\u002F\u002F GC：class有不安全的finalize方法\n#define RW_FINALIZE_ON_MAIN_THREAD (1&#x3C;&#x3C;24)\n\n\u002F\u002F 类的 +load 被调用了\n#define RW_LOADED             (1&#x3C;&#x3C;23)\n\nbool isInitialized() {\n   return getMeta()-\u003Edata()-\u003Eflags &#x26; RW_INITIALIZED;\n}\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 data-id=\"heading-12\"\u003E精简重复代码\u003C\u002Fh3\u003E\n\u003Cp\u003E多人开发的项目可能存在大量复制粘贴代码，可以通过 \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fpmd.github.io%2F\" target=\"_blank\" title=\"https:\u002F\u002Fpmd.github.io\u002F\" ref=\"nofollow noopener noreferrer\"\u003EPMD\u003C\u002Fa\u003E 扫描重复的代码片段，再结合实际逻辑重构代码。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EPMD\u003C\u002Fstrong\u003E 是一个代码静态扫描工具，直接通过 \u003Ccode\u003Ebrew\u003C\u002Fcode\u003E 命令安装。\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs copyable\"\u003Ebrew install pmd\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E安装完成后，通过 PMD-CPD 即可得到重复代码信息，格式如下：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs language-scss copyable\" lang=\"scss\"\u003Epmd cpd \u003Cspan class=\"hljs-attr\"\u003E--files\u003C\u002Fspan\u003E 扫描文件目录 \u003Cspan class=\"hljs-attr\"\u003E--minimum-tokens\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-number\"\u003E70\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E--language\u003C\u002Fspan\u003E objectivec \u003Cspan class=\"hljs-attr\"\u003E--encoding\u003C\u002Fspan\u003E UTF-\u003Cspan class=\"hljs-number\"\u003E8\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E--format\u003C\u002Fspan\u003E xml \u003E repeat\u003Cspan class=\"hljs-selector-class\"\u003E.xml\u003C\u002Fspan\u003E\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E其中，\u003Ccode\u003E--files\u003C\u002Fcode\u003E 用于指定文件目录，\u003Ccode\u003E--minimum-tokens\u003C\u002Fcode\u003E 用于设置最小重复代码阈值，\u003Ccode\u003E--format\u003C\u002Fcode\u003E 用于指定输出文件格式，支持 xml\u002Fcsv\u002Ftxt 等格式，这里建议使用 xml，方便查看 。\u003C\u002Fp\u003E\n\u003Cp\u003E生成的 XML 文件内容如下，根据 file 标签信息就能定位到重复代码位置。\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs language-xml copyable\" lang=\"xml\"\u003E\u003Cspan class=\"hljs-meta\"\u003E&#x3C;?xml version=\u003Cspan class=\"hljs-string\"\u003E\"1.0\"\u003C\u002Fspan\u003E encoding=\u003Cspan class=\"hljs-string\"\u003E\"UTF-8\"\u003C\u002Fspan\u003E?\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&#x3C;\u003Cspan class=\"hljs-name\"\u003Epmd-cpd\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\n   \u003Cspan class=\"hljs-tag\"\u003E&#x3C;\u003Cspan class=\"hljs-name\"\u003Eduplication\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Elines\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"87\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Etokens\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"565\"\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&#x3C;\u003Cspan class=\"hljs-name\"\u003Efile\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecolumn\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"1\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eendcolumn\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"3\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eendline\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"197\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eline\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"111\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"\u002FUsers\u002Fgithub\u002FiOS-Develop-Tools\u002FIOSDevelopTools\u002FIOSDevelopTools\u002FOCTimeConsumeMonitor\u002FYECallMonitor.m\"\u003C\u002Fspan\u003E\u002F\u003E\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&#x3C;\u003Cspan class=\"hljs-name\"\u003Efile\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecolumn\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"1\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eendcolumn\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"3\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eendline\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"152\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eline\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"66\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"\u002FUsers\u002Fgithub\u002FiOS-Develop-Tools\u002FIOSDevelopTools\u002FIOSDevelopTools\u002FOCTimeConsumeMonitor\u002FYECallTraceShowViewController.m\"\u003C\u002Fspan\u003E\u002F\u003E\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&#x3C;\u003Cspan class=\"hljs-name\"\u003Ecodefragment\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E&#x3C;![CDATA[}\n#pragma private\n- (NSUInteger)findStartDepthIndex:(NSUInteger)start arr:(NSArray *)arr\n{\n    NSUInteger index = start;\n    if (arr.count \u003E index) {\n        YECallRecordModel *model = arr[index];\n        int minDepth = model.depth;\n        int minTotal = model.total;\n        for (NSUInteger i = index+1; i &#x3C; arr.count; i++) {\n            YECallRecordModel *tmp = arr[i];\n            if (tmp.depth &#x3C; minDepth || (tmp.depth == minDepth &#x26;&#x26; tmp.total &#x3C; minTotal)) {\n                minDepth = tmp.depth;\n                minTotal = tmp.total;\n                index = i;\n            }\n        }\n    }\n    return index;\n}\n\n- (void)setRecordDic:(NSMutableArray *)arr record:(YEThreadCallRecord *)record\n{\n    if ([arr isKindOfClass:NSMutableArray.class] &#x26;&#x26; record) {\n        int total=1;\n        for (NSUInteger i = 0; i &#x3C; arr.count; i++)\n        {\n            YECallRecordModel *model = arr[i];\n            if (model.depth == record-\u003Edepth) {\n                total = model.total+1;\n                break;\n            }\n        }\n        \n        YECallRecordModel *model = [[YECallRecordModel alloc] initWithCls:record-\u003Ecls sel:record-\u003Esel time:record-\u003Etime depth:record-\u003Edepth total:total];\n        [arr insertObject:model atIndex:0];\n    }\n}\n\n]]\u003E\u003Cspan class=\"hljs-tag\"\u003E&#x3C;\u002F\u003Cspan class=\"hljs-name\"\u003Ecodefragment\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\n   \u003Cspan class=\"hljs-tag\"\u003E&#x3C;\u002F\u003Cspan class=\"hljs-name\"\u003Eduplication\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&#x3C;\u002F\u003Cspan class=\"hljs-name\"\u003Epmd-cpd\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 data-id=\"heading-13\"\u003E与包体积有关的编译选项\u003C\u002Fh2\u003E\n\u003Ch3 data-id=\"heading-14\"\u003E建议修改\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EValid Architectures\u003C\u002Fp\u003E\n\u003Cp\u003E设置编译生成的 ipa 包所支持的架构，不支持32位以及 iOS8 ，可去掉 armv7及之前的架构 ，减小生成的 ipa 包。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EStrip Link Product 和 \u003Cem\u003EDeployment\u003C\u002Fem\u003E Postprocessing\u003C\u002Fp\u003E\n\u003Cp\u003EStrip Linked Product 默认为 Yes，Deployment Postprocessing 默认为 No，Strip Linked Product 在 \u003Cem\u003EDeployment\u003C\u002Fem\u003E Postprocessing 设置为 YES 的时候才生效。当Strip Linked Product设为YES的时候，ipa会去除掉symbol符号，运行 App 断点不会中断，在程序中打印[NSThread callStackSymbols]也无法看到类名和方法名。而在程序崩溃时，终端的函数调用栈中也无法看到类名和方法名。但是不会影响正常的崩溃日志生成和解析，依然可以通过符号表来解析崩溃日志，适合线上使用，建议在 release 下都设置为 Yes。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EGenerate Debug Symbols\u003C\u002Fp\u003E\n\u003Cp\u003E默认为 Yes，当设置为 Yes 时，编译生成的 .o 文件会更大，包含了断点信息和符号化的调试信息，方便开发阶段调试，建议在 release 下设置为 No，线上需要获取崩溃信息时搭配编译生成的 dSYM 文件解析符号。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EEnable C++ Exceptions 和 Enable Objective-C Exceptions\u003C\u002Fp\u003E\n\u003Cp\u003E默认都为 Yes，用于捕获 C++ 和 OC 的异常，如果项目中使用了 try catch， 可考虑去掉并在 release 下设置为 No，配合在 Other C Flags 添加 -fno-exceptions 和 -fno-rtt ，会有比较明显的体积减小。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 data-id=\"heading-15\"\u003E保持不变\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EGenerate Debug Symbols\u003C\u002Fp\u003E\n\u003Cp\u003E默认为 Yes，用生成dSYM文件，有助于解析崩溃信息。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EMake Strings Read-Only\u003C\u002Fp\u003E\n\u003Cp\u003E默认为 Yes，复用字符串字面量。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EDead Code Stripping\u003C\u002Fp\u003E\n\u003Cp\u003E默认为 Yes，去除冗余代码。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EOptimization Level\u003C\u002Fp\u003E\n\u003Cp\u003ERelease 下默认为 Fastest, Smalllest[-Os]，自动优化代码。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003ESymbols Hidden by Default\u003C\u002Fp\u003E\n\u003Cp\u003ERelease 下默认为 Yes，会移除符号信息，把所有符号都定义成 private extern。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EStrip Swift Symbols\u003C\u002Fp\u003E\n\u003Cp\u003E默认为 Yes，移除 Swift 相关的符号表，运行时再从 SWIFT 标准库中获取符号，从而减少应用体积。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 data-id=\"heading-16\"\u003EApp Thinning\u003C\u002Fh2\u003E\n\u003Cp\u003EWWDC2015 发布会上首次介绍了 App Thinning，并在 iOS9 开始应用。严格来说App Thinning不会让安装包变小，但用户安装应用时，苹果会根据用户的机型自动选择合适的资源和对应CPU架构的二进制执行文件（也就是说用户本地可执行文件不会同时存在 armv7 和 arm64），减少下载流量和安装占用空间。\u003C\u002Fp\u003E\n\u003Cp\u003E在上传 App 时，配置 App Thinning 即可开启。分为三个部分： Slicing、Bitcode、On-Demand Resources。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d9ce82cd343~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" alt=\"\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 data-id=\"heading-17\"\u003ESlicing\u003C\u002Fh3\u003E\n\u003Cp\u003E在向 iTunes connect 上传 App 后，会做 App 进行分割，创建不同的变体来适配不同的设备，不同变体之间的差异主要体现在系统指令集和资源文件上。\u003C\u002Fp\u003E\n\u003Cp\u003E在项目的 xcassets 目录添加图片，2x 和 3x 图会分别放入到不同的变体中，用户从 App Store 下载时只下载特定的变体，而不会下载全部的指令集和资源文件。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d9e5b914691~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" alt=\"\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 data-id=\"heading-18\"\u003EBitcode\u003C\u002Fh3\u003E\n\u003Cp\u003EBitcode 是编译好的程序中间码，使用 Bitcode 上传到 iTunes Connect 的 app 将会在 Apple 服务器中进行链接和编译。该步骤主要是方便 Apple 推出新的架构或LLVM优化时无需重新上传 App。\u003C\u002Fp\u003E\n\u003Cp\u003E通过设置项目的 \u003Ccode\u003EBuild Settings -\u003E Enable Bitcode\u003C\u002Fcode\u003E 为 YES 开启Bitcode，使用时需要保证 App 中所有的静态库和动态库都支持，否则会编译失败。\u003C\u002Fp\u003E\n\u003Cp\u003E由于 App 的编译是在 Apple 服务器中进行的，所以本地无法获取 dSYM 文件进行崩溃分析，需在上传时勾选 \u003Ccode\u003EInclude app symbols for your application* to receive symbolicated crash logs from Apple\u003C\u002Fcode\u003E，再从  \u003Ccode\u003EXcode -\u003E Window -\u003E Organizer\u003C\u002Fcode\u003E 或者 Apple Store Connect 中下载对应的 dYSM文件。\u003C\u002Fp\u003E\n\u003Ch3 data-id=\"heading-19\"\u003EOn-Demand Resources\u003C\u002Fh3\u003E\n\u003Cp\u003E可将部分资源单独下载，而不随着 App 一同下载，减少初始 App 的大小。例如相机的滤镜和游戏关卡。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254d9fa31ad79d~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" alt=\"\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 data-id=\"heading-20\"\u003E其他\u003C\u002Fh2\u003E\n\u003Ch3 data-id=\"heading-21\"\u003EFramework 瘦身\u003C\u002Fh3\u003E\n\u003Ch4 data-id=\"heading-22\"\u003E只保留需要的指令集\u003C\u002Fh4\u003E\n\u003Cp\u003E没有开启 Bitcode 时，App 内的 Framework 会包含多个指令集，我们可以手动移除不需要的指令集。\u003C\u002Fp\u003E\n\u003Cp\u003EFramework 也是 Mach-O 格式文件，一般第三方的 Framework 为了适配多种架构，都会包含全部 CPU 的指令集，此时的二进制文件称谓胖二进制文件。\u003C\u002Fp\u003E\n\u003Cp\u003E例如百度地图的定位框架 BMKLocationKit，就包含了所有 CPU 的指令集，我们可以通过 \u003Ccode\u003Elipo -info BMKLocationKit\u003C\u002Fcode\u003E  看到如下信息：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs language-javascript copyable\" lang=\"javascript\"\u003E\u003Cspan class=\"hljs-title class_\"\u003EArchitectures\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Ein\u003C\u002Fspan\u003E the fat \u003Cspan class=\"hljs-attr\"\u003Efile\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-regexp\"\u003E\u002FUsers\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-title class_\"\u003EBMKLocationKit\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-property\"\u003Eframework\u003C\u002Fspan\u003E\u002F\u003Cspan class=\"hljs-title class_\"\u003EBMKLocationKit\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eare\u003C\u002Fspan\u003E: armv7 armv7s i386 x86_64 arm64\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E也可以使用 MachOView 工具查看：\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254da19b9100a6~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" alt=\"\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E可以看到 BMKLocationKit 包含了 \u003Ccode\u003Earmv7 armv7s i386 x86_64 arm64\u003C\u002Fcode\u003E 5种指令集，而对于大多数移动端 App，只需要 armv7s 和 arm64 指令集就足够了。\u003C\u002Fp\u003E\n\u003Cp\u003E不同手机型号对应的指令集如下：\u003C\u002Fp\u003E\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable\u003E\u003Cthead\u003E\u003Ctr\u003E\u003Cth\u003E指令集\u003C\u002Fth\u003E\u003Cth\u003E型号\u003C\u002Fth\u003E\u003C\u002Ftr\u003E\u003C\u002Fthead\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003Earmv7\u003C\u002Ftd\u003E\u003Ctd\u003EiPhone4s之前 | iPad｜iPad2｜iPad3(The New iPad)｜iPad mini｜iPod Touch 3G\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003Earmv7s\u003C\u002Ftd\u003E\u003Ctd\u003EiPhone5｜iPhone5C｜iPad4(iPad with Retina Display)\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003Earm64\u003C\u002Ftd\u003E\u003Ctd\u003EiPhone5s之后的机型 | iPad Air  | iPad mini2(iPad mini with Retina Display)等\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003Ex86_64\u003C\u002Ftd\u003E\u003Ctd\u003E模拟器64位处理器 | Mac应用\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EI386\u003C\u002Ftd\u003E\u003Ctd\u003E模拟器32位处理器 | Mac应用\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\n\u003Cp\u003E我们可以通过 lipo 命令拆分胖二进制文件，只保留需要的指令集，以 BMKLocationKit 为例，指令如下：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs language-objective-c copyable\" lang=\"objective-c\"\u003Elipo -info BMKLocationKit.framework\u002FBMKLocationKit\n\u002F\u002F Architectures in the fat file: BMKLocationKit are: armv7 armv7s i386 x86_64 arm64\n  \n\u002F\u002F 抽取armv7s架构\nlipo BMKLocationKit.framework\u002FBMKLocationKit -thin armv7s -output BMK\u002FBMKLocationKitArmv7s\n  \n\u002F\u002F 抽取arm64架构\nlipo BMKLocationKit.framework\u002FBMKLocationKit -thin arm64 -output BMK\u002FBMKLocationKitArm64\n  \n\u002F\u002F 合成armv7s和arm64\ncd \u002FUsers\u002Fyehuangbin\u002FDesktop\u002FBMK\nlipo -create BMKLocationKitArm64 BMKLocationKitArmv7s -output BMKLocationKit\n  \nlipo -info BMKLocationKit\n\u002F\u002F Architectures in the fat file: BMKLocationKit are: armv7s arm64\n\n\u002F\u002F 替换原先的二进制文件\nmv -f BMKLocationKit ..\u002FBMKLocationKit.framework\u002F\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E移除多余的指令集后，framework 大小从 4.3MB 降到 1.8MB，效果还是很显著的。\u003C\u002Fp\u003E\n\u003Ch4 data-id=\"heading-23\"\u003E移除 Framework 的未使用代码\u003C\u002Fh4\u003E\n\u003Cp\u003E通常我们可能因为某一个功能需求而引入较庞大的第三方 Framework，可以拆分 machO 文件，将不需要的 .o 文件移除。\u003C\u002Fp\u003E\n\u003Cp\u003E由于我们不是 framework 的作者，不熟悉其代码调用逻辑，移除后应多次验证是否会有关联影响，整天流程如图所示，具体操作可查看 \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fwww.infoq.cn%2Farticle%2Fios-thinning-delete-unnecessary-mach-o%2F\" target=\"_blank\" title=\"https:\u002F\u002Fwww.infoq.cn\u002Farticle\u002Fios-thinning-delete-unnecessary-mach-o\u002F\" ref=\"nofollow noopener noreferrer\"\u003E删除 FrameWork 中无用 mach-O 文件\u003C\u002Fa\u003E。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2020\u002F5\u002F27\u002F17254da3c3c172a2~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" alt=\"\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E涉及到的终端指令：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs language-less copyable\" lang=\"less\"\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 查看二进制文件的架构信息\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-selector-tag\"\u003Elipo\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-selector-tag\"\u003E-info\u003C\u002Fspan\u003E 二进制文件  \n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 按架构拆分二进制文件，iOS常用 arm64、armv7s\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-selector-tag\"\u003Elipo\u003C\u002Fspan\u003E 二进制文件 \u003Cspan class=\"hljs-selector-tag\"\u003E-thin\u003C\u002Fspan\u003E 架构 \u003Cspan class=\"hljs-selector-tag\"\u003E-output\u003C\u002Fspan\u003E 新架构二进制文件\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 拆分二进制文件具体的内容(.o文件列表)\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-selector-tag\"\u003Ear\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-selector-tag\"\u003E-x\u003C\u002Fspan\u003E 二进制文件\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 将.o合并成二进制文件\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-selector-tag\"\u003Elibtool\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-selector-tag\"\u003E-static\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-selector-tag\"\u003E-o\u003C\u002Fspan\u003E 新二进制文件 *\u003Cspan class=\"hljs-selector-class\"\u003E.o\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 合并将不同架构二进制文件\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-selector-tag\"\u003Elipo\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-selector-tag\"\u003E-create\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-selector-tag\"\u003Ea\u003C\u002Fspan\u003E架构二进制文件 \u003Cspan class=\"hljs-selector-tag\"\u003Eb\u003C\u002Fspan\u003E架构二进制文件 \u003Cspan class=\"hljs-selector-tag\"\u003E-output\u003C\u002Fspan\u003E 合并后的二进制文件\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 data-id=\"heading-24\"\u003EApp Extension 用动态库替代静态库\u003C\u002Fh3\u003E\n\u003Cp\u003E用动态库会减小二进制文件的体积，但会增加启动时间，增加了运行时载入的过程，并且依赖外部环境，需多方面考虑。\u003C\u002Fp\u003E\n\u003Ch3 data-id=\"heading-25\"\u003E慎重引入第三方库\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E不要用引入功能重复的第三库，例如 YYModel 和 JSONModel、AFNetworking 和 MKNetworkingKt。\u003C\u002Fli\u003E\n\u003Cli\u003E充分考虑引入的必要型，避免”因小引大“，例如只是需要 JSON 转模型功能而引入了整个 YYKit，更好的方式应该是将使用的部分抽离出来。\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 data-id=\"heading-26\"\u003EH5本地资源优化（只保留主页面）\u003C\u002Fh3\u003E\n\u003Cp\u003E项目中有离线资源包，可考虑只保留主页面的代码和资源，通过增量更新的方式，启动后再进行其余离线包的下载。\u003C\u002Fp\u003E\n\u003Ch2 data-id=\"heading-27\"\u003E总结\u003C\u002Fh2\u003E\n\u003Cp\u003E在实际项目瘦身过程中，上面列举的方式不一定都适用。例如当项目具有动态化，许多类和方法都不会在代码中直接产生引用，而可能是通过接口方式下发数据来使用，如果没有配置表会容易产生误删。我们应该怀着敬畏之心，宁可多花点时间，避免误操作，毕竟瘦身虽可贵，安全价更高...\u003C\u002Fp\u003E\n\u003Ch3 data-id=\"heading-28\"\u003E工具汇总\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E无用图片检测：\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftinymind%2FLSUnusedResources\" target=\"_blank\" title=\"https:\u002F\u002Fgithub.com\u002Ftinymind\u002FLSUnusedResources\" ref=\"nofollow noopener noreferrer\"\u003ELSUnusedResources\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E图片压缩：\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fimageoptim.com%2Fmac\" target=\"_blank\" title=\"https:\u002F\u002Fimageoptim.com\u002Fmac\" ref=\"nofollow noopener noreferrer\"\u003EImageOptim\u003C\u002Fa\u003E、\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fpngquant.org\" target=\"_blank\" title=\"https:\u002F\u002Fpngquant.org\" ref=\"nofollow noopener noreferrer\"\u003Epngquant命令\u003C\u002Fa\u003E、\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Ftinypng.com%2F\" target=\"_blank\" title=\"https:\u002F\u002Ftinypng.com\u002F\" ref=\"nofollow noopener noreferrer\"\u003Etinypng\u003C\u002Fa\u003E、\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fspeed%2Fwebp%2F\" target=\"_blank\" title=\"https:\u002F\u002Fdevelopers.google.com\u002Fspeed\u002Fwebp\u002F\" ref=\"nofollow noopener noreferrer\"\u003EWebp\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E重复文件检测：\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fadrianlopezroche%2Ffdupes\" target=\"_blank\" title=\"https:\u002F\u002Fgithub.com\u002Fadrianlopezroche\u002Ffdupes\" ref=\"nofollow noopener noreferrer\"\u003Efdupes\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E查看Mach-O内容：\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgdbinit%2FMachOView\" target=\"_blank\" title=\"https:\u002F\u002Fgithub.com\u002Fgdbinit\u002FMachOView\" ref=\"nofollow noopener noreferrer\"\u003EMachOView\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E静态检测代码：LinkMap结合Mach-O 或 Appcode静态检测\u003C\u002Fli\u003E\n\u003Cli\u003E重复代码检测：\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fpmd.github.io%2F\" target=\"_blank\" title=\"https:\u002F\u002Fpmd.github.io\u002F\" ref=\"nofollow noopener noreferrer\"\u003EPMD\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 data-id=\"heading-29\"\u003E参考资料\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Ftime.geekbang.org%2Fcolumn%2Farticle%2F88573%3Futm_source%3Dweb%26utm_medium%3Dpinpaizhuanqu%26utm_campaign%3Dbaidu%26utm_term%3Dpinpaizhuanqu%26utm_content%3D0427\" target=\"_blank\" title=\"https:\u002F\u002Ftime.geekbang.org\u002Fcolumn\u002Farticle\u002F88573?utm_source=web&#x26;utm_medium=pinpaizhuanqu&#x26;utm_campaign=baidu&#x26;utm_term=pinpaizhuanqu&#x26;utm_content=0427\" ref=\"nofollow noopener noreferrer\"\u003E包大小：如何从资源和代码层面实现全方位瘦身？\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=http%3A%2F%2Flingyuncxb.com%2F2019%2F04%2F14%2FHumbleAssetCatalog%2F\" target=\"_blank\" title=\"http:\u002F\u002Flingyuncxb.com\u002F2019\u002F04\u002F14\u002FHumbleAssetCatalog\u002F\" ref=\"nofollow noopener noreferrer\"\u003EHumble Assets Catalog\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fu014220518%2Farticle%2Fdetails%2F79725478\" target=\"_blank\" title=\"https:\u002F\u002Fblog.csdn.net\u002Fu014220518\u002Farticle\u002Fdetails\u002F79725478\" ref=\"nofollow noopener noreferrer\"\u003EiOS-APP包的瘦身之旅（从116M到现在的36M的减肥之路）_移动开发_ZFJ_张福杰-CSDN博客\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fjuejin.cn\u002Fpost\u002F6844903845340921869\" target=\"_blank\" title=\"https:\u002F\u002Fjuejin.cn\u002Fpost\u002F6844903845340921869\"\u003EiOS 瘦身之道\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fwww.infoq.cn%2Farticle%2Fios-thinning-delete-unnecessary-mach-o%2F\" target=\"_blank\" title=\"https:\u002F\u002Fwww.infoq.cn\u002Farticle\u002Fios-thinning-delete-unnecessary-mach-o\u002F\" ref=\"nofollow noopener noreferrer\"\u003E删除 FrameWork 中无用 mach-O 文件\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzAwNDY1ODY2OQ%3D%3D%26mid%3D207986417%26idx%3D1%26sn%3D77ea7d8e4f8ab7b59111e78c86ccfe66%26scene%3D24%26srcid%3D0921TTAXHGHWKqckEHTvGzoA%23rd\" target=\"_blank\" title=\"https:\u002F\u002Fmp.weixin.qq.com\u002Fs?__biz=MzAwNDY1ODY2OQ==&#x26;mid=207986417&#x26;idx=1&#x26;sn=77ea7d8e4f8ab7b59111e78c86ccfe66&#x26;scene=24&#x26;srcid=0921TTAXHGHWKqckEHTvGzoA#rd\" ref=\"nofollow noopener noreferrer\"\u003EiOS微信安装包瘦身\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 data-id=\"heading-30\"\u003E优化系列其它文章\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fjuejin.cn\u002Fpost\u002F6844904127068110862\" target=\"_blank\" title=\"https:\u002F\u002Fjuejin.cn\u002Fpost\u002F6844904127068110862\"\u003E深入探索 iOS 启动速度优化\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fjuejin.cn\u002Fpost\u002F6844904121896534024\" target=\"_blank\" title=\"https:\u002F\u002Fjuejin.cn\u002Fpost\u002F6844904121896534024\"\u003E深入探索 iOS 启动速度优化（二进制重排）\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E",hitArticleCache:b,showSidebar:a,actionType:{FETCH:"view\u002Fcolumn\u002FFETCH",FETCH_ADDITIONAL:"view\u002Fcolumn\u002FFETCH_ADDITIONAL",FETCH_SIDEBAR_ADENTRY:"view\u002Fcolumn\u002FFETCH_SIDEBAR_ADENTRY",FETCH_AUTHOR_EXTRA:"view\u002Fcolumn\u002FFETCH_AUTHOR_EXTRA",RESET:"view\u002Fcolumn\u002FRESET"},recommendedArticleList:{list:[],cursor:f,loading:a,skeleton:a,hasMore:a,articleId:e,actionType:{UPDATE_STATE:"view\u002Fcolumn\u002Frecommend-List\u002FUPDATE_STATE",FETCH_MORE:"view\u002Fcolumn\u002Frecommend-List\u002FFETCH_MORE",FETCH:"view\u002Fcolumn\u002Frecommend-List\u002FFETCH",RESET:"view\u002Fcolumn\u002Frecommend-List\u002FRESET"}}},collection:{collection:{author:{}},actionType:{FETCH:"@\u002Fview\u002Fcollection\u002FFETCH",REFRESH:"@\u002Fview\u002Fcollection\u002FREFRESH",RESET:"@\u002Fview\u002Fcollection\u002FRESET"},list:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fcollection\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002Fcollection\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fcollection\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fcollection\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fcollection\u002Flist\u002FRESET"},id:e,sort:n}},gettingStarted:{category:{},actionType:{UPDATE_STATE:"@\u002Fview\u002FgettingStarted\u002FUPDATE_STATE",FOLLOW:"@\u002Fview\u002FgettingStarted\u002FFOLLOW",RESET:"@\u002Fview\u002FgettingStarted\u002FRESET",UPDATE_CATEGORY:"@\u002Fview\u002FgettingStarted\u002FUPDATE_CATEGORY"}},pin:{pin:{user:{},imageUrlList:[]},pinList:[],actionType:{FETCH:"@\u002Fview\u002Fpin\u002FFETCH",RESET:"@\u002Fview\u002Fpin\u002FRESET"},sidebar:{list:[],after:e,loading:a,isRecommend:a,hasNextPage:b,actionType:{UPDATE_STATE:"@\u002Fview\u002Fpin\u002Fsidebar\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fpin\u002Fsidebar\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Fpin\u002Fsidebar\u002FFETCH",RESET:"@\u002Fview\u002Fpin\u002Fsidebar\u002FRESET"}},commentList:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fpin\u002FcommentList\u002FUPDATE",FETCH:"@\u002Fview\u002Fpin\u002FcommentList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fpin\u002FcommentList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fpin\u002FcommentList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fpin\u002FcommentList\u002FRESET"},pinId:c},subCommentList:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FUPDATE",FETCH:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FRESET"},commentId:c}},topic:{topic:e,followedTopicList:[],actionType:{FETCH:"@\u002Fview\u002Ftopic\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Ftopic\u002FUPDATE_STATE",RESET:"@\u002Fview\u002Ftopic\u002FRESET"},allTopicList:{pageSize:x,page:d,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FRESET"},sortType:m},pinlist:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002FpinList\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002FpinList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002FpinList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002FpinList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002FpinList\u002FRESET"},sortType:p},sidebar:{actionType:{RESET:"@\u002Fview\u002Ftopic\u002Fsidebar\u002FRESET",UPDATE_STATE:"@\u002Fview\u002Ftopic\u002Fsidebar\u002FUPDATE_STATE"},attender:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FRESET"},topicId:c}},followedList:{pageSize:x,page:d,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FRESET"},after:d}},recommendationIndex:{actionType:{FETCH_USER:"@\u002Fview\u002Frecommendation\u002FFETCH_USER",FETCH_MORE:"@\u002Fview\u002Frecommendation\u002FFETCH_MORE",RESET:"@\u002Fview\u002Frecommendation\u002FRESET",FETCH:"@\u002Fview\u002Frecommendation\u002FFETCH"},cursor:e,hasMore:e,userList:[],loading:a,skeleton:b,category:k,categoryNavList:[],serverRenderUserList:a},event:{event:{},loading:a,user:{},actionType:{FETCH:"view\u002Fevent\u002FFETCH",RESET:"view\u002Fevent\u002FRESET"}},academyIndex:{academy:{},bannerList:[],qualitiedList:[],latestList:[],offlineList:[],loading:a,user:{},actionType:{FETCH:"view\u002Facademy\u002FFETCH",RESET:"view\u002Facademy\u002FRESET"}},coursesIndex:{loading:a,list:[],sort:"online",actionType:{FETCH:"view\u002Fcourses\u002FFETCH",RESET:"view\u002Fcourses\u002FRESET",FETCH_MORE:"view\u002Fcourses\u002FFETCH_MORE"}},team:{team:{},loading:b,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FFETCH",RESET:"@\u002Fview\u002Fteam\u002FRESET",UPDATE:"@\u002Fview\u002Fteam\u002FUPDATE",FOLLOW:"@\u002Fview\u002Fteam\u002FFOLLOW"},detailList:{actionType:{RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002FRESET"},posts:{list:[],hasMore:a,skeleton:a,loading:a,sort:n,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FRESET"}},pins:{list:[],hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FRESET"}},hire:{list:[],hasMore:a,cursor:f,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FRESET"}}}},couponList:{list:{"0":q,"1":q,"2":q}},payment:{selectedDiscount:{},bookletDetail:{},coupons:{availables:[],unavailables:[]},discountList:[]},activityVip:{selectedVipSku:{}}},component:{indexAside:{bannerList:[],userList:[],actionType:{FETCH_BANNER:"@\u002Fcomponent\u002Faside\u002FFETCH_BANNER",FETCH_USER:"@\u002Fcomponent\u002Faside\u002FFETCH_USER",CLOSE_BANNER:"@\u002Fcomponent\u002Faside\u002FCLOSE_BANNER"}}},ore:{oreCount:d},avatarMenuInfo:{},common:{theme:"light"},env:{ua:"Mozilla\u002F5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit\u002F537.36 (KHTML, like Gecko) Chrome\u002F110.0.0.0 Safari\u002F537.36",serverEnv:"production"},auth:{user:{id:"2894327269039357",self_description:void 0,followed:a,viewerIsFollowing:void 0,community:void 0,subscribedTagCount:12,wroteBookCount:d,boughtBookCount:d,isBindedPhone:g,level:d,user_id:"2894327269039357",user_name:"Leon0206",company:"网易云音乐",job_title:"iOS开发工程师",avatar_large:"https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fmosaic-legacy\u002F3795\u002F3044413937~300x300.image",power:d,phone:"17*****0590",email:e,allow_notification:a,rank_index:d,wallet_total_bill:d,description:e,blog_address:e,is_black:a,editor_type:e,register_time:1627475051,update_time:-62135596800,administrator:d,builder:d,favorable_author:d,book_author:d,phone_verified:g,wechat_verified:d,weibo_verified:d,github_verified:d,followee_count:3,follower_count:d,post_article_count:d,digg_article_count:d,view_article_count:63,subscribe_tag_count:12,got_digg_count:d,got_view_count:d,comment_count:d,collect_set_count:g,booklet_count:d,buy_booklet_count:d,post_shortmsg_count:d,comment_shortmsg_count:d,digg_shortmsg_count:d,ltime:d,isfollowed:a,forbidden_words:d,create_collect_set_count:g,follow_collect_set_count:d,weibo_nickname:e,wechat_nickname:e,github_nickname:e,apply_logout:d,is_logout:d,weibo_id:e,is_new:a,study_point:d,university:{university_id:f,name:e,logo:e},major:{major_id:f,parent_id:f,name:e},student_status:d,select_event_count:d,select_online_course_count:d,identity:d,graduated_at:-62135596800,blog_move_priority:a,tech_team:{org_id:f,org_name:e,org_icon:e,role:d},job_count:d,is_select_annual:a,select_annual_rank:d,annual_list_type:d,digg_news_count:d,news_privilege:d,digg_toutiao_count:d,follow_column_cnt:g,can_tag_cnt:g,need_lead:d,follow_topic_count:d,badges:{wear_badges:c,obtain_badges:c,obtain_count:d,show_badge:a,link_url:e},is_collect_fast:a,user_growth_info:{user_id:2894327269039357,jpower:d,jscore:23,jpower_level:d,jscore_level:l,jscore_title:"见习掘友",author_achievement_list:[],vip_level:d,vip_title:e,jscore_next_level_score:30,jscore_this_level_mini_score:15},is_vip:a,collection_set_article_count:d,juejinPower:d,jobTitle:"iOS开发工程师",roles:{isBookAuthor:a,isFavorableAuthor:a,isCobuilder:a,isAdmin:a},username:"Leon0206",blogAddress:e,selfDescription:e,beLikedCount:d,beReadCount:d,followerCount:d,followingCount:3,collectionCount:g,createdCollectionCount:g,followingCollectionCount:d,postedPostsCount:d,pinCount:d,likedArticleCount:d,likedPinCount:d,avatar:"https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fmosaic-legacy\u002F3795\u002F3044413937~300x300.image",latestLoginedInAt:c,createdAt:new Date(1627475051000),updatedAt:c,phoneNumber:"17*****0590",titleDescription:e,followeesCount:3,applyEventCount:d,followTopicCnt:d},clientId:e,token:e,qrCode:c,qrCodeStatus:c,qrCodeToken:c},tag:{subscribedTagList:[]},entry:{isLikeLoading:a},collection:{},comment:{},bookComment:{},repoComment:{},category:{list:[]},user:{subscribedTagList:[]},notification:{unreadCount:{user:d,system:d,total:d}},follow:{subscribedTagList:[]},error:{location:c,errorView:c,statusCode:200,needRiskModal:a,riskAppealUrl:e},abTest:{info:{}},suspensionPanel:{needSuspension:b},pinComment:{},pin:{deleteDialogVisible:a,reportDialogVisible:a,targetPin:c,isOnFocus:a},topic:{visible:a},activity:{"2020":{},offer:{is_show:d,start_time:d},voteData:{err_no:d,err_msg:"success",data:{face:{title:e,activity_id:"5",start_time:y,end_time:1675699200,status:l,image:"https:\u002F\u002Fp6-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fd9c6d6b34c8045e993f2f607a660dd43~tplv-k3u1fbpfcp-zoom-1.image",close_image:"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F882fc263e36347ffbf6d598de520870e~tplv-k3u1fbpfcp-image.image",url:"https:\u002F\u002Fjuejin.cn\u002Fpin\u002F7195849498253770808?utm_source=popup&utm_medium=jjapp&utm_campaign=xcyxj",is_show:d},top:{title:r,activity_id:j,start_time:s,end_time:t,status:g,image:"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F9563d620af3b48a791f77019c948f064~tplv-k3u1fbpfcp-zoom-1.image",close_image:"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Ff49fe994db7b4af7846259d97610bec0~tplv-k3u1fbpfcp-zoom-1.image",url:"https:\u002F\u002Fjuejin.cn\u002Fvip?utm_source=app_top",is_show:g},web_top:{title:r,activity_id:j,start_time:s,end_time:t,status:g,image:z,close_image:"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F19e7f58eecbd497c92397344e1d489a6~tplv-k3u1fbpfcp-zoom-1.image",url:"https:\u002F\u002Fjuejin.cn\u002Fvip?utm_source=web_nav",is_show:g},plugin_top:{title:r,activity_id:j,start_time:s,end_time:t,status:g,image:z,close_image:u,url:"https:\u002F\u002Fjuejin.cn\u002Fvip?utm_source=gold_browser_extension",is_show:g},search_top:{title:A,activity_id:j,start_time:B,end_time:1675612799,status:l,image:C,close_image:D,url:E,is_show:d},web_search:{title:A,activity_id:j,start_time:B,end_time:y,status:l,image:C,close_image:D,url:E,is_show:d},jcode_top:{title:"码上掘金编程挑战赛",activity_id:j,start_time:1670846400,end_time:1671983999,status:l,image:u,close_image:u,url:"https:\u002F\u002Fjuejin.cn\u002Fchallenge?utm_source=code_nav",is_show:d},offer:{title:e,activity_id:"2020",start_time:1617638400,end_time:1618934400,status:l,image:"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F2879410508de459c91ae8b7509ca75f8~tplv-k3u1fbpfcp-zoom-1.image",close_image:"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fa38d640009e14c87a7d29cd95dee27dd~tplv-k3u1fbpfcp-zoom-1.image",url:"https:\u002F\u002Fjuejin-activity.bytedance.net\u002Frank",is_show:d}}}},header:{leadStep:d,isPopupZlink:a},tcc:{tccConfig:c},route:{name:"column",path:v,hash:e,query:{},params:{id:w},fullPath:v,meta:{},from:{name:c,path:F,hash:e,query:{},params:{},fullPath:F,meta:{}}}},serverRendered:b,routePath:v,config:{API_HOST:"api.juejin.cn",CAPTCHA_HOST:"verify.snssdk.com",PLATFORM_APPID:{wechat:1277,weibo:1276,github:1045,wechatApp:1070},SCM_VERSION:"1.0.0.6503",http:{}},globalRefs:{}}}(false,true,null,0,"","0",1,20,"topic","2022","recommended",2,"hot","newest","following","popular",{},"掘金会员",1673020800,1680278400,"https:\u002F\u002Fp6-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F759e2aa805c0461b840e0f0f09ed05fa~tplv-k3u1fbpfcp-zoom-1.image?","\u002Fpost\u002F6844904169938092045","6844904169938092045",100,1675612800,"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F7482b3ad2cd14edda31f05399c2ae759~tplv-k3u1fbpfcp-zoom-1.image","开启我的2022年度报告",1672797600,"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F8a41831fce8b4c838f1807b2c86aea06~tplv-k3u1fbpfcp-zoom-1.image","https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fe5199830276c4a85bc7c8cb8edecd54d~tplv-k3u1fbpfcp-image.image","https:\u002F\u002Fjuejin.cn\u002Freport2022\u002Fmobile?utm_source=search","\u002F"));</script><script src="./深入探索 iOS 包体积优化 - 掘金_files/b2807dd.js" defer=""></script><script src="./深入探索 iOS 包体积优化 - 掘金_files/84ef8de.js" defer=""></script><script src="./深入探索 iOS 包体积优化 - 掘金_files/3e229b5.js" defer=""></script><script src="./深入探索 iOS 包体积优化 - 掘金_files/002360f.js" defer=""></script><script src="./深入探索 iOS 包体积优化 - 掘金_files/14207e3.js" defer=""></script><script src="./深入探索 iOS 包体积优化 - 掘金_files/7d77327.js" defer=""></script><script src="./深入探索 iOS 包体积优化 - 掘金_files/ffd6355.js" defer=""></script><script src="./深入探索 iOS 包体积优化 - 掘金_files/43bdb0e.js" defer=""></script>
  

<link href="./深入探索 iOS 包体积优化 - 掘金_files/54.531a463.css" rel="stylesheet" type="text/css"><link href="./深入探索 iOS 包体积优化 - 掘金_files/4.4ebc7e8.css" rel="stylesheet" type="text/css"><link href="./深入探索 iOS 包体积优化 - 掘金_files/default.5ff05a0.css" rel="stylesheet" type="text/css"><div data-transfer="true" class="collection-list-modal byte-modal v-transfer-dom" data-v-47b82694="" data-v-8df60ffa=""><div class="byte-modal__mask" style="z-index: 1000; display: none;"></div><div class="byte-modal__wrapper" style="z-index: 1000; display: none;"><div class="byte-modal__content" style="width:520px;"><!----><div class="byte-modal__body"></div><!----></div></div></div><div data-v-47b82694="" data-v-1b688d7c="" data-transfer="true" class="collection-list-modal byte-modal v-transfer-dom"><div class="byte-modal__mask" style="z-index: 1001; display: none;"></div><div class="byte-modal__wrapper" style="z-index: 1001; display: none;"><div class="byte-modal__content" style="width: 520px;"><!----><div class="byte-modal__body"></div><!----></div></div></div><link href="./深入探索 iOS 包体积优化 - 掘金_files/198.e1b9b5f.css" rel="stylesheet" type="text/css"><div data-transfer="true" class="risk-modal byte-modal v-transfer-dom" align-center=""><div class="byte-modal__mask" style="z-index: 1002; display: none;"></div><div class="byte-modal__wrapper" style="z-index: 1002; display: none;"><div class="byte-modal__content" style="width: 350px;"><!----><div class="byte-modal__body"><div class="risk-modal-inner"><div class="risk-modal-title">温馨提示</div> <div>当前操作失败，如有疑问，可点击申诉</div> <div class="risk-modal-footer"><button type="button" class="cancel-button risk-button byte-btn byte-btn--default byte-btn--large"><!----><!----><span><span>前往申诉</span></span></button> <button type="button" class="risk-button byte-btn byte-btn--primary byte-btn--large"><!----><!----><span><span>我知道了</span></span></button></div></div></div><!----></div></div></div><div class="byte-tooltip byte-tooltip--dark" style="display: none; position: absolute; max-width: none; will-change: transform; z-index: 1003; top: 0px; left: 0px; transform: translate3d(87px, 491px, 0px);" x-placement="top">
        沉浸阅读
      <div x-arrow="" class="popper__arrow" style="left: 0px;"></div></div><link href="./深入探索 iOS 包体积优化 - 掘金_files/141.6a4a58a.css" rel="stylesheet" type="text/css"><link href="./深入探索 iOS 包体积优化 - 掘金_files/183.273fb5b.css" rel="stylesheet" type="text/css"><link href="./深入探索 iOS 包体积优化 - 掘金_files/193.2a5a904.css" rel="stylesheet" type="text/css"><link href="./深入探索 iOS 包体积优化 - 掘金_files/21.4893fa3.css" rel="stylesheet" type="text/css"><div data-v-41eefe39="" data-transfer="true" class="lead byte-modal v-transfer-dom"><div class="byte-modal__mask" style="z-index: 1004; display: none;"></div><div class="byte-modal__wrapper" style="z-index: 1004; display: none;"><div class="byte-modal__content" style="width: 500px;"><div class="byte-modal__header"><img data-v-41eefe39="" src="./深入探索 iOS 包体积优化 - 掘金_files/MaskGroup.13dfc4f.png" alt="" loading="lazy" class="header-bgc"> <span data-v-41eefe39="" class="header-title">选择你感兴趣的技术方向</span><span aria-label="Close" class="byte-modal__headerbtn"><i class="byte-icon byte-icon--close"><svg t="1561638608887" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="441911" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M512 448l288-288c6.4-6.4 19.2-6.4 32 0l25.6 32c6.4 6.4 6.4 19.2 0 32L569.6 505.6l288 288c6.4 6.4 6.4 19.2 0 32l-32 32c-6.4 6.4-19.2 6.4-32 0L512 569.6l-288 288c-6.4 6.4-19.2 6.4-32 0l-32-32c-6.4-6.4-6.4-19.2 0-32L448 505.6 160 224c-6.4-12.8-6.4-25.6 0-32l32-32c6.4-6.4 19.2-6.4 32 0L512 448z" p-id="441912"></path><path d="M512 448l288-288c6.4-6.4 19.2-6.4 32 0l25.6 32c6.4 6.4 6.4 19.2 0 32L569.6 505.6l288 288c6.4 6.4 6.4 19.2 0 32l-32 32c-6.4 6.4-19.2 6.4-32 0L512 569.6l-288 288c-6.4 6.4-19.2 6.4-32 0l-32-32c-6.4-6.4-6.4-19.2 0-32L448 505.6 160 224c-6.4-12.8-6.4-25.6 0-32l32-32c6.4-6.4 19.2-6.4 32 0L512 448z" p-id="441913"></path></svg></i></span></div><div class="byte-modal__body"> <div data-v-41eefe39="" class="classify-box"><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M2 2.5C1.44772 2.5 1 2.94772 1 3.5V11.5C1 12.0523 1.44772 12.5 2 12.5H14C14.5523 12.5 15 12.0523 15 11.5V3.5C15 2.94772 14.5523 2.5 14 2.5H2ZM4.5 7.5C4.22386 7.5 4 7.72386 4 8V10C4 10.2761 4.22386 10.5 4.5 10.5H5C5.27614 10.5 5.5 10.2761 5.5 10V8C5.5 7.72386 5.27614 7.5 5 7.5H4.5ZM7 5.5C7 5.22386 7.22386 5 7.5 5H8C8.27614 5 8.5 5.22386 8.5 5.5V10C8.5 10.2761 8.27614 10.5 8 10.5H7.5C7.22386 10.5 7 10.2761 7 10V5.5ZM10.5 6.5C10.2239 6.5 10 6.72386 10 7V10C10 10.2761 10.2239 10.5 10.5 10.5H11C11.2761 10.5 11.5 10.2761 11.5 10V7C11.5 6.72386 11.2761 6.5 11 6.5H10.5Z" fill="#86909C"></path><rect data-v-41eefe39="" id="Rectangle 282" x="3" y="13.5" width="10" height="1.3" rx="0.5" fill="#86909C"></rect></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              后端
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M2 2.5C1.44772 2.5 1 2.94772 1 3.5V6.5H15V3.5C15 2.94772 14.5523 2.5 14 2.5H2ZM15 7.8H1V13.5C1 14.0523 1.44772 14.5 2 14.5H14C14.5523 14.5 15 14.0523 15 13.5V7.8ZM8.65811 8.52566C8.92009 8.61298 9.06167 8.89614 8.97434 9.15811L7.97434 12.1581C7.88702 12.4201 7.60386 12.5617 7.34189 12.4743C7.07991 12.387 6.93833 12.1039 7.02566 11.8419L8.02566 8.84189C8.11298 8.57991 8.39614 8.43833 8.65811 8.52566ZM3.5 5.5C3.77614 5.5 4 5.27614 4 5C4 4.72386 3.77614 4.5 3.5 4.5C3.22386 4.5 3 4.72386 3 5C3 5.27614 3.22386 5.5 3.5 5.5ZM5.5 5C5.5 5.27614 5.27614 5.5 5 5.5C4.72386 5.5 4.5 5.27614 4.5 5C4.5 4.72386 4.72386 4.5 5 4.5C5.27614 4.5 5.5 4.72386 5.5 5ZM6.5 5.5C6.77614 5.5 7 5.27614 7 5C7 4.72386 6.77614 4.5 6.5 4.5C6.22386 4.5 6 4.72386 6 5C6 5.27614 6.22386 5.5 6.5 5.5ZM6.44721 9.27639C6.57071 9.52338 6.4706 9.82372 6.22361 9.94721L5.11803 10.5L6.22361 11.0528C6.4706 11.1763 6.57071 11.4766 6.44721 11.7236C6.32372 11.9706 6.02338 12.0707 5.77639 11.9472L3.77639 10.9472C3.607 10.8625 3.5 10.6894 3.5 10.5C3.5 10.3106 3.607 10.1375 3.77639 10.0528L5.77639 9.05279C6.02338 8.92929 6.32372 9.0294 6.44721 9.27639ZM9.77639 9.94721C9.5294 9.82372 9.42929 9.52338 9.55279 9.27639C9.67628 9.0294 9.97662 8.92929 10.2236 9.05279L12.2236 10.0528C12.393 10.1375 12.5 10.3106 12.5 10.5C12.5 10.6894 12.393 10.8625 12.2236 10.9472L10.2236 11.9472C9.97662 12.0707 9.67628 11.9706 9.55279 11.7236C9.42929 11.4766 9.5294 11.1763 9.77639 11.0528L10.882 10.5L9.77639 9.94721Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              前端
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><rect data-v-41eefe39="" id="Rectangle 287" x="5.7002" y="12.5" width="1.3" height="3" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 289" x="1" y="6.5" width="1.3" height="6" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 290" x="13.7002" y="6.5" width="1.3" height="6" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 288" x="9" y="12.5" width="1.3" height="3" rx="0.5" fill="#86909C"></rect><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M13 5.86364V12.5C13 13.0523 12.5523 13.5 12 13.5H4C3.44772 13.5 3 13.0523 3 12.5V5.86364V5.77273C3 5.74067 3.00151 5.70897 3.00446 5.67768C3.11608 3.35397 5.30996 1.5 8 1.5C10.69 1.5 12.8839 3.35397 12.9955 5.67768C12.9985 5.70897 13 5.74067 13 5.77273V5.86364ZM7 6.25C7 6.66421 6.66421 7 6.25 7C5.83579 7 5.5 6.66421 5.5 6.25C5.5 5.83579 5.83579 5.5 6.25 5.5C6.66421 5.5 7 5.83579 7 6.25ZM9.75 7C10.1642 7 10.5 6.66421 10.5 6.25C10.5 5.83579 10.1642 5.5 9.75 5.5C9.33579 5.5 9 5.83579 9 6.25C9 6.66421 9.33579 7 9.75 7Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              Android
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39=""><g data-v-41eefe39="" id="pingguo-2 1"><path data-v-41eefe39="" id="Vector" d="M11.821 8.9388C11.8035 7.16562 13.267 6.31556 13.3322 6.27312C12.5097 5.06956 11.2287 4.90506 10.7724 4.88581C9.6821 4.77556 8.64523 5.52763 8.09179 5.52763C7.5401 5.52763 6.6861 4.902 5.78179 4.91863C4.59354 4.93613 3.49761 5.60944 2.88598 6.67387C1.65136 8.8163 2.56967 11.9899 3.77323 13.7277C4.36123 14.5782 5.06254 15.5332 5.98304 15.4991C6.86942 15.4637 7.20498 14.9255 8.27642 14.9255C9.34785 14.9255 9.64929 15.4991 10.5877 15.4816C11.5415 15.4637 12.1461 14.6149 12.7302 13.7618C13.4052 12.7752 13.6835 11.8197 13.6997 11.7707C13.6787 11.7611 11.8394 11.0567 11.821 8.9388ZM10.0584 3.73563C10.547 3.14281 10.8769 2.32031 10.7868 1.5C10.0829 1.52888 9.22973 1.969 8.72485 2.56006C8.2716 3.08463 7.87523 3.922 7.98154 4.72613C8.76729 4.78737 9.56923 4.32669 10.0584 3.73563Z" fill="#86909C"></path></g></g><defs data-v-41eefe39=""></defs></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              iOS
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><rect data-v-41eefe39="" id="Rectangle 289" x="1" y="8.5" width="1.3" height="5" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 292" x="14" y="8.5" width="1.3" height="5" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 293" x="7.5" y="4.5" width="1" height="3" rx="0.5" fill="#86909C"></rect><circle data-v-41eefe39="" id="Ellipse 25" cx="8" cy="2.5" r="1" fill="#86909C"></circle><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M3 7.5C3 6.94772 3.44772 6.5 4 6.5H12C12.5523 6.5 13 6.94772 13 7.5V14.5C13 15.0523 12.5523 15.5 12 15.5H4C3.44772 15.5 3 15.0523 3 14.5V7.5ZM7 11.25C7 11.6642 6.66421 12 6.25 12C5.83579 12 5.5 11.6642 5.5 11.25C5.5 10.8358 5.83579 10.5 6.25 10.5C6.66421 10.5 7 10.8358 7 11.25ZM9.75 12C10.1642 12 10.5 11.6642 10.5 11.25C10.5 10.8358 10.1642 10.5 9.75 10.5C9.33579 10.5 9 10.8358 9 11.25C9 11.6642 9.33579 12 9.75 12Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              人工智能
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><g data-v-41eefe39="" id="kaifagongjuicon-hui 1"><path data-v-41eefe39="" id="Vector" d="M14.212 5.04986L13.497 5.76886C13.3158 5.95088 13.1005 6.09531 12.8633 6.19386C12.6261 6.29242 12.3718 6.34315 12.115 6.34315C11.8582 6.34315 11.6039 6.29242 11.3667 6.19386C11.1295 6.09531 10.9142 5.95088 10.733 5.76886C10.3664 5.39915 10.1606 4.89955 10.1606 4.37886C10.1606 3.85817 10.3664 3.35857 10.733 2.98886L11.448 2.26986C11.843 1.87286 11.579 1.40486 10.868 1.51686C10.028 1.64786 9.262 2.07586 8.709 2.72286C8.005 3.41786 7.682 4.66486 7.922 5.81786L1.927 11.8469C1.56096 12.2165 1.35562 12.7157 1.35562 13.2359C1.35562 13.7561 1.56096 14.2552 1.927 14.6249C2.10804 14.807 2.32329 14.9515 2.56038 15.0501C2.79747 15.1487 3.05172 15.1995 3.3085 15.1995C3.56528 15.1995 3.81953 15.1487 4.05662 15.0501C4.29371 14.9515 4.50896 14.807 4.69 14.6249L10.686 8.59486C11.2693 8.7189 11.8745 8.69473 12.446 8.52459C13.0176 8.35444 13.5375 8.04373 13.958 7.62086C14.5581 7.01861 14.9243 6.22244 14.991 5.37486C15.071 4.91886 14.607 4.65286 14.212 5.04986ZM3.768 13.6979C3.67659 13.7885 3.56041 13.85 3.4341 13.8747C3.30779 13.8994 3.17699 13.8861 3.05819 13.8366C2.93939 13.7871 2.8379 13.7036 2.76651 13.5965C2.69511 13.4894 2.65701 13.3636 2.657 13.2349C2.65647 13.0618 2.72462 12.8957 2.84649 12.7729C2.96836 12.6501 3.13399 12.5807 3.307 12.5799C3.487 12.5799 3.651 12.6529 3.768 12.7719C3.888 12.8889 3.96 13.0539 3.96 13.2349C3.9604 13.3209 3.94363 13.4062 3.91066 13.4857C3.87769 13.5652 3.82919 13.6373 3.768 13.6979ZM3.118 5.16786L5.377 7.43986L6.297 6.51286L4.04 4.24286L3.535 3.27086L1.92 2.11186L1 3.03986L2.151 4.66086L3.118 5.16786ZM10.672 9.98586C10.642 9.95526 10.6062 9.93095 10.5667 9.91436C10.5272 9.89776 10.4848 9.88921 10.442 9.88921C10.3992 9.88921 10.3568 9.89776 10.3173 9.91436C10.2778 9.93095 10.242 9.95526 10.212 9.98586L8.83 11.3759C8.79955 11.4062 8.7754 11.4423 8.75891 11.482C8.74243 11.5218 8.73395 11.5644 8.73395 11.6074C8.73395 11.6504 8.74243 11.693 8.75891 11.7327C8.7754 11.7724 8.79955 11.8085 8.83 11.8389L12.09 15.1169C12.2106 15.2383 12.3541 15.3348 12.5122 15.4006C12.6703 15.4663 12.8398 15.5002 13.011 15.5002C13.1822 15.5002 13.3517 15.4663 13.5098 15.4006C13.6679 15.3348 13.8114 15.2383 13.932 15.1169C14.442 14.6049 14.442 13.7769 13.932 13.2639L10.672 9.98586Z" fill="#86909C"></path></g></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              开发工具
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M1 2.5C1 1.94772 1.44772 1.5 2 1.5H14C14.5523 1.5 15 1.94772 15 2.5V14.5C15 15.0523 14.5523 15.5 14 15.5H2C1.44772 15.5 1 15.0523 1 14.5V2.5ZM3 5C3 4.72386 3.22386 4.5 3.5 4.5H12.5C12.7761 4.5 13 4.72386 13 5V5.3C13 5.57614 12.7761 5.8 12.5 5.8H3.5C3.22386 5.8 3 5.57614 3 5.3V5ZM3.5 7.5C3.22386 7.5 3 7.72386 3 8V8.3C3 8.57614 3.22386 8.8 3.5 8.8H4.5C4.77614 8.8 5 8.57614 5 8.3V8C5 7.72386 4.77614 7.5 4.5 7.5H3.5ZM7 8C7 7.72386 7.22386 7.5 7.5 7.5H8.5C8.77614 7.5 9 7.72386 9 8V8.3C9 8.57614 8.77614 8.8 8.5 8.8H7.5C7.22386 8.8 7 8.57614 7 8.3V8ZM11.5 7.5C11.2239 7.5 11 7.72386 11 8V8.3C11 8.57614 11.2239 8.8 11.5 8.8H12.5C12.7761 8.8 13 8.57614 13 8.3V8C13 7.72386 12.7761 7.5 12.5 7.5H11.5ZM3 11C3 10.7239 3.22386 10.5 3.5 10.5H7.5C7.77614 10.5 8 10.7239 8 11V11.3C8 11.5761 7.77614 11.8 7.5 11.8H3.5C3.22386 11.8 3 11.5761 3 11.3V11ZM10.5 10.5C10.2239 10.5 10 10.7239 10 11V11.3C10 11.5761 10.2239 11.8 10.5 11.8H12.5C12.7761 11.8 13 11.5761 13 11.3V11C13 10.7239 12.7761 10.5 12.5 10.5H10.5Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              代码人生
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M14.9187 7.03385C15.0999 7.26744 14.9466 7.7 14.651 7.7H6.32905V4.5H5.02905V7.7H3.6C2.16406 7.7 1 6.53594 1 5.1C1 3.66406 2.16406 2.5 3.6 2.5H14.651C14.9466 2.5 15.0999 2.93257 14.9188 3.16616C14.5064 3.69779 14.2602 4.36959 14.2602 5.10001C14.2602 5.83043 14.5064 6.50222 14.9187 7.03385Z" fill="#86909C"></path><path data-v-41eefe39="" id="Subtract_2" fill-rule="evenodd" clip-rule="evenodd" d="M1.34902 14.5008C1.0534 14.5008 0.900077 14.0682 1.08126 13.8346C1.49363 13.303 1.7398 12.6312 1.7398 11.9008C1.7398 11.1704 1.49362 10.4986 1.08125 9.96694C0.900064 9.73335 1.05339 9.30078 1.34901 9.30078H12.4C13.8359 9.30078 15 10.4648 15 11.9008C15 13.3367 13.8359 14.5008 12.4 14.5008H1.34902Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              阅读
            </span></div></div></div></div> <!----></div><div class="byte-modal__footer"><div data-v-41eefe39="" class="left">跳过</div> <div data-v-41eefe39="" class="mid" style="display: none;">上一步</div> <div data-v-41eefe39="" class="right">
      至少选择1个分类
    </div></div></div></div></div><div data-v-8bb78912="" data-transfer="true" class="upgrade-new-modal byte-modal v-transfer-dom"><div class="byte-modal__mask" style="z-index: 1005; display: none;"></div><div class="byte-modal__wrapper" style="z-index: 1005; display: none;"><div class="byte-modal__content" style="width: 311px;"><div class="byte-modal__header"><span class="byte-modal__title"></span><!----></div><div class="byte-modal__body"> <!----> <div data-v-8bb78912="" class="close-icon"><img data-v-8bb78912="" src="./深入探索 iOS 包体积优化 - 掘金_files/8867e249c23a7c0ea596c139befc04d7.svg" alt=""></div></div><!----></div></div></div><link href="./深入探索 iOS 包体积优化 - 掘金_files/100.b5603cb.css" rel="stylesheet" type="text/css"><link href="./深入探索 iOS 包体积优化 - 掘金_files/158.2361d2d.css" rel="stylesheet" type="text/css"><link href="./深入探索 iOS 包体积优化 - 掘金_files/11.e06cf08.css" rel="stylesheet" type="text/css"><link href="./深入探索 iOS 包体积优化 - 掘金_files/88.31ddc5c.css" rel="stylesheet" type="text/css"></body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>