<!DOCTYPE html>
<!-- saved from url=(0042)https://juejin.cn/post/6844903462652608520 -->
<html lang="zh" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22zh%22%7D%7D"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>今日头条 iOS 客户端启动速度优化 - 掘金</title><meta data-n-head="ssr" name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover"><meta data-n-head="ssr" name="apple-itunes-app" content="app-id=987739104"><meta data-n-head="ssr" name="theme-color" content="#ffffff"><meta data-n-head="ssr" name="msapplication-TileColor" content="#da532c"><meta data-n-head="ssr" vmid="description" name="description" content="应用启动时间，直接影响用户对一款应用的判断和使用体验。头条主 app 本身就包含非常多并且复杂度高的业务模块（如新闻、视频等），也接入了很多第三方的插件，这势必会拖慢应用的启动时间，本着精益求精的态度和对用户体验的追求，我们希望在业务扩张的同时最大程度的优化启动时间。"><meta data-n-head="ssr" vmid="keywords" name="keywords" content="iOS"><link data-n-head="ssr" rel="preconnect" href="https://unpkg.byted-static.com/" crossorigin="anonymous"><link data-n-head="ssr" rel="preconnect" href="https://lf3-cdn-tos.bytescm.com/" crossorigin="anonymous"><link data-n-head="ssr" rel="preconnect" href="https://mcs.snssdk.com/" crossorigin="anonymous"><link data-n-head="ssr" rel="preconnect" href="https://i.snssdk.com/" crossorigin="anonymous"><link data-n-head="ssr" rel="dns-prefetch" href="https://lf3-short.ibytedapm.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://lf3-cdn-tos.bytescm.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://api.juejin.cn/"><link data-n-head="ssr" rel="dns-prefetch" href="https://lf-cdn-tos.bytescm.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://unpkg.byted-static.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p1-juejin.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p3-juejin.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p6-juejin.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p9-juejin.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p1-jj.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p2-jj.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p6-jj.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://p9-jj.byteimg.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://mcs.snssdk.com/"><link data-n-head="ssr" rel="dns-prefetch" href="https://i.snssdk.com/"><link data-n-head="ssr" rel="apple-touch-icon" sizes="180x180" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/apple-touch-icon.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="32x32" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/favicon-32x32.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="16x16" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/favicon-16x16.png"><link data-n-head="ssr" rel="mask-icon" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/safari-pinned-tab.svg" color="#1E80FF"><link data-n-head="ssr" rel="manifest" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/site.webmanifest"><link data-n-head="ssr" rel="search" title="掘金" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/search.xml" type="application/opensearchdescription+xml"><link data-n-head="ssr" rel="stylesheet" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/bytedesign.min.css"><link data-n-head="ssr" rel="canonical" href="https://juejin.cn/post/6844903462652608520"><script data-n-head="ssr" type="text/javascript" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/acrawler.js"></script><script data-n-head="ssr" vmid="slardar" type="text/javascript" crossorigin="anonymous">;(function (w, d, u, b, n, pc, ga, ae, po, s, p, e, t, pp) {pc = 'precollect';ga = 'getAttribute';ae = 'addEventListener';po = 'PerformanceObserver';s = function (m) {p = [].slice.call(arguments);p.push(Date.now(), location.href);(m == pc ? s.p.a : s.q).push(p)};s.q = [];s.p = { a: [] };w[n] = s;e = document.createElement('script');e.src = u + '?bid=' + b + '&globalName=' + n;e.crossOrigin = u.indexOf('sdk-web') > 0 ? 'anonymous' : 'use-credentials';d.getElementsByTagName('head')[0].appendChild(e);if (ae in w) {s.pcErr = function (e) {e = e || w.event;t = e.target || e.srcElement;if (t instanceof Element || t instanceof HTMLElement) {if (t[ga]('integrity')) {w[n](pc, 'sri', t[ga]('href') || t[ga]('src'))} else {w[n](pc, 'st', { tagName: t.tagName, url: t[ga]('href') || t[ga]('src') })}} else {w[n](pc, 'err', e.error || e.message)}};s.pcRej = function (e) {e = e || w.event;w[n](pc, 'err', e.reason || (e.detail && e.detail.reason))};w[ae]('error', s.pcErr, true);w[ae]('unhandledrejection', s.pcRej, true);};if('PerformanceLongTaskTiming' in w) {pp = s.pp = { entries: [] };pp.observer = new PerformanceObserver(function (l) {pp.entries = pp.entries.concat(l.getEntries())});pp.observer.observe({ entryTypes: ['longtask', 'largest-contentful-paint','layout-shift'] })}})(window,document,'https://lf3-short.ibytedapm.com/slardar/fe/sdk-web/browser.cn.js','2608','SlardarWeb')</script><script src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/browser.cn.js" crossorigin="anonymous"></script><script data-n-head="ssr" type="text/javascript" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/imageReport.js"></script><script data-n-head="ssr" type="application/ld+json">[{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://juejin.cn/post/6844903462652608520"},"headline":"今日头条 iOS 客户端启动速度优化","description":"应用启动时间，直接影响用户对一款应用的判断和使用体验。头条主 app 本身就包含非常多并且复杂度高的业务模块（如新闻、视频等），也接入了很多第三方的插件，这势必会拖慢应用的启动时间，本着精益求精的态度和对用户体验的追求，我们希望在业务扩张的同时最大程度的优化启动时间。","image":["https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/642a38c415567b6965ef.jpeg~tplv-t2oaga2asx-image.image"],"author":{"@type":"Organization","name":"稀土君"},"publisher":{"@type":"Organization","name":"掘金","logo":{"@type":"ImageObject","url":"//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/e08da34488b114bd4c665ba2fa520a31.svg"}},"datePublished":"2017年02月07日","dateModified":"2020年09月04日"},{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","name":"稀土掘金","position":1,"item":"https://juejin.cn"},{"@type":"ListItem","name":"iOS","position":2,"item":"https://juejin.cn/ios"},{"@type":"ListItem","name":"文章","position":3}]}]</script><link rel="preload" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/6ccc1bf.js" as="script"><link rel="preload" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/83d184c.js" as="script"><link rel="preload" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/6a0af43.js" as="script"><link rel="preload" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/app.c95707c.css" as="style"><link rel="preload" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/6e787e2.js" as="script"><link rel="preload" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/default.c3d25dd.css" as="style"><link rel="preload" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/c68ae6a.js" as="script"><link rel="preload" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/52.39cb9d6.css" as="style"><link rel="preload" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/607e9aa.js" as="script"><link rel="preload" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/197.8de3951.css" as="style"><link rel="preload" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/fe8610f.js" as="script"><link rel="preload" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/198.adcadde.css" as="style"><link rel="preload" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/37aab1f.js" as="script"><link rel="stylesheet" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/app.c95707c.css"><link rel="stylesheet" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/default.c3d25dd.css"><link rel="stylesheet" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/52.39cb9d6.css"><link rel="stylesheet" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/197.8de3951.css"><link rel="stylesheet" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/198.adcadde.css">
  <script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/3f2c049.js"></script><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/e5d3ec2.js"></script><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/41b8609.js"></script><link rel="preload" as="style" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/4.4ebc7e8.css"><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/929f319.js"></script><link rel="preload" as="style" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/139.9ccface.css"><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/45c0ab1.js"></script><link rel="preload" as="style" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/181.1b801b1.css"><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/37ac484.js"></script><link rel="preload" as="style" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/192.1dc0908.css"><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/7745e43.js"></script><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/452761f.js"></script><link rel="preload" as="style" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/158.cb7fed2.css"><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/a217112.js"></script><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/228a585.js"></script><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/16a9736.js"></script><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/7183dda.js"></script><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/e0132cd.js"></script><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/fea69cf.js"></script><style type="text/css">.code-editor-container{display:block;position:relative;overflow:hidden;box-sizing:border-box;}iframe.code-editor-frame{width:100%;height:100%;border:none;border-radius:8px;box-sizing:border-box;border:0.5px solid rgba(128,128,128,0.4);}</style><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/25dbe16.js"></script><script src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/common-monitors.1.5.1.js" crossorigin="anonymous"></script><link rel="preload" as="style" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/100.b5554a0.css"><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/c51d9f0.js"></script><link rel="preload" as="style" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/155.cc4a86e.css"><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/385b17a.js"></script><link rel="preload" as="style" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/9.b3ecb8a.css"><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/5a9f17f.js"></script><link rel="preload" as="style" href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/88.9843b4c.css"><script charset="utf-8" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/9ba0270.js"></script></head>
  <body data-new-gr-c-s-check-loaded="14.1098.0" data-gr-ext-installed="">
    <div id="__nuxt"><div id="__layout"><div id="juejin"><!----> <div class="view-container" data-v-4b9f9746="" data-v-1c9ebbff=""><div class="main-header-box" data-v-4b9f9746=""><header data-fetch-key="0" class="main-header main-header" data-v-ec958a82="" data-v-4b9f9746=""><div class="container" data-v-ec958a82=""><a href="https://juejin.cn/" class="logo" data-v-ec958a82=""><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/e08da34488b114bd4c665ba2fa520a31.svg" alt="稀土掘金" class="logo-img" data-v-ec958a82=""> <img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/6c61ae65d1c41ae8221a670fa32d05aa.svg" alt="稀土掘金" class="mobile" data-v-ec958a82=""></a> <!----> <!----> <nav role="navigation" class="main-nav" data-v-ec958a82=""><ul class="nav-list" data-v-ec958a82=""><!----> <li class="main-nav-list" data-v-ec958a82=""><div class="phone-show-menu isResourceVisible" data-v-ec958a82=""><span data-v-ec958a82="">首页</span> <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="unfold16-icon" data-v-ec958a82=""><path d="M2.45025 4.82431C2.17422 4.49957 2.40501 4.00049 2.83122 4.00049H9.16878C9.59498 4.00049 9.82578 4.49957 9.54975 4.82431L6.38097 8.55229C6.1813 8.78719 5.8187 8.78719 5.61903 8.55229L2.45025 4.82431Z" data-v-ec958a82=""></path></svg></div> <ul class="phone-hide isResourceVisible" data-v-ec958a82=""><li class="nav-item link-item route-active" data-v-ec958a82=""><a href="https://juejin.cn/" data-v-ec958a82="">首页</a></li> <li class="nav-item link-item activities" data-v-ec958a82=""><a href="https://juejin.cn/pins" data-v-ec958a82=""><span class="text" data-v-ec958a82="">
                  沸点
                  </span></a></li> <li class="nav-item link-item book" data-v-ec958a82=""><a href="https://juejin.cn/course" data-v-ec958a82="">
                课程
                <span data-v-ec958a82="" class="tablead">
                    上新
                  </span></a></li> <li class="nav-item link-item" data-v-ec958a82=""><a href="https://juejin.cn/live" data-v-ec958a82="">直播</a></li> <li class="nav-item link-item" data-v-ec958a82=""><a href="https://juejin.cn/events/all" data-v-ec958a82="">活动</a></li> <li class="nav-item link-item" data-v-ec958a82=""><a href="https://juejin.cn/challenge" data-v-ec958a82="">
                竞赛
                </a></li> <nav class="nav-item link-item" data-v-ec958a82=""><a href="https://detail.youzan.com/show/goods/newest?kdt_id=104340304" target="_blank" rel="nofollow noopener noreferrer" class="nav-item link-item no-border" data-v-ec958a82=""><span data-v-ec958a82="">商城</span></a> <!----></nav> <nav class="nav-item link-item download-icon isResourceVisible" data-v-ec958a82=""><a href="https://juejin.cn/app?utm_source=jj_nav" target="_blank" class="download-app no-border" data-v-ec958a82="">
                APP
              </a> <span data-v-ec958a82="" class="tablead">邀请有礼</span></nav> <nav class="nav-item link-item extension-icon" data-v-ec958a82=""><a href="https://juejin.cn/extension?utm_source=jj_nav" target="_blank" rel="nofollow noopener noreferrer" class="broswer-extension no-border isResourceVisible" data-v-ec958a82=""><span data-v-ec958a82="">插件</span></a></nav> <li tag="li" class="nav-item link-item" data-v-ec958a82=""><a target="_blank" href="https://juejin.cn/vip?utm_source=web_nav" class="activity no-hover special-activity" data-v-ec958a82=""><img data-v-248050e4="" data-v-ec958a82="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/7482b3ad2cd14edda31f05399c2ae759_tplv-k3u1fbpfcp-no-mark_288_288_288_0.awebp" alt="image" class="lazy" loading="lazy" style="max-width: 115px; vertical-align: middle;"></a></li></ul></li> <ul class="right-side-nav" data-v-ec958a82=""><li class="search-add" data-v-ec958a82=""><ul class="search-add-ul isResourceVisible" data-v-ec958a82=""><li class="nav-item search" data-v-ec958a82=""><form role="search" class="search-form isResourceVisible" data-v-ec958a82=""><input type="search" maxlength="32" placeholder="探索稀土掘金" value="" class="search-input isResourceVisible" data-v-ec958a82=""> <div class="seach-icon-container" data-v-ec958a82=""><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/1e8ab9a22f0ddc36349f60b38900d0bd.svg" alt="搜索" class="search-icon" data-v-ec958a82=""></div> <div class="typehead" style="display:none;" data-v-ec958a82=""><!----> <div class="title" data-v-ec958a82=""><span data-v-ec958a82="">搜索历史</span> <span class="clear" data-v-ec958a82="">
                        清空
                      </span></div> <div class="list" data-v-ec958a82=""><div data-v-ec958a82="">
                        iOS 图片的优化
                      </div><div data-v-ec958a82="">
                        图片的优化
                      </div></div></div></form></li> <li class="nav-item add creator-item" data-v-ec958a82=""><div class="add-group" data-v-0a54c80a="" data-v-ec958a82=""><svg data-v-0a54c80a="" width="38" height="20" viewBox="0 0 38 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="update-icon"><rect data-v-0a54c80a="" y="1" width="38" height="16" rx="8" fill="#F53F3F"></rect><path data-v-0a54c80a="" d="M7.5 7.93H11.47V9.02H7.5V7.93ZM11.47 9.65V10.71H7.5V9.65H11.47ZM11.47 11.34V12.48C11.47 12.72 11.34 12.84 11.08 12.84C10.75 12.84 10.39 12.82 10.01 12.8L10.19 13.46H11.31C11.87 13.44 12.15 13.19 12.15 12.7V7.3H7.51C7.75 6.93 7.96 6.54 8.16 6.14H13.43V5.44H8.46C8.6 5.09 8.72 4.73 8.84 4.36L8.11 4.27C7.99 4.66 7.84 5.05 7.67 5.44H4.69V6.14H7.34C6.65 7.43 5.68 8.57 4.42 9.57L4.89 10.18C5.61 9.6 6.26 8.95 6.82 8.25V13.48H7.5V11.34H11.47ZM14.72 4.73V5.4H18.64V6.27H15.58V10.23H18.51C18.41 10.75 18.23 11.18 17.99 11.52C17.43 11.23 16.91 10.89 16.44 10.5L15.89 10.88C16.38 11.3 16.92 11.67 17.5 11.99C16.86 12.45 15.84 12.73 14.45 12.84L14.76 13.5C16.35 13.32 17.5 12.94 18.2 12.34C19.69 13.02 21.44 13.41 23.45 13.49L23.63 12.8C21.71 12.74 20.05 12.41 18.65 11.82C18.93 11.42 19.12 10.89 19.24 10.23H22.46V6.27H19.36V5.4H23.29V4.73H14.72ZM21.75 9.6H19.33L19.36 8.89V8.54H21.75V9.6ZM18.61 9.6H16.29V8.54H18.64V8.89C18.64 9.13 18.63 9.37 18.61 9.6ZM16.29 7.94V6.89H18.64V7.94H16.29ZM19.36 6.89H21.75V7.94H19.36V6.89ZM32.94 4.43C31.97 4.85 30.88 5.08 29.67 5.1V9.38C29.62 10.9 29.3 12.09 28.71 12.95L29.22 13.49C29.94 12.47 30.32 11.1 30.37 9.38V8.19H31.85V13.53H32.56V8.19H33.6V7.5H30.37V5.68C31.45 5.62 32.42 5.41 33.3 5.07L32.94 4.43ZM24.61 5.2V5.86H29.12V5.2H27.23C27.09 4.84 26.95 4.51 26.8 4.21L26.06 4.33C26.23 4.59 26.38 4.88 26.52 5.2H24.61ZM24.51 7.47V8.12H26.53V9.24H24.67V9.9H26.53V12.56C26.53 12.8 26.4 12.92 26.14 12.92C26 12.92 25.85 12.9 25.69 12.87L25.84 13.54H26.38C26.96 13.54 27.25 13.27 27.25 12.73V9.9H29.01V9.24H27.25V8.12H29.18V7.47H28.05C28.24 7.13 28.41 6.74 28.57 6.31L27.92 6.09C27.77 6.57 27.6 7.03 27.4 7.47H26.3C26.14 6.93 25.96 6.48 25.77 6.11L25.13 6.34C25.33 6.69 25.51 7.07 25.66 7.47H24.51ZM25.37 10.44C25.15 11.32 24.81 12.12 24.34 12.84L24.94 13.22C25.4 12.47 25.77 11.59 26.03 10.58L25.37 10.44ZM28.24 10.37L27.64 10.53C27.92 11.13 28.15 11.75 28.34 12.38L28.94 12.15C28.78 11.61 28.54 11.02 28.24 10.37Z" fill="white"></path><path data-v-0a54c80a="" d="M18.8284 14L21.6568 16.8284L19.1112 19.374C18.955 19.5302 18.7017 19.5302 18.5455 19.374L15.9999 16.8284L18.8284 14Z" fill="#F53F3F"></path></svg> <button class="add-btn" data-v-0a54c80a="">
    创作者中心
  </button> <div class="more" data-v-0a54c80a=""><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="unfold12-icon" data-v-0a54c80a=""><path d="M2.45025 4.82383C2.17422 4.49908 2.40501 4 2.83122 4H9.16878C9.59499 4 9.82578 4.49908 9.54975 4.82382L6.38097 8.5518C6.1813 8.7867 5.8187 8.7867 5.61903 8.5518L2.45025 4.82383Z" fill="white" data-v-0a54c80a=""></path></svg></div> <ul class="more-list" data-v-0a54c80a=""><li class="item" data-v-0a54c80a=""><span class="icon write-article" data-v-0a54c80a="">写文章</span></li><li class="item" data-v-0a54c80a=""><span class="icon issue-points" data-v-0a54c80a="">发沸点</span></li><li class="item" data-v-0a54c80a=""><span class="icon write-note" data-v-0a54c80a="">写笔记</span></li><li class="item" data-v-0a54c80a=""><span class="icon create-jcode" data-v-0a54c80a="">写代码</span></li><li class="item" data-v-0a54c80a=""><span class="icon drafts" data-v-0a54c80a="">草稿箱</span></li></ul> <!----></div></li></ul></li> <!----> <li class="nav-item vip-entry" data-v-ec958a82=""><div class="vip-title" data-v-ec958a82=""><div class="vip-entry-img" data-v-ec958a82=""><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/24127194d5b158d7eaf8f09a256c5d01.svg" alt="vip" class="vip-img" data-v-ec958a82=""> </div> <div class="vip-words" data-v-ec958a82="">会员</div></div></li> <li class="nav-item notification" data-v-ec958a82=""><a class="app-link notification-a" data-v-ec958a82="" href="https://juejin.cn/notification"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="notification-icon" data-v-ec958a82=""><path d="M6.01132 10.2856C6.28115 6.54234 8.68619 4.28564 11.9999 4.28564C15.3136 4.28564 17.7186 6.54234 17.9885 10.2856C18.1219 12.1363 18.4093 13.708 19.9473 15.8848C20.1889 16.2267 19.953 16.7142 19.5343 16.7142H4.46546C4.04679 16.7142 3.81092 16.2267 4.05252 15.8848C5.59053 13.708 5.87793 12.1363 6.01132 10.2856Z" stroke-width="1.5" stroke-linecap="round" data-v-ec958a82=""></path><path d="M11.9573 3.21436V4.28578" stroke-width="3" stroke-linecap="round" data-v-ec958a82=""></path><path d="M9.57495 18.8569C9.92795 19.8557 10.8804 20.5712 12.0001 20.5712C13.1197 20.5712 14.0722 19.8557 14.4252 18.8569H9.57495Z" stroke-linecap="round" stroke-linejoin="round" data-v-ec958a82=""></path></svg> <!----></a> <ul class="menu-list notification-dropdown-menu" data-v-4e288a04="" data-v-ec958a82=""><li class="menu-item" data-v-4e288a04=""><a href="https://juejin.cn/notification" class="item-link" data-v-4e288a04=""><span class="item-name" data-v-4e288a04="">评论</span> <!----></a></li><li class="menu-item" data-v-4e288a04=""><a href="https://juejin.cn/notification/digg" class="item-link" data-v-4e288a04=""><span class="item-name" data-v-4e288a04="">点赞</span> <!----></a></li><li class="menu-item" data-v-4e288a04=""><a href="https://juejin.cn/notification/follow" class="item-link" data-v-4e288a04=""><span class="item-name" data-v-4e288a04="">关注</span> <!----></a></li><li class="menu-item" data-v-4e288a04=""><a href="https://juejin.cn/notification/im" class="item-link" data-v-4e288a04=""><span class="item-name" data-v-4e288a04="">私信</span> <!----></a></li><li class="menu-item" data-v-4e288a04=""><a href="https://juejin.cn/notification/system" class="item-link" data-v-4e288a04=""><span class="item-name" data-v-4e288a04="">系统消息</span> <!----></a></li></ul></li>  <li class="nav-item menu" data-v-ec958a82=""><div class="avatar-wrapper" data-v-ec958a82=""><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/3044413937_100x100.awebp" alt="Leon0206的头像" class="lazy avatar avatar immediate" data-v-248050e4="" data-v-0b45085c="" data-v-ec958a82="" loading="lazy"> <!----></div> <!----></li> <!----></ul></ul></nav></div> <!----></header></div>  <main class="container main-container" style="max-width:1140px;" data-v-4b9f9746=""><div class="view column-view" data-v-4b9f9746="" data-v-1c9ebbff=""><div class="main-area article-area" data-v-4b9f9746="" data-v-1c9ebbff=""><article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="6844903462652608520" data-draft-id="0" data-original-type="1" class="article" data-v-1c9ebbff="" data-v-4b9f9746=""><meta itemprop="url" content="https://juejin.cn/entry/6844903462652608520"> <meta itemprop="headline" content="今日头条 iOS 客户端启动速度优化"> <meta itemprop="keywords" content="iOS"> <meta itemprop="datePublished" content="2017-02-07T08:31:27.000Z"> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="稀土君"> <meta itemprop="url" content="https://juejin.cn/user/940837680722589"></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="掘金"> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"> <meta itemprop="width" content="180"> <meta itemprop="height" content="180"></div></div> <h1 class="article-title" data-v-1c9ebbff="">
            今日头条 iOS 客户端启动速度优化
            <!----></h1> <div class="author-info-block" data-v-1c9ebbff=""><a href="https://juejin.cn/user/940837680722589" target="_blank" rel="" class="avatar-link" data-v-1c9ebbff=""><img loading="eager" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/46218f0e66a164ea7d3b554b8e411dbd_100x100.awebp" alt="" class="lazy avatar avatar" data-v-248050e4="" data-v-0b45085c="" data-v-1c9ebbff=""></a> <div class="author-info-box" data-v-1c9ebbff=""><div class="author-name" data-v-1c9ebbff=""><a href="https://juejin.cn/user/940837680722589" target="_blank" rel="" class="username username ellipsis" data-v-68a20f0a="" data-v-1c9ebbff=""><span class="name" style="max-width:128px;" data-v-68a20f0a="">
    稀土君
  </span> <span blank="true" class="rank" data-v-3c1a13dc="" data-v-68a20f0a=""><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/3fdb11f5b5ff4d9aaf7982197d7e4082_tplv-k3u1fbpfcp-no-mark_0_0_0_0.awebp" alt="lv-8" title="创作等级" class="lazy" style="aspect-ratio:NaN;" data-v-248050e4="" data-v-3c1a13dc="" loading="lazy"></span> <!----> <!----> </a> <!----></div> <div class="meta-box" data-v-1c9ebbff=""><time datetime="2017-02-07T08:31:27.000Z" title="Tue Feb 07 2017 16:31:27 GMT+0800 (China Standard Time)" class="time" data-v-1c9ebbff="">
                    2017年02月07日 16:31
                  </time> <span class="views-count" data-v-1c9ebbff="">
                    ·&nbsp;&nbsp;阅读 7913
                  </span> <!----></div></div> <button class="follow-button follow" data-v-0ed911bc="" data-v-1c9ebbff=""><span class="icon icon-follow" data-v-0ed911bc=""></span> <span data-text="取消关注" class="text" data-v-0ed911bc="">关注</span></button></div> <!----> <img loading="eager" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/642a38c415567b6965ef.jpeg_tplv-t2oaga2asx-zoom-crop-mark_1890_1890_1890_1064.awebp" alt="今日头条 iOS 客户端启动速度优化" class="lazy article-hero" data-v-248050e4="" data-v-1c9ebbff=""> <!----> <div class="originalUrl" data-v-1c9ebbff="">
            原文链接：
            <a data-v-1c9ebbff="" href="https://link.juejin.cn/?target=http%3A%2F%2Ftechblog.toutiao.com%2Farchives%2F2017%2F01%2Fiosspeed%2F" rel="nofollow noopener noreferrer" target="_blank">
              techblog.toutiao.com
            </a></div> <div itemprop="articleBody" class="article-content" data-v-1c9ebbff=""><div class="markdown-body cache html"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;margin-bottom:5px}.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{font-size:20px}.markdown-body h2{padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre>code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote>p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><p>应用启动时间，直接影响用户对一款应用的判断和使用体验。头条主app本身就包含非常多并且复杂度高的业务模块（如新闻、视频等），也接入了很多第三方的插件，这势必会拖慢应用的启动时间，本着精益求精的态度和对用户体验的追求，我们希望在业务扩张的同时最大程度的优化启动时间。<br>
    <a id="user-content-more" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn/?target="></a>
</p>
<h1 id="user-content-u6280_u672F_u8C03_u7814" data-id="heading-0">
    <a href="https://juejin.cn/post/6844903462652608520#u6280_u672F_u8C03_u7814" title="#u6280_u672F_u8C03_u7814"></a>技术调研</h1>
<p>先说结论，t(App总启动时间) = t1(main()之前的加载时间) + t2(main()之后的加载时间)。<br>t1 = 系统dylib(动态链接库)和自身App可执行文件的加载；<br>t2 = main方法执行之后到AppDelegate类中的- <code>(BOOL)Application:(UIApplication *)Application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions</code>方法执行结束前这段时间，主要是构建第一个界面，并完成渲染展示。</p>
<h2 id="user-content-main_28_29_u8C03_u7528_u4E4B_u524D_u7684_u52A0_u8F7D_u8FC7_u7A0B" data-id="heading-1">
    <a href="https://juejin.cn/post/6844903462652608520#main_28_29_u8C03_u7528_u4E4B_u524D_u7684_u52A0_u8F7D_u8FC7_u7A0B" title="#main_28_29_u8C03_u7528_u4E4B_u524D_u7684_u52A0_u8F7D_u8FC7_u7A0B"></a>main()调用之前的加载过程</h2>
<p>App开始启动后， 系统首先加载可执行文件（自身App的所有.o文件的集合），然后加载动态链接库dyld，dyld是一个专门用来加载动态链接库的库。 执行从dyld开始，dyld从可执行文件的依赖开始, 递归加载所有的依赖动态链接库。<br>动态链接库包括：iOS 中用到的所有系统 framework，加载OC runtime方法的libobjc，系统级别的libSystem，例如libdispatch(GCD)和libsystem_blocks (Block)。</p>
<p>其实无论对于系统的动态链接库还是对于App本身的可执行文件而言，他们都算是image（镜像），而每个App都是以image(镜像)为单位进行加载的，那么image究竟包括哪些呢？</p>
<h3 id="user-content-u4EC0_u4E48_u662Fimage" data-id="heading-2">
    <a href="https://juejin.cn/post/6844903462652608520#u4EC0_u4E48_u662Fimage" title="#u4EC0_u4E48_u662Fimage"></a>什么是image</h3>
<p>1.executable可执行文件 比如.o文件。<br>2.dylib 动态链接库 framework就是动态链接库和相应资源包含在一起的一个文件夹结构。<br>3.bundle 资源文件 只能用dlopen加载，不推荐使用这种方式加载。</p>
<p>除了我们App本身的可行性文件，系统中所有的framework比如UIKit、Foundation等都是以动态链接库的方式集成进App中的。</p>
<h3 id="user-content-u7CFB_u7EDF_u4F7F_u7528_u52A8_u6001_u94FE_u63A5_u6709_u51E0_u70B9_u597D_u5904_uFF1A" data-id="heading-3">
    <a href="https://juejin.cn/post/6844903462652608520#u7CFB_u7EDF_u4F7F_u7528_u52A8_u6001_u94FE_u63A5_u6709_u51E0_u70B9_u597D_u5904_uFF1A" title="#u7CFB_u7EDF_u4F7F_u7528_u52A8_u6001_u94FE_u63A5_u6709_u51E0_u70B9_u597D_u5904_uFF1A"></a>系统使用动态链接有几点好处：</h3>
<p>代码共用：很多程序都动态链接了这些 lib，但它们在内存和磁盘中中只有一份。<br>易于维护：由于被依赖的 lib 是程序执行时才链接的，所以这些 lib 很容易做更新，比如libSystem.dylib 是 libSystem.B.dylib 的替身，哪天想升级直接换成libSystem.C.dylib 然后再替换替身就行了。<br>减少可执行文件体积：相比静态链接，动态链接在编译时不需要打进去，所以可执行文件的体积要小很多。</p>
<p>
    <a href="https://link.juejin.cn/?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage0.png" title="http://ofnft8t2g.bkt.clouddn.com/wikiimage0.png" target="_blank" ref="nofollow noopener noreferrer"><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/3937edbabd5b4338c5d557f5aa73173c.png_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" loading="lazy"></a>
</p>
<p>如上图所示，不同进程之间共用系统dylib的<code>_TEXT</code>区，但是各自维护对应的<code>_DATA</code>区。</p>
<p>所有动态链接库和我们App中的静态库.a和所有类文件编译后的.o文件最终都是由dyld(the dynamic link editor)，Apple的动态链接器来加载到内存中。每个image都是由一个叫做ImageLoader的类来负责加载（一一对应），那么ImageLoader又是什么呢？</p>
<h3 id="user-content-u4EC0_u4E48_u662FImageLoader" data-id="heading-4">
    <a href="https://juejin.cn/post/6844903462652608520#u4EC0_u4E48_u662FImageLoader" title="#u4EC0_u4E48_u662FImageLoader"></a>什么是ImageLoader</h3>
<p>image 表示一个二进制文件(可执行文件或 so 文件)，里面是被编译过的符号、代码等，所以 ImageLoader 作用是将这些文件加载进内存，且每一个文件对应一个ImageLoader实例来负责加载。<br>两步走：<br>在程序运行时它先将动态链接的 image 递归加载 (也就是上面测试栈中一串的递归调用的时刻)。<br>再从可执行文件 image 递归加载所有符号。</p>
<p>当然所有这些都发生在我们真正的main函数执行前。</p>
<h3 id="user-content-u52A8_u6001_u94FE_u63A5_u5E93_u52A0_u8F7D_u7684_u5177_u4F53_u6D41_u7A0B" data-id="heading-5">
    <a href="https://juejin.cn/post/6844903462652608520#u52A8_u6001_u94FE_u63A5_u5E93_u52A0_u8F7D_u7684_u5177_u4F53_u6D41_u7A0B" title="#u52A8_u6001_u94FE_u63A5_u5E93_u52A0_u8F7D_u7684_u5177_u4F53_u6D41_u7A0B"></a>动态链接库加载的具体流程</h3>
<p>动态链接库的加载步骤具体分为5步：</p>
<ol>
    <li>load dylibs image 读取库镜像文件</li>
    <li>Rebase image</li>
    <li>Bind image</li>
    <li>Objc setup</li>
    <li>initializers</li>
</ol>
<h4 id="user-content-load_dylibs_image" data-id="heading-6">
    <a href="https://juejin.cn/post/6844903462652608520#load_dylibs_image" title="#load_dylibs_image"></a>load dylibs image</h4>
<p>在每个动态库的加载过程中， dyld需要：</p>
<ol>
    <li>分析所依赖的动态库</li>
    <li>找到动态库的mach-o文件</li>
    <li>打开文件</li>
    <li>验证文件</li>
    <li>在系统核心注册文件签名</li>
    <li>对动态库的每一个segment调用mmap()</li>
</ol>
<p>通常的，一个App需要加载100到400个dylibs， 但是其中的系统库被优化，可以很快的加载。<br>针对这一步骤的优化有：</p>
<ol>
    <li>减少非系统库的依赖</li>
    <li>合并非系统库</li>
    <li>使用静态资源，比如把代码加入主程序</li>
</ol>
<h4 id="user-content-rebase/bind" data-id="heading-7">
    <a href="https://juejin.cn/post/6844903462652608520#rebase/bind" title="#rebase/bind"></a>rebase/bind</h4>
<p>由于ASLR(address space layout randomization)的存在，可执行文件和动态链接库在虚拟内存中的加载地址每次启动都不固定，所以需要这2步来修复镜像中的资源指针，来指向正确的地址。<br>rebase修复的是指向当前镜像内部的资源指针； 而bind指向的是镜像外部的资源指针。<br>rebase步骤先进行，需要把镜像读入内存，并以page为单位进行加密验证，保证不会被篡改，所以这一步的瓶颈在IO。bind在其后进行，由于要查询符号表，来指向跨镜像的资源，加上在rebase阶段，镜像已被读入和加密验证，所以这一步的瓶颈在于CPU计算。<br>通过命令行可以查看相关的资源指针:</p>
<blockquote>
    <p>xcrun dyldinfo -rebase -bind -lazy_bind myApp.App/myApp</p>
</blockquote>
<p>优化该阶段的关键在于减少__DATA segment中的指针数量。我们可以优化的点有：</p>
<ol>
    <li>减少Objc类数量， 减少selector数量</li>
    <li>减少C++虚函数数量</li>
    <li>转而使用swift stuct（其实本质上就是为了减少符号的数量）</li>
</ol>
<h4 id="user-content-Objc_setup" data-id="heading-8">
    <a href="https://juejin.cn/post/6844903462652608520#Objc_setup" title="#Objc_setup"></a>Objc setup</h4>
<p>这一步主要工作是:</p>
<ol>
    <li>注册Objc类 (class registration)</li>
    <li>把category的定义插入方法列表 (category registration)</li>
    <li>保证每一个selector唯一 (selctor uniquing)</li>
</ol>
<p>由于之前2步骤的优化，这一步实际上没有什么可做的。</p>
<h4 id="user-content-initializers" data-id="heading-9">
    <a href="https://juejin.cn/post/6844903462652608520#initializers" title="#initializers"></a>initializers</h4>
<p>以上三步属于静态调整(fix-up)，都是在修改__DATA segment中的内容，而这里则开始动态调整，开始在堆和堆栈中写入内容。<br>在这里的工作有：</p>
<ol>
    <li>Objc的+load()函数</li>
    <li>C++的构造函数属性函数 形如<strong>attribute</strong>((constructor)) void DoSomeInitializationWork()</li>
    <li>非基本类型的C++静态全局变量的创建(通常是类或结构体)(non-trivial initializer) 比如一个全局静态结构体的构建，如果在构造函数中有繁重的工作，那么会拖慢启动速度</li>
</ol>
<p>Objc的load函数和C++的静态构造函数采用由底向上的方式执行，来保证每个执行的方法，都可以找到所依赖的动态库。</p>
<p>
    <a href="https://link.juejin.cn/?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage1.png" title="http://ofnft8t2g.bkt.clouddn.com/wikiimage1.png" target="_blank" ref="nofollow noopener noreferrer"><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/a9bec61f87fb4df2bf09a21ace8b0178.png_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" loading="lazy"></a>
</p>
<p>上图是在自定义的类XXViewController的+load方法断点的调用堆栈，清楚的看到整个调用栈和顺序：</p>
<ol>
    <li>dyld 开始将程序二进制文件初始化</li>
    <li>交由 ImageLoader 读取 image，其中包含了我们的类、方法等各种符号</li>
    <li>由于 runtime 向 dyld 绑定了回调，当 image 加载到内存后，dyld 会通知 runtime 进行处理</li>
    <li>runtime 接手后调用 map_images 做解析和处理，接下来 load_images 中调用 call_load_methods 方法，遍历所有加载进来的 Class，按继承层级依次调用 Class 的 +load 方法和其 Category 的 +load 方法</li>
</ol>
<p>至此，可执行文件中和动态库所有的符号(Class，Protocol，Selector，IMP，…)都已经按格式成功加载到内存中，被 runtime 所管理，再这之后，runtime 的那些方法(动态添加 Class、swizzle 等等才能生效)。</p>
<p>整个事件由 dyld 主导，完成运行环境的初始化后，配合 ImageLoader 将二进制文件按格式加载到内存，<br>动态链接依赖库，并由 runtime 负责加载成 objc 定义的结构，所有初始化工作结束后，dyld 调用真正的 main 函数。</p>
<p>如果程序刚刚被运行过，那么程序的代码会被dyld缓存，因此即使杀掉进程再次重启加载时间也会相对快一点，如果长时间没有启动或者当前dyld的缓存已经被其他应用占据，那么这次启动所花费的时间就要长一点，这就分别是热启动和冷启动的概念，如下图所示:</p>
<p>
    <a href="https://link.juejin.cn/?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage2.png" title="http://ofnft8t2g.bkt.clouddn.com/wikiimage2.png" target="_blank" ref="nofollow noopener noreferrer"><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/ed587b97dc9899c8985c73cdecce0071.png_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" loading="lazy"></a>
</p>
<h3 id="user-content-main_28_29_u4E4B_u524D_u7684_u52A0_u8F7D_u65F6_u95F4_u5982_u4F55_u8861_u91CF" data-id="heading-10">
    <a href="https://juejin.cn/post/6844903462652608520#main_28_29_u4E4B_u524D_u7684_u52A0_u8F7D_u65F6_u95F4_u5982_u4F55_u8861_u91CF" title="#main_28_29_u4E4B_u524D_u7684_u52A0_u8F7D_u65F6_u95F4_u5982_u4F55_u8861_u91CF"></a>main()之前的加载时间如何衡量</h3>
<p>那么问题就来了，那怎么衡量main()之前也就是time1的耗时呢，苹果官方提供了一种方法，那就是在真机调试的时候勾选dyld_PRINT_STATISTICS选项。</p>
<p>
    <a href="https://link.juejin.cn/?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage3.png" title="http://ofnft8t2g.bkt.clouddn.com/wikiimage3.png" target="_blank" ref="nofollow noopener noreferrer"><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/78e4e2b58966e482134e48cb6b17fe34.png_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" loading="lazy"></a>
</p>
<p>会得到如下形式的输出：</p>
<p>
    <a href="https://link.juejin.cn/?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage4.png" title="http://ofnft8t2g.bkt.clouddn.com/wikiimage4.png" target="_blank" ref="nofollow noopener noreferrer"><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/3390980746400944bb6859fa3569b005.png_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" loading="lazy"></a>
</p>
<p>由此可见对于系统级别的动态链接库，因为苹果做了优化，所以耗时并不多，在这个awesome的例子中，自身App中的代码占用了整体时间的94.2%<br>我们应用中一次典型的Log如下：</p>
<p>
    <a href="https://link.juejin.cn/?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage5.png" title="http://ofnft8t2g.bkt.clouddn.com/wikiimage5.png" target="_blank" ref="nofollow noopener noreferrer"><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/009b013321330010ec3317d23a1517e2.png_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" loading="lazy"></a>
</p>
<p>由此可见，最多的用时还是在image加载和OC类的初始化，共占用总时长的79.3%，精简framework的引入和OC类有优化的空间。</p>
<p>总结一下：对于main()调用之前的耗时我们可以优化的点有：</p>
<ol>
    <li>减少不必要的framework，因为动态链接比较耗时</li>
    <li>check framework应当设为optional和required，如果该framework在当前App支持的所有iOS系统版本都存在，那么就设为required，否则就设为optional，因为optional会有些额外的检查</li>
    <li>合并或者删减一些OC类，关于清理项目中没用到的类，使用工具AppCode代码检查功能，查到当前项目中没有用到的类如下：</li>
</ol>
<p>
    <a href="https://link.juejin.cn/?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage6_new.png" title="http://ofnft8t2g.bkt.clouddn.com/wikiimage6_new.png" target="_blank" ref="nofollow noopener noreferrer"><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/c2fd0fe50c79546e2863f7e0a60e9130.png_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" loading="lazy"></a>
</p>
<ol>
    <li>删减一些无用的静态变量</li>
    <li>
        <p>删减没有被调用到或者已经废弃的方法</p> <pre><code class="hljs language-ruby copyable" lang="ruby">方法见：

<span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/stackoverflow.com/questions</span><span class="hljs-regexp">/35233564/how</span>-to-find-unused-code-<span class="hljs-keyword">in</span>-xcode-<span class="hljs-number">7</span>
<span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/developer.Apple.com/library</span><span class="hljs-regexp">/ios/documentation</span><span class="hljs-regexp">/ToolsLanguages/</span>Conceptual/Xcode_Overview/CheckingCodeCoverage.html
<span class="copy-code-btn">复制代码</span></code></pre></li>
    <li>
        <p>将不必须在+load方法中做的事情延迟到+initialize中</p>
    </li>
    <li>尽量不要用C++虚函数(创建虚函数表有开销)</li>
</ol>
<h2 id="user-content-main_28_29_u8C03_u7528_u4E4B_u540E_u7684_u52A0_u8F7D_u65F6_u95F4" data-id="heading-11">
    <a href="https://juejin.cn/post/6844903462652608520#main_28_29_u8C03_u7528_u4E4B_u540E_u7684_u52A0_u8F7D_u65F6_u95F4" title="#main_28_29_u8C03_u7528_u4E4B_u540E_u7684_u52A0_u8F7D_u65F6_u95F4"></a>main()调用之后的加载时间</h2>
<p>在main()被调用之后，App的主要工作就是初始化必要的服务，显示首页内容等。而我们的优化也是围绕如何能够快速展现首页来开展。<br>App通常在AppDelegate类中的- (BOOL)Application:(UIApplication <em>)Application didFinishLaunchingWithOptions:(NSDictionary </em>)launchOptions方法中创建首页需要展示的view，然后在当前runloop的末尾，主动调用CA::Transaction::commit完成视图的渲染。<br>而视图的渲染主要涉及三个阶段：</p>
<ol>
    <li>准备阶段 这里主要是图片的解码</li>
    <li>布局阶段 首页所有UIView的- (void)layoutSubViews()运行</li>
    <li>绘制阶段 首页所有UIView的- (void)drawRect:(CGRect)rect运行<br>再加上启动之后必要服务的启动、必要数据的创建和读取，这些就是我们可以尝试优化的地方</li>
</ol>
<p>因此，对于main()函数调用之前我们可以优化的点有：</p>
<ol>
    <li>不使用xib，直接视用代码加载首页视图</li>
    <li>NSUserDefaults实际上是在Library文件夹下会生产一个plist文件，如果文件太大的话一次能读取到内存中可能很耗时，这个影响需要评估，如果耗时很大的话需要拆分(需考虑老版本覆盖安装兼容问题)</li>
    <li>每次用NSLog方式打印会隐式的创建一个Calendar，因此需要删减启动时各业务方打的log，或者仅仅针对内测版输出log</li>
    <li>梳理应用启动时发送的所有网络请求，是否可以统一在异步线程请求</li>
</ol>
<h1 id="user-content-u5B9E_u6D4B_u6570_u636E" data-id="heading-12">
    <a href="https://juejin.cn/post/6844903462652608520#u5B9E_u6D4B_u6570_u636E" title="#u5B9E_u6D4B_u6570_u636E"></a>实测数据</h1>
<p>建立了一个空的HelloWorld工程，只加入了pods中的代码，不包含主端的业务逻辑代码，一次典型的冷启动基本接近2s iPhone6 iOS9.3.5系统测试主要时间在加载动态库，类/方法的初始化还有符号地址绑定阶段。</p>
<p>
    <a href="https://link.juejin.cn/?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage7.png" title="http://ofnft8t2g.bkt.clouddn.com/wikiimage7.png" target="_blank" ref="nofollow noopener noreferrer"><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/28459cd7d2f42ecc1f2d51a52edea828.png_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" loading="lazy"></a>
</p>
<p>一次典型的热启动数据如下：可以看到因为系统做了缓存方面的优化，比冷启动快了500ms加上头条主端业务逻辑代码之后一次典型的热启动耗时2.1s。</p>
<p>
    <a href="https://link.juejin.cn/?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage8.png" title="http://ofnft8t2g.bkt.clouddn.com/wikiimage8.png" target="_blank" ref="nofollow noopener noreferrer"><img src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/ca9e075465492c3ac1b6dbdaf4e5a714.png_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp" loading="lazy"></a>
</p>
<p>以上用时均为main()之前的加载耗时。</p>
<h2 id="user-content-main_u51FD_u6570_u4E4B_u540E_u52A0_u8F7D_u65F6_u95F4_u4F18_u5316_u8BB0_u5F55" data-id="heading-13">
    <a href="https://juejin.cn/post/6844903462652608520#main_u51FD_u6570_u4E4B_u540E_u52A0_u8F7D_u65F6_u95F4_u4F18_u5316_u8BB0_u5F55" title="#main_u51FD_u6570_u4E4B_u540E_u52A0_u8F7D_u65F6_u95F4_u4F18_u5316_u8BB0_u5F55"></a>main函数之后加载时间优化记录</h2>
<h3 id="user-content-NSUserDefaults_u662F_u5426_u662F_u74F6_u9888" data-id="heading-14">
    <a href="https://juejin.cn/post/6844903462652608520#NSUserDefaults_u662F_u5426_u662F_u74F6_u9888" title="#NSUserDefaults_u662F_u5426_u662F_u74F6_u9888"></a>NSUserDefaults是否是瓶颈</h3>
<p>苹果官方文档提到NSUserDefaults加载的时候是整个plist配置文件全部load到内存中，目前头条主端当中NSUserDefaults存储了200多项缓存数据，因此怀疑可能拖慢启动速度，但是测试结果显示并不会。<br>通过符号断点+[NSUserDefaults standardUserDefaults]确定最早一次的+load()从执行到结束耗时1.8ms，可见NSUserDefaults的初始化仅耗时1.8ms，并不是启动耗时的瓶颈。</p>
<h3 id="user-content-u5982_u4F55_u627E_u5230_u62D6_u6162_u542F_u52A8_u5E94_u7528_u65F6_u957F_u7684_u74F6_u9888" data-id="heading-15">
    <a href="https://juejin.cn/post/6844903462652608520#u5982_u4F55_u627E_u5230_u62D6_u6162_u542F_u52A8_u5E94_u7528_u65F6_u957F_u7684_u74F6_u9888" title="#u5982_u4F55_u627E_u5230_u62D6_u6162_u542F_u52A8_u5E94_u7528_u65F6_u957F_u7684_u74F6_u9888"></a>如何找到拖慢启动应用时长的瓶颈</h3>
<p>为了找到瓶颈，我们在启动之后的didFinishLauhcning方法开始执行到首页列表页的NewsListViewController的viewDidAppear方法，几乎每个可能比较耗时的流程进行拆分和统计，得到统计数据之后发现：<br>主要耗时在首页UI构造和渲染(storyboard加载，tabBar/topBar渲染，开屏广告加载/cell注册/日志模块初始化这几个步骤)。</p>
<h3 id="user-content-u5177_u4F53_u4F18_u5316_u70B9" data-id="heading-16">
    <a href="https://juejin.cn/post/6844903462652608520#u5177_u4F53_u4F18_u5316_u70B9" title="#u5177_u4F53_u4F18_u5316_u70B9"></a>具体优化点</h3>
<p>因此，针对于今日头条这个App我们可以优化的点如下：</p>
<ol>
    <li>纯代码方式而不是storyboard加载首页UI。</li>
    <li>对didFinishLaunching里的函数考虑能否挖掘可以延迟加载或者懒加载，需要与各个业务方pm和rd共同check 对于一些已经下线的业务，删减冗余代码。<br>对于一些与UI展示无关的业务，如微博认证过期检查、图片最大缓存空间设置等做延迟加载</li>
    <li>对实现了+load()方法的类进行分析，尽量将load里的代码延后调用。</li>
    <li>上面统计数据显示展示feed的导航控制器页面(NewsListViewController)比较耗时，对于viewDidLoad以及viewWillAppear方法中尽量去尝试少做，晚做，不做。</li>
</ol>
<h3 id="user-content-u4F18_u5316_u7ED3_u679C" data-id="heading-17">
    <a href="https://juejin.cn/post/6844903462652608520#u4F18_u5316_u7ED3_u679C" title="#u4F18_u5316_u7ED3_u679C"></a>优化结果</h3>
<p>之前曾经有一位同事已经做了一定的优化，比如启动之后展示闪屏广告图的同时初始化首页的列表页，当广告展示完成之后列表页也就渲染完成了。经过这一次优化之后的main()之后的启动总时长通过上线之后收集数据的验证达到了预期的效果。</p></div><style>.markdown-body pre,.markdown-body pre>code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></div></article> <!----> <div class="article-end" data-v-4b9f9746="" data-v-1c9ebbff=""><div class="tag-list-box" data-v-4b9f9746="" data-v-1c9ebbff=""><div class="tag-list" data-v-4b9f9746="" data-v-1c9ebbff=""><div class="tag-list-title" data-v-4b9f9746="" data-v-1c9ebbff="">分类：</div> <a href="https://juejin.cn/ios" target="_blank" rel="" class="item category-item" data-v-1c9ebbff="" data-v-4b9f9746=""><span class="tag-title" data-v-1c9ebbff="">iOS</span></a></div> <div class="tag-list" data-v-4b9f9746="" data-v-1c9ebbff=""><div class="tag-list-title" data-v-4b9f9746="" data-v-1c9ebbff="">标签：</div> <div class="tag-list-container" data-v-4b9f9746="" data-v-1c9ebbff=""><a href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="item tag-item" data-v-1c9ebbff="" data-v-4b9f9746=""><span class="tag-title" data-v-1c9ebbff="">iOS</span></a></div></div></div> <!----> <div data-fetch-key="1" class="extension-banner" data-v-224127ff="" data-v-1c9ebbff="" data-v-4b9f9746=""><span class="banner-icon" data-v-224127ff=""></span> <div class="banner-wrapper" data-v-224127ff=""><a class="banner-title" data-v-224127ff="" href="https://juejin.cn/extension/?utm_source=standalone&amp;utm_medium=post&amp;utm_campaign=extension_promotion" target="_blank">
      安装掘金浏览器插件
    </a> <div class="banner-content" data-v-224127ff="">多内容聚合浏览、多引擎快捷搜索、多工具便捷提效、多模式随心畅享，你想要的，这里都有！</div></div> <a class="banner-action" data-v-224127ff="" href="https://juejin.cn/extension/?utm_source=standalone&amp;utm_medium=post&amp;utm_campaign=extension_promotion" target="_blank">前往安装</a></div></div> <!----> <!----> <div data-v-33dabfcc="" data-v-1c9ebbff="" data-jj-helper="comment-container" class="container comment-list-box" id="comment-box" data-v-4b9f9746=""><div data-v-14a3249a="" data-v-33dabfcc="" class="comment-form"><div data-v-14a3249a="" class="header"><span data-v-14a3249a="" class="header-title">评论</span></div><div data-v-14a3249a="" class="content"><div data-v-14a3249a="" class="avatar-box"><img data-v-248050e4="" data-v-0b45085c="" data-v-14a3249a="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/3044413937_100x100.awebp" alt="" class="lazy avatar avatar" loading="lazy"></div><div data-v-14a3249a="" class="form-box"><div data-v-7c7c7498="" data-v-14a3249a="" class="auth-card"><!----> <div data-v-14a3249a="" data-v-7c7c7498="" class="input-box"><div data-v-14a3249a="" data-v-7c7c7498="" contenteditable="true" spellcheck="false" placeholder="输入评论（Enter换行，⌘ + Enter发送）" disabled="disabled" class="rich-input empty"></div><!----><!----></div></div><div data-v-14a3249a="" class="action-box"><div data-v-33ab0a29="" data-v-14a3249a="" class="emoji-container emoji-btn" style="display: none;"><div data-v-33ab0a29="" class="emoji-box"><svg data-v-33ab0a29="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon"><path data-v-33ab0a29="" fill-rule="evenodd" clip-rule="evenodd" d="M8.00002 0.666504C12.0501 0.666504 15.3334 3.94975 15.3334 7.99984C15.3334 12.0499 12.0501 15.3332 8.00002 15.3332C3.94993 15.3332 0.666687 12.0499 0.666687 7.99984C0.666687 3.94975 3.94993 0.666504 8.00002 0.666504ZM8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2ZM10.6667 5.66667V7.66667H9.33333V5.66667H10.6667ZM6.66667 5.66667V7.66667H5.33333V5.66667H6.66667ZM10.0767 9.33333H11.0495C11.1804 9.33333 11.2866 9.43951 11.2866 9.57048C11.2866 9.60754 11.2779 9.64409 11.2612 9.67718L11.244 9.71053C10.6294 10.8739 9.40726 11.6667 7.99998 11.6667C6.61523 11.6667 5.40977 10.8991 4.7859 9.76612L4.73786 9.67593C4.67845 9.56052 4.72385 9.4188 4.83926 9.35939C4.87253 9.34226 4.90941 9.33333 4.94683 9.33333H5.92347C6.02396 9.33332 6.11908 9.37865 6.18238 9.4567C6.26207 9.55496 6.32833 9.62955 6.38117 9.68046C6.80074 10.0847 7.37133 10.3333 7.99998 10.3333C8.63289 10.3333 9.20694 10.0814 9.62728 9.67224C9.67791 9.62296 9.74135 9.55121 9.8176 9.45698C9.88089 9.37877 9.97611 9.33333 10.0767 9.33333Z"></path></svg> <span data-v-33ab0a29="">表情</span></div> <!----></div><div data-v-14a3249a="" class="image-btn" style="display: none;"><svg data-v-14a3249a="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon"><path data-v-14a3249a="" fill-rule="evenodd" clip-rule="evenodd" d="M14 1.3335C14.3514 1.3335 14.6394 1.60546 14.6648 1.95041L14.6666 2.00016V14.0002C14.6666 14.3516 14.3947 14.6396 14.0497 14.665L14 14.6668H1.99998C1.64853 14.6668 1.36059 14.3949 1.33514 14.0499L1.33331 14.0002V2.00016C1.33331 1.64871 1.60527 1.36077 1.95023 1.33532L1.99998 1.3335H14ZM13.3333 2.66618H2.66664V13.3328H13.3333V2.66618ZM11.9219 6.7879C11.9719 6.83791 12 6.90574 12 6.97647V11.7993C12 11.9098 11.9104 11.9993 11.8 11.9993H6.81615C6.7975 11.9993 6.77945 11.9968 6.76232 11.992L3.91042 11.9847C3.79996 11.9844 3.71063 11.8947 3.7109 11.7842C3.71102 11.7313 3.73209 11.6807 3.76948 11.6433L6.52468 8.88807C6.62882 8.78393 6.79766 8.78393 6.9018 8.88807L8.17297 10.1593L11.5447 6.7879C11.6489 6.68376 11.8177 6.68376 11.9219 6.7879ZM5.99997 3.99951V5.99951H3.99997V3.99951H5.99997Z"></path></svg><span data-v-14a3249a="">图片</span></div><div data-v-14a3249a="" class="submit" style="display: none;"><span data-v-14a3249a="">⌘ + Enter</span><button data-v-14a3249a="" disabled="disabled" class="submit-btn">发表评论</button></div></div></div><input data-v-14a3249a="" type="file" class="hidden"></div></div> <!----> <div data-v-33dabfcc="" class="comment-list-wrapper"><div data-v-33dabfcc="" class="title">
      全部评论 4
      <div data-v-33dabfcc="" class="sort"><div data-v-33dabfcc="" class="item active"><svg data-v-33dabfcc="" width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class=""><path data-v-33dabfcc="" fill-rule="evenodd" clip-rule="evenodd" d="M5.99951 0.5C9.03708 0.5 11.4995 2.96243 11.4995 6C11.4995 9.03757 9.03708 11.5 5.99951 11.5C2.96195 11.5 0.499512 9.03757 0.499512 6C0.499512 2.96243 2.96195 0.5 5.99951 0.5ZM6.25 3.49988C6.38807 3.49988 6.5 3.61181 6.5 3.74988V5.49988H8.25C8.38807 5.49988 8.5 5.61181 8.5 5.74988V6.24988C8.5 6.38795 8.38807 6.49988 8.25 6.49988H5.75C5.61193 6.49988 5.5 6.38795 5.5 6.24988V3.74988C5.5 3.61181 5.61193 3.49988 5.75 3.49988H6.25Z"></path></svg>
          最新
        </div> <div data-v-33dabfcc="" class="item"><svg data-v-33dabfcc="" width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class=""><path data-v-33dabfcc="" d="M4.88933 0.613974C4.92947 0.616946 4.96831 0.629568 5.00253 0.650767C6.67348 1.68589 7.55141 3.13884 7.63632 5.00962C7.947 5.00962 8.2245 4.65999 8.46882 3.96072L8.49487 3.88447C8.53862 3.75351 8.68025 3.68282 8.8112 3.72656C8.83398 3.73417 8.85554 3.74502 8.87522 3.75878C9.96316 4.5193 10.5048 5.50231 10.5 6.70782C10.4999 6.73762 10.4982 6.76675 10.495 6.7952C10.4985 6.86294 10.5 6.93131 10.5 7.00005C10.5 9.48533 8.48528 11.5 6 11.5C3.51472 11.5 1.5 9.48533 1.5 7.00005C1.5 6.90255 1.5031 6.80578 1.50921 6.70983C1.5062 6.70917 1.5031 6.70849 1.5 6.70782C1.50864 6.60849 1.52139 6.50994 1.53824 6.41219C1.54515 6.35775 1.55321 6.30373 1.56222 6.25003L1.57017 6.24983C1.7622 5.3813 2.28426 4.57601 3.13635 3.83394C4.00892 3.07405 4.50079 2.11523 4.61198 0.957499L4.62156 0.844839C4.63175 0.707146 4.75163 0.603784 4.88933 0.613974Z"></path></svg>
          最热
        </div></div></div> <div data-v-51124a88="" data-v-33dabfcc="" class="comment-list comment-list"><div data-v-5ca9a68f="" data-v-51124a88="" class="image-viewer-box"><!----></div> <div data-v-18fef07e="" data-v-51124a88="" class="comment" data-jj-helper-comment-id="6855143989478670343"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-18fef07e="" class="popover-box user-popover popover"><!---->  <a data-v-18fef07e="" href="https://juejin.cn/user/237150239995400" target="_blank" rel="" class="user-link" data-v-f1a2074a=""><img data-v-248050e4="" data-v-0b45085c="" data-v-18fef07e="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/rBEnJmHTN62d6RuI219eEJB_tplv-t2oaga2asx-no-mark_100_100_100_100.awebp" alt="小怒马的头像" class="lazy avatar avatar" loading="lazy"></a></div> <div data-v-18fef07e="" class="content-box"><div data-v-18fef07e="" class="comment-main"><span data-v-18fef07e="" class="delete">
        删除
      </span> <div data-v-18fef07e="" class="user-box"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-18fef07e="" class="popover-box user-popover"><!---->  <a data-v-68a20f0a="" data-v-18fef07e="" href="https://juejin.cn/user/237150239995400" target="_blank" rel="" class="username username" data-v-f1a2074a=""><span data-v-68a20f0a="" class="name" style="max-width: 128px;">
    小怒马
  </span> <!----> <img data-v-7b42e73d="" data-v-68a20f0a="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/9b2f31c663d17de59dd9e5fff272bb85.svg" alt="掘友等级" title="掘友等级" class="jueyou-level"> <!----> </a></div> <!----> <!----> <time data-v-18fef07e="" datetime="1486713568000" title="Fri Feb 10 2017 15:59:28 GMT+0800 (中国标准时间)" class="time">
          6年前
        </time></div> <div data-v-18fef07e="" class="content">快手以其独特的定位及所谓的 “农村包围城市” 的营销战略，在短短两年内就创造了被估值为 30 亿美金、4 亿注册用户、1.5 亿月活的神话。<br>让用户如此快速成长的产品逻辑是什么呢？其运营策略又是怎样为产品锦上添花的呢？<br>“怒马”，邀请行家免费为您深度剖析快手成功背后的逻辑！下载怒马，值得一听<br>【怒马，虎嗅旗下的知识分享平台】</div> <div data-v-18fef07e="" class="limit-btn" style="display: none;">
        展开
      </div> <div data-v-18fef07e="" class="limit-btn" style="display: none;">
        收起
      </div> <!----> <div data-v-18fef07e="" class="action-box"><div data-v-18fef07e="" class="item dig-item"><svg data-v-18fef07e="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class=""><path data-v-18fef07e="" fill-rule="evenodd" clip-rule="evenodd" d="M8.56162 2.16952C8.66569 2.09661 8.78195 2.06124 8.88247 2.0912C8.97653 2.11923 9.23851 2.25916 9.50988 2.96799C9.64419 3.31881 9.9356 4.2424 9.42155 6.05431C9.29751 6.49152 9.61394 6.95303 10.0926 6.95971L13.492 7.00716L13.492 7.00721H13.4991C13.6049 7.00721 13.7228 7.01986 13.8134 7.05898C13.8544 7.07671 13.8815 7.09639 13.8999 7.116C13.9166 7.13375 13.9368 7.16247 13.9515 7.21636C13.9848 7.33784 14.0228 7.74712 13.9473 8.42262C13.874 9.07857 13.698 9.94479 13.341 10.9598C13.0424 11.8088 12.6601 12.5292 12.0684 13.4879C12.0558 13.5052 12.0462 13.5197 12.0418 13.5265L12.0404 13.5285C12.0292 13.5454 12.0242 13.5531 12.018 13.5618C12.0076 13.5764 12.0018 13.582 11.9983 13.585C11.996 13.587 11.9908 13.5912 11.9777 13.5959C11.9638 13.6009 11.9311 13.61 11.8706 13.61H5.56278L5.56373 6.58489C5.87126 6.41901 6.19881 6.20128 6.54112 5.84059C6.93883 5.42152 7.33789 4.8294 7.76254 3.94183C7.84974 3.75957 7.91745 3.55962 7.97574 3.37762C7.99264 3.32486 8.0087 3.27379 8.02438 3.22393L8.02439 3.22389C8.066 3.09158 8.10495 2.96776 8.14985 2.84312C8.2758 2.49352 8.40247 2.28101 8.56162 2.16952ZM10.452 2.60729C10.1323 1.77209 9.70208 1.28277 9.17063 1.12437C8.64564 0.967902 8.20308 1.18891 7.98278 1.34325C7.55169 1.64525 7.33837 2.11908 7.20071 2.5012C7.14817 2.64705 7.10002 2.80016 7.05661 2.93824C7.0422 2.98405 7.02832 3.02821 7.01496 3.0699C6.95791 3.24804 6.90763 3.39115 6.85248 3.50643C6.45683 4.3334 6.1121 4.8271 5.80935 5.14611C5.51322 5.45815 5.23983 5.6219 4.9473 5.76821C4.71095 5.88641 4.55494 6.12906 4.55491 6.40159L4.55388 13.9125C4.55383 14.3026 4.87002 14.6188 5.26008 14.6188H11.8706C12.2097 14.6188 12.4663 14.5113 12.6519 14.3535C12.7387 14.2797 12.7988 14.2043 12.8387 14.1484C12.8556 14.1248 12.8704 14.1025 12.8786 14.09L12.8813 14.0859L12.8826 14.0839L12.8955 14.0685L12.9142 14.0382C13.5304 13.0414 13.9578 12.247 14.2927 11.2945C14.6745 10.209 14.8679 9.26811 14.9499 8.5347C15.0297 7.82084 15.009 7.25845 14.9246 6.95014C14.805 6.51285 14.5104 6.26112 14.2134 6.13284C13.9385 6.01407 13.661 5.99859 13.5028 5.99836L10.4907 5.95631C10.9296 4.15791 10.648 3.11902 10.452 2.60729ZM1.0008 6.46783C0.981809 6.0652 1.30313 5.72836 1.70621 5.72836H2.75264C3.14266 5.72836 3.45883 6.04454 3.45883 6.43456V13.9442C3.45883 14.3342 3.14266 14.6504 2.75264 14.6504H2.06044C1.68335 14.6504 1.37279 14.3541 1.35502 13.9775L1.0008 6.46783Z"></path></svg>
          点赞
        </div> <div data-v-18fef07e="" class="item"><svg data-v-18fef07e="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class=""><path data-v-18fef07e="" fill-rule="evenodd" clip-rule="evenodd" d="M2.30136 10.1142L2.30019 3.45191C2.30024 2.6778 2.92779 2.05019 3.70191 2.05019H12.3989C13.1731 2.05019 13.8006 2.67785 13.8006 3.452L13.8018 10.1144C13.8017 10.8885 13.1742 11.516 12.4001 11.516H10.1322C9.97329 11.516 9.81862 11.5675 9.69142 11.6629L6.65162 13.9406C6.62173 13.9598 6.58148 13.9444 6.57209 13.91L6.15416 12.0869C6.07758 11.7528 5.78033 11.516 5.43761 11.516H3.70308C2.92893 11.516 2.30136 10.8884 2.30136 10.1142ZM3.70191 1C2.34776 1 1.25 2.09776 1.25 3.45191L1.25117 10.1144C1.25122 11.4685 2.34896 12.5662 3.70308 12.5662H5.18661L5.54953 14.1495L5.55107 14.1558C5.73515 14.9153 6.62879 15.248 7.26458 14.7937L10.2372 12.5662H12.4001C13.7542 12.5662 14.852 11.4684 14.852 10.1142L14.8508 3.45182C14.8508 2.09771 13.753 1 12.3989 1H3.70191ZM4.78612 7.91404C5.35027 7.91404 5.8076 7.45671 5.8076 6.89257C5.8076 6.32842 5.35027 5.87109 4.78612 5.87109C4.22198 5.87109 3.76465 6.32842 3.76465 6.89257C3.76465 7.45671 4.22198 7.91404 4.78612 7.91404ZM8.98631 6.89257C8.98631 7.45671 8.52898 7.91404 7.96483 7.91404C7.40069 7.91404 6.94336 7.45671 6.94336 6.89257C6.94336 6.32842 7.40069 5.87109 7.96483 5.87109C8.52898 5.87109 8.98631 6.32842 8.98631 6.89257ZM11.1484 7.91404C11.7126 7.91404 12.1699 7.45671 12.1699 6.89257C12.1699 6.32842 11.7126 5.87109 11.1484 5.87109C10.5843 5.87109 10.127 6.32842 10.127 6.89257C10.127 7.45671 10.5843 7.91404 11.1484 7.91404Z"></path></svg>
          回复
        </div></div></div> <div data-v-18fef07e="" class="subcomment-wrapper"><!----> <!----></div></div></div><div data-v-18fef07e="" data-v-51124a88="" class="comment" data-jj-helper-comment-id="6855143994435862542"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-18fef07e="" class="popover-box user-popover popover"><!---->  <a data-v-18fef07e="" href="https://juejin.cn/user/2189882890925982" target="_blank" rel="" class="user-link" data-v-f1a2074a=""><img data-v-248050e4="" data-v-0b45085c="" data-v-18fef07e="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/1e58c961bc0ae772cad67dc7e26b64b5_tplv-t2oaga2asx-no-mark_100_100_100_100.awebp" alt="黎明1473893698312的头像" class="lazy avatar avatar" loading="lazy"></a></div> <div data-v-18fef07e="" class="content-box"><div data-v-18fef07e="" class="comment-main"><span data-v-18fef07e="" class="delete">
        删除
      </span> <div data-v-18fef07e="" class="user-box"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-18fef07e="" class="popover-box user-popover"><!---->  <a data-v-68a20f0a="" data-v-18fef07e="" href="https://juejin.cn/user/2189882890925982" target="_blank" rel="" class="username username" data-v-f1a2074a=""><span data-v-68a20f0a="" class="name" style="max-width: 128px;">
    黎明1473893698312
  </span> <!----> <img data-v-7b42e73d="" data-v-68a20f0a="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/9b2f31c663d17de59dd9e5fff272bb85.svg" alt="掘友等级" title="掘友等级" class="jueyou-level"> <!----> </a></div> <!----> <!----> <time data-v-18fef07e="" datetime="1486519550000" title="Wed Feb 08 2017 10:05:50 GMT+0800 (中国标准时间)" class="time">
          6年前
        </time></div> <div data-v-18fef07e="" class="content">main 函数之前的解释基本上是把 wwdc 的视频内容翻译了一遍，没啥新意</div> <div data-v-18fef07e="" class="limit-btn" style="display: none;">
        展开
      </div> <div data-v-18fef07e="" class="limit-btn" style="display: none;">
        收起
      </div> <!----> <div data-v-18fef07e="" class="action-box"><div data-v-18fef07e="" class="item dig-item"><svg data-v-18fef07e="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class=""><path data-v-18fef07e="" fill-rule="evenodd" clip-rule="evenodd" d="M8.56162 2.16952C8.66569 2.09661 8.78195 2.06124 8.88247 2.0912C8.97653 2.11923 9.23851 2.25916 9.50988 2.96799C9.64419 3.31881 9.9356 4.2424 9.42155 6.05431C9.29751 6.49152 9.61394 6.95303 10.0926 6.95971L13.492 7.00716L13.492 7.00721H13.4991C13.6049 7.00721 13.7228 7.01986 13.8134 7.05898C13.8544 7.07671 13.8815 7.09639 13.8999 7.116C13.9166 7.13375 13.9368 7.16247 13.9515 7.21636C13.9848 7.33784 14.0228 7.74712 13.9473 8.42262C13.874 9.07857 13.698 9.94479 13.341 10.9598C13.0424 11.8088 12.6601 12.5292 12.0684 13.4879C12.0558 13.5052 12.0462 13.5197 12.0418 13.5265L12.0404 13.5285C12.0292 13.5454 12.0242 13.5531 12.018 13.5618C12.0076 13.5764 12.0018 13.582 11.9983 13.585C11.996 13.587 11.9908 13.5912 11.9777 13.5959C11.9638 13.6009 11.9311 13.61 11.8706 13.61H5.56278L5.56373 6.58489C5.87126 6.41901 6.19881 6.20128 6.54112 5.84059C6.93883 5.42152 7.33789 4.8294 7.76254 3.94183C7.84974 3.75957 7.91745 3.55962 7.97574 3.37762C7.99264 3.32486 8.0087 3.27379 8.02438 3.22393L8.02439 3.22389C8.066 3.09158 8.10495 2.96776 8.14985 2.84312C8.2758 2.49352 8.40247 2.28101 8.56162 2.16952ZM10.452 2.60729C10.1323 1.77209 9.70208 1.28277 9.17063 1.12437C8.64564 0.967902 8.20308 1.18891 7.98278 1.34325C7.55169 1.64525 7.33837 2.11908 7.20071 2.5012C7.14817 2.64705 7.10002 2.80016 7.05661 2.93824C7.0422 2.98405 7.02832 3.02821 7.01496 3.0699C6.95791 3.24804 6.90763 3.39115 6.85248 3.50643C6.45683 4.3334 6.1121 4.8271 5.80935 5.14611C5.51322 5.45815 5.23983 5.6219 4.9473 5.76821C4.71095 5.88641 4.55494 6.12906 4.55491 6.40159L4.55388 13.9125C4.55383 14.3026 4.87002 14.6188 5.26008 14.6188H11.8706C12.2097 14.6188 12.4663 14.5113 12.6519 14.3535C12.7387 14.2797 12.7988 14.2043 12.8387 14.1484C12.8556 14.1248 12.8704 14.1025 12.8786 14.09L12.8813 14.0859L12.8826 14.0839L12.8955 14.0685L12.9142 14.0382C13.5304 13.0414 13.9578 12.247 14.2927 11.2945C14.6745 10.209 14.8679 9.26811 14.9499 8.5347C15.0297 7.82084 15.009 7.25845 14.9246 6.95014C14.805 6.51285 14.5104 6.26112 14.2134 6.13284C13.9385 6.01407 13.661 5.99859 13.5028 5.99836L10.4907 5.95631C10.9296 4.15791 10.648 3.11902 10.452 2.60729ZM1.0008 6.46783C0.981809 6.0652 1.30313 5.72836 1.70621 5.72836H2.75264C3.14266 5.72836 3.45883 6.04454 3.45883 6.43456V13.9442C3.45883 14.3342 3.14266 14.6504 2.75264 14.6504H2.06044C1.68335 14.6504 1.37279 14.3541 1.35502 13.9775L1.0008 6.46783Z"></path></svg>
          点赞
        </div> <div data-v-18fef07e="" class="item"><svg data-v-18fef07e="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class=""><path data-v-18fef07e="" fill-rule="evenodd" clip-rule="evenodd" d="M2.30136 10.1142L2.30019 3.45191C2.30024 2.6778 2.92779 2.05019 3.70191 2.05019H12.3989C13.1731 2.05019 13.8006 2.67785 13.8006 3.452L13.8018 10.1144C13.8017 10.8885 13.1742 11.516 12.4001 11.516H10.1322C9.97329 11.516 9.81862 11.5675 9.69142 11.6629L6.65162 13.9406C6.62173 13.9598 6.58148 13.9444 6.57209 13.91L6.15416 12.0869C6.07758 11.7528 5.78033 11.516 5.43761 11.516H3.70308C2.92893 11.516 2.30136 10.8884 2.30136 10.1142ZM3.70191 1C2.34776 1 1.25 2.09776 1.25 3.45191L1.25117 10.1144C1.25122 11.4685 2.34896 12.5662 3.70308 12.5662H5.18661L5.54953 14.1495L5.55107 14.1558C5.73515 14.9153 6.62879 15.248 7.26458 14.7937L10.2372 12.5662H12.4001C13.7542 12.5662 14.852 11.4684 14.852 10.1142L14.8508 3.45182C14.8508 2.09771 13.753 1 12.3989 1H3.70191ZM4.78612 7.91404C5.35027 7.91404 5.8076 7.45671 5.8076 6.89257C5.8076 6.32842 5.35027 5.87109 4.78612 5.87109C4.22198 5.87109 3.76465 6.32842 3.76465 6.89257C3.76465 7.45671 4.22198 7.91404 4.78612 7.91404ZM8.98631 6.89257C8.98631 7.45671 8.52898 7.91404 7.96483 7.91404C7.40069 7.91404 6.94336 7.45671 6.94336 6.89257C6.94336 6.32842 7.40069 5.87109 7.96483 5.87109C8.52898 5.87109 8.98631 6.32842 8.98631 6.89257ZM11.1484 7.91404C11.7126 7.91404 12.1699 7.45671 12.1699 6.89257C12.1699 6.32842 11.7126 5.87109 11.1484 5.87109C10.5843 5.87109 10.127 6.32842 10.127 6.89257C10.127 7.45671 10.5843 7.91404 11.1484 7.91404Z"></path></svg>
          回复
        </div></div></div> <div data-v-18fef07e="" class="subcomment-wrapper"><!----> <!----></div></div></div><div data-v-18fef07e="" data-v-51124a88="" class="comment" data-jj-helper-comment-id="6855143993219678216"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-18fef07e="" class="popover-box user-popover popover"><!---->  <a data-v-18fef07e="" href="https://juejin.cn/user/43636194032141" target="_blank" rel="" class="user-link" data-v-f1a2074a=""><img data-v-248050e4="" data-v-0b45085c="" data-v-18fef07e="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/01c702749da28d75749ba945fdd7bdc4_100x100.awebp" alt="franky的头像" class="lazy avatar avatar" loading="lazy"></a></div> <div data-v-18fef07e="" class="content-box"><div data-v-18fef07e="" class="comment-main"><span data-v-18fef07e="" class="delete">
        删除
      </span> <div data-v-18fef07e="" class="user-box"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-18fef07e="" class="popover-box user-popover"><!---->  <a data-v-68a20f0a="" data-v-18fef07e="" href="https://juejin.cn/user/43636194032141" target="_blank" rel="" class="username username" data-v-f1a2074a=""><span data-v-68a20f0a="" class="name" style="max-width: 128px;">
    franky
  </span> <span data-v-3c1a13dc="" data-v-68a20f0a="" blank="true" class="rank"><img data-v-248050e4="" data-v-3c1a13dc="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/a3f5a3e7550645a08184e5c4247cc3d4_tplv-k3u1fbpfcp-no-mark_0_0_0_0.awebp" alt="lv-3" class="lazy" title="创作等级" loading="lazy"></span> <img data-v-7b42e73d="" data-v-68a20f0a="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/69eb0ad2f93abf938e832fe53b979c10.svg" alt="掘友等级" title="掘友等级" class="jueyou-level"> <!----> </a></div> <!----> <!----> <time data-v-18fef07e="" datetime="1486518486000" title="Wed Feb 08 2017 09:48:06 GMT+0800 (中国标准时间)" class="time">
          6年前
        </time></div> <div data-v-18fef07e="" class="content">产品说我们来一个广告吧……</div> <div data-v-18fef07e="" class="limit-btn" style="display: none;">
        展开
      </div> <div data-v-18fef07e="" class="limit-btn" style="display: none;">
        收起
      </div> <!----> <div data-v-18fef07e="" class="action-box"><div data-v-18fef07e="" class="item dig-item"><svg data-v-18fef07e="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class=""><path data-v-18fef07e="" fill-rule="evenodd" clip-rule="evenodd" d="M8.56162 2.16952C8.66569 2.09661 8.78195 2.06124 8.88247 2.0912C8.97653 2.11923 9.23851 2.25916 9.50988 2.96799C9.64419 3.31881 9.9356 4.2424 9.42155 6.05431C9.29751 6.49152 9.61394 6.95303 10.0926 6.95971L13.492 7.00716L13.492 7.00721H13.4991C13.6049 7.00721 13.7228 7.01986 13.8134 7.05898C13.8544 7.07671 13.8815 7.09639 13.8999 7.116C13.9166 7.13375 13.9368 7.16247 13.9515 7.21636C13.9848 7.33784 14.0228 7.74712 13.9473 8.42262C13.874 9.07857 13.698 9.94479 13.341 10.9598C13.0424 11.8088 12.6601 12.5292 12.0684 13.4879C12.0558 13.5052 12.0462 13.5197 12.0418 13.5265L12.0404 13.5285C12.0292 13.5454 12.0242 13.5531 12.018 13.5618C12.0076 13.5764 12.0018 13.582 11.9983 13.585C11.996 13.587 11.9908 13.5912 11.9777 13.5959C11.9638 13.6009 11.9311 13.61 11.8706 13.61H5.56278L5.56373 6.58489C5.87126 6.41901 6.19881 6.20128 6.54112 5.84059C6.93883 5.42152 7.33789 4.8294 7.76254 3.94183C7.84974 3.75957 7.91745 3.55962 7.97574 3.37762C7.99264 3.32486 8.0087 3.27379 8.02438 3.22393L8.02439 3.22389C8.066 3.09158 8.10495 2.96776 8.14985 2.84312C8.2758 2.49352 8.40247 2.28101 8.56162 2.16952ZM10.452 2.60729C10.1323 1.77209 9.70208 1.28277 9.17063 1.12437C8.64564 0.967902 8.20308 1.18891 7.98278 1.34325C7.55169 1.64525 7.33837 2.11908 7.20071 2.5012C7.14817 2.64705 7.10002 2.80016 7.05661 2.93824C7.0422 2.98405 7.02832 3.02821 7.01496 3.0699C6.95791 3.24804 6.90763 3.39115 6.85248 3.50643C6.45683 4.3334 6.1121 4.8271 5.80935 5.14611C5.51322 5.45815 5.23983 5.6219 4.9473 5.76821C4.71095 5.88641 4.55494 6.12906 4.55491 6.40159L4.55388 13.9125C4.55383 14.3026 4.87002 14.6188 5.26008 14.6188H11.8706C12.2097 14.6188 12.4663 14.5113 12.6519 14.3535C12.7387 14.2797 12.7988 14.2043 12.8387 14.1484C12.8556 14.1248 12.8704 14.1025 12.8786 14.09L12.8813 14.0859L12.8826 14.0839L12.8955 14.0685L12.9142 14.0382C13.5304 13.0414 13.9578 12.247 14.2927 11.2945C14.6745 10.209 14.8679 9.26811 14.9499 8.5347C15.0297 7.82084 15.009 7.25845 14.9246 6.95014C14.805 6.51285 14.5104 6.26112 14.2134 6.13284C13.9385 6.01407 13.661 5.99859 13.5028 5.99836L10.4907 5.95631C10.9296 4.15791 10.648 3.11902 10.452 2.60729ZM1.0008 6.46783C0.981809 6.0652 1.30313 5.72836 1.70621 5.72836H2.75264C3.14266 5.72836 3.45883 6.04454 3.45883 6.43456V13.9442C3.45883 14.3342 3.14266 14.6504 2.75264 14.6504H2.06044C1.68335 14.6504 1.37279 14.3541 1.35502 13.9775L1.0008 6.46783Z"></path></svg>
          1
        </div> <div data-v-18fef07e="" class="item"><svg data-v-18fef07e="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class=""><path data-v-18fef07e="" fill-rule="evenodd" clip-rule="evenodd" d="M2.30136 10.1142L2.30019 3.45191C2.30024 2.6778 2.92779 2.05019 3.70191 2.05019H12.3989C13.1731 2.05019 13.8006 2.67785 13.8006 3.452L13.8018 10.1144C13.8017 10.8885 13.1742 11.516 12.4001 11.516H10.1322C9.97329 11.516 9.81862 11.5675 9.69142 11.6629L6.65162 13.9406C6.62173 13.9598 6.58148 13.9444 6.57209 13.91L6.15416 12.0869C6.07758 11.7528 5.78033 11.516 5.43761 11.516H3.70308C2.92893 11.516 2.30136 10.8884 2.30136 10.1142ZM3.70191 1C2.34776 1 1.25 2.09776 1.25 3.45191L1.25117 10.1144C1.25122 11.4685 2.34896 12.5662 3.70308 12.5662H5.18661L5.54953 14.1495L5.55107 14.1558C5.73515 14.9153 6.62879 15.248 7.26458 14.7937L10.2372 12.5662H12.4001C13.7542 12.5662 14.852 11.4684 14.852 10.1142L14.8508 3.45182C14.8508 2.09771 13.753 1 12.3989 1H3.70191ZM4.78612 7.91404C5.35027 7.91404 5.8076 7.45671 5.8076 6.89257C5.8076 6.32842 5.35027 5.87109 4.78612 5.87109C4.22198 5.87109 3.76465 6.32842 3.76465 6.89257C3.76465 7.45671 4.22198 7.91404 4.78612 7.91404ZM8.98631 6.89257C8.98631 7.45671 8.52898 7.91404 7.96483 7.91404C7.40069 7.91404 6.94336 7.45671 6.94336 6.89257C6.94336 6.32842 7.40069 5.87109 7.96483 5.87109C8.52898 5.87109 8.98631 6.32842 8.98631 6.89257ZM11.1484 7.91404C11.7126 7.91404 12.1699 7.45671 12.1699 6.89257C12.1699 6.32842 11.7126 5.87109 11.1484 5.87109C10.5843 5.87109 10.127 6.32842 10.127 6.89257C10.127 7.45671 10.5843 7.91404 11.1484 7.91404Z"></path></svg>
          回复
        </div></div></div> <div data-v-18fef07e="" class="subcomment-wrapper"><!----> <!----></div></div></div><div data-v-18fef07e="" data-v-51124a88="" class="comment" data-jj-helper-comment-id="6855143992850513927"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-18fef07e="" class="popover-box user-popover popover"><!---->  <a data-v-18fef07e="" href="https://juejin.cn/user/1011206426725272" target="_blank" rel="" class="user-link" data-v-f1a2074a=""><img data-v-248050e4="" data-v-0b45085c="" data-v-18fef07e="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/5112637127_100x100.awebp" alt="xohome的头像" class="lazy avatar avatar" loading="lazy"></a></div> <div data-v-18fef07e="" class="content-box"><div data-v-18fef07e="" class="comment-main"><span data-v-18fef07e="" class="delete">
        删除
      </span> <div data-v-18fef07e="" class="user-box"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-18fef07e="" class="popover-box user-popover"><!---->  <a data-v-68a20f0a="" data-v-18fef07e="" href="https://juejin.cn/user/1011206426725272" target="_blank" rel="" class="username username" data-v-f1a2074a=""><span data-v-68a20f0a="" class="name" style="max-width: 128px;">
    xohome
  </span> <!----> <img data-v-7b42e73d="" data-v-68a20f0a="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/9b2f31c663d17de59dd9e5fff272bb85.svg" alt="掘友等级" title="掘友等级" class="jueyou-level"> <!----> </a></div> <!----> <!----> <time data-v-18fef07e="" datetime="1486517350000" title="Wed Feb 08 2017 09:29:10 GMT+0800 (中国标准时间)" class="time">
          6年前
        </time></div> <div data-v-18fef07e="" class="content">技术好不容易优化启动到了 2s 内，业务一个闪屏延迟到 5s……</div> <div data-v-18fef07e="" class="limit-btn" style="display: none;">
        展开
      </div> <div data-v-18fef07e="" class="limit-btn" style="display: none;">
        收起
      </div> <!----> <div data-v-18fef07e="" class="action-box"><div data-v-18fef07e="" class="item dig-item"><svg data-v-18fef07e="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class=""><path data-v-18fef07e="" fill-rule="evenodd" clip-rule="evenodd" d="M8.56162 2.16952C8.66569 2.09661 8.78195 2.06124 8.88247 2.0912C8.97653 2.11923 9.23851 2.25916 9.50988 2.96799C9.64419 3.31881 9.9356 4.2424 9.42155 6.05431C9.29751 6.49152 9.61394 6.95303 10.0926 6.95971L13.492 7.00716L13.492 7.00721H13.4991C13.6049 7.00721 13.7228 7.01986 13.8134 7.05898C13.8544 7.07671 13.8815 7.09639 13.8999 7.116C13.9166 7.13375 13.9368 7.16247 13.9515 7.21636C13.9848 7.33784 14.0228 7.74712 13.9473 8.42262C13.874 9.07857 13.698 9.94479 13.341 10.9598C13.0424 11.8088 12.6601 12.5292 12.0684 13.4879C12.0558 13.5052 12.0462 13.5197 12.0418 13.5265L12.0404 13.5285C12.0292 13.5454 12.0242 13.5531 12.018 13.5618C12.0076 13.5764 12.0018 13.582 11.9983 13.585C11.996 13.587 11.9908 13.5912 11.9777 13.5959C11.9638 13.6009 11.9311 13.61 11.8706 13.61H5.56278L5.56373 6.58489C5.87126 6.41901 6.19881 6.20128 6.54112 5.84059C6.93883 5.42152 7.33789 4.8294 7.76254 3.94183C7.84974 3.75957 7.91745 3.55962 7.97574 3.37762C7.99264 3.32486 8.0087 3.27379 8.02438 3.22393L8.02439 3.22389C8.066 3.09158 8.10495 2.96776 8.14985 2.84312C8.2758 2.49352 8.40247 2.28101 8.56162 2.16952ZM10.452 2.60729C10.1323 1.77209 9.70208 1.28277 9.17063 1.12437C8.64564 0.967902 8.20308 1.18891 7.98278 1.34325C7.55169 1.64525 7.33837 2.11908 7.20071 2.5012C7.14817 2.64705 7.10002 2.80016 7.05661 2.93824C7.0422 2.98405 7.02832 3.02821 7.01496 3.0699C6.95791 3.24804 6.90763 3.39115 6.85248 3.50643C6.45683 4.3334 6.1121 4.8271 5.80935 5.14611C5.51322 5.45815 5.23983 5.6219 4.9473 5.76821C4.71095 5.88641 4.55494 6.12906 4.55491 6.40159L4.55388 13.9125C4.55383 14.3026 4.87002 14.6188 5.26008 14.6188H11.8706C12.2097 14.6188 12.4663 14.5113 12.6519 14.3535C12.7387 14.2797 12.7988 14.2043 12.8387 14.1484C12.8556 14.1248 12.8704 14.1025 12.8786 14.09L12.8813 14.0859L12.8826 14.0839L12.8955 14.0685L12.9142 14.0382C13.5304 13.0414 13.9578 12.247 14.2927 11.2945C14.6745 10.209 14.8679 9.26811 14.9499 8.5347C15.0297 7.82084 15.009 7.25845 14.9246 6.95014C14.805 6.51285 14.5104 6.26112 14.2134 6.13284C13.9385 6.01407 13.661 5.99859 13.5028 5.99836L10.4907 5.95631C10.9296 4.15791 10.648 3.11902 10.452 2.60729ZM1.0008 6.46783C0.981809 6.0652 1.30313 5.72836 1.70621 5.72836H2.75264C3.14266 5.72836 3.45883 6.04454 3.45883 6.43456V13.9442C3.45883 14.3342 3.14266 14.6504 2.75264 14.6504H2.06044C1.68335 14.6504 1.37279 14.3541 1.35502 13.9775L1.0008 6.46783Z"></path></svg>
          3
        </div> <div data-v-18fef07e="" class="item"><svg data-v-18fef07e="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class=""><path data-v-18fef07e="" fill-rule="evenodd" clip-rule="evenodd" d="M2.30136 10.1142L2.30019 3.45191C2.30024 2.6778 2.92779 2.05019 3.70191 2.05019H12.3989C13.1731 2.05019 13.8006 2.67785 13.8006 3.452L13.8018 10.1144C13.8017 10.8885 13.1742 11.516 12.4001 11.516H10.1322C9.97329 11.516 9.81862 11.5675 9.69142 11.6629L6.65162 13.9406C6.62173 13.9598 6.58148 13.9444 6.57209 13.91L6.15416 12.0869C6.07758 11.7528 5.78033 11.516 5.43761 11.516H3.70308C2.92893 11.516 2.30136 10.8884 2.30136 10.1142ZM3.70191 1C2.34776 1 1.25 2.09776 1.25 3.45191L1.25117 10.1144C1.25122 11.4685 2.34896 12.5662 3.70308 12.5662H5.18661L5.54953 14.1495L5.55107 14.1558C5.73515 14.9153 6.62879 15.248 7.26458 14.7937L10.2372 12.5662H12.4001C13.7542 12.5662 14.852 11.4684 14.852 10.1142L14.8508 3.45182C14.8508 2.09771 13.753 1 12.3989 1H3.70191ZM4.78612 7.91404C5.35027 7.91404 5.8076 7.45671 5.8076 6.89257C5.8076 6.32842 5.35027 5.87109 4.78612 5.87109C4.22198 5.87109 3.76465 6.32842 3.76465 6.89257C3.76465 7.45671 4.22198 7.91404 4.78612 7.91404ZM8.98631 6.89257C8.98631 7.45671 8.52898 7.91404 7.96483 7.91404C7.40069 7.91404 6.94336 7.45671 6.94336 6.89257C6.94336 6.32842 7.40069 5.87109 7.96483 5.87109C8.52898 5.87109 8.98631 6.32842 8.98631 6.89257ZM11.1484 7.91404C11.7126 7.91404 12.1699 7.45671 12.1699 6.89257C12.1699 6.32842 11.7126 5.87109 11.1484 5.87109C10.5843 5.87109 10.127 6.32842 10.127 6.89257C10.127 7.45671 10.5843 7.91404 11.1484 7.91404Z"></path></svg>
          回复
        </div></div></div> <div data-v-18fef07e="" class="subcomment-wrapper"><!----> <!----></div></div></div></div> <!----></div></div> <div data-v-1b688d7c="" data-v-1c9ebbff="" class="action-box action-bar" data-v-4b9f9746=""><div data-v-1b688d7c="" class="praise-action action"><div data-v-1b688d7c="" class="action-title-box"><img data-v-1b688d7c="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/00ba359ecd0075e59ffbc3d810af551d.svg"> <span data-v-1b688d7c="" class="action-title">
          290
        </span></div></div> <div data-v-1b688d7c="" class="comment-action action"><div data-v-1b688d7c="" class="action-title-box"><img data-v-1b688d7c="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/336af4d1fafabcca3b770c8ad7a50781.svg"> <span data-v-1b688d7c="" class="action-title">
          4
        </span></div></div> <div data-v-1b688d7c="" class="collect-action action"><div data-v-1b688d7c="" class="action-title-box"><img data-v-1b688d7c="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/3d482c7a948bac826e155953b2a28a9e.svg"> <span data-v-1b688d7c="" class="action-title">收藏</span></div></div> <!----></div></div> <div data-v-1c9ebbff="" data-v-4b9f9746="" class="main-area recommended-area shadow"><div data-v-1c9ebbff="" data-v-4b9f9746="" class="recommended-list-title-wrapper"><div data-v-1c9ebbff="" data-v-4b9f9746="" class="title"><span data-v-1c9ebbff="" data-v-4b9f9746="" class="title-content">相关推荐</span></div></div> <div data-v-3ff8f708="" data-v-57c9777c="" data-v-1c9ebbff="" name="entry-list" tag="div" class="entry-list list recommended-entry-list" data-v-4b9f9746=""><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844903905277509645" data-original-type="0" data-draft-id="6845076397266845704" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/1732486057428952" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        yuhaiqiang
      </div></a> <div data-v-5380cbb8="" class="date">3年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E9%9D%A2%E8%AF%95" target="_blank" rel="" class="tag">
        面试
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/6844903905277509645" target="_blank" rel="" title="后端面试知识点大串烧!(蚂蚁美团头条腾讯面试经历)" class="title">后端面试知识点大串烧!(蚂蚁美团头条腾讯面试经历)</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/6844903905277509645" target="_blank" rel=""><div data-v-5380cbb8="">笔者在面过 猿辅导,去哪儿,旷视, 陌陌,头条, 阿里, 快手, 美团, 腾讯之后,除了收获一大堆面试问题,还思考到如何成为面试官眼中的"爱技术,爱思考,靠谱,有潜力候选人的"一些"套路". 1. 面试问题(Java 后端) 手撕算法需要准备,面试之前保证刷够 100 题,及部…</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">9290</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            101
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            7
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7087959761529864200" data-original-type="0" data-draft-id="7087828641668661261" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/4125786641538711" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        12333
      </div></a> <div data-v-5380cbb8="" class="date">10月前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/7087959761529864200" target="_blank" rel="" title="iOS仿写仿写头条新闻页面" class="title">iOS仿写仿写头条新闻页面</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/7087959761529864200" target="_blank" rel=""><div data-v-5380cbb8="">在学习了UI控件之后，仿写了一个新闻页面，以巩固之前学习的知识 。 首页实现 ，首页主要使用用两个CollectionView联动实现新闻页面切换的效果。</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">1114</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            6
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            1
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7152802134327558181" data-original-type="0" data-draft-id="7152713713974247431" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/2823201591423607" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        Cy13er
      </div></a> <div data-v-5380cbb8="" class="date">4月前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/Android" target="_blank" rel="" class="tag">
        Android
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/7152802134327558181" target="_blank" rel="" title="重温今日头条屏幕适配方案" class="title">重温今日头条屏幕适配方案</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/7152802134327558181" target="_blank" rel=""><div data-v-5380cbb8="">通过一个PC端配置到Android端展示界面的需求，重温今日头条屏幕适配方案以及Android屏幕适配。</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">1202</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            4
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            2
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7090416655909519374" data-original-type="0" data-draft-id="7090415650220277774" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/123605345897886" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        程序员段飞
      </div></a> <div data-v-5380cbb8="" class="date">10月前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E5%90%8E%E7%AB%AF" target="_blank" rel="" class="tag">
        后端
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/Java" target="_blank" rel="" class="tag">
        Java
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E9%9D%A2%E8%AF%95" target="_blank" rel="" class="tag">
        面试
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/7090416655909519374" target="_blank" rel="" title="社招一年半面经分享(含阿里美团头条京东滴滴)" class="title">社招一年半面经分享(含阿里美团头条京东滴滴)</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/7090416655909519374" target="_blank" rel=""><div data-v-5380cbb8="">文章首发在公众号（月伴飞鱼），之后同步到个人网站：xiaoflyfish.cn/ 觉得有收获，希望帮忙点赞，转发下哈，谢谢，谢谢 最近一段时间面试了几家互联网公司，陆续通过了阿里、头条、美团，滴滴，京</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">9610</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            237
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            6
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7053978539523047437" data-original-type="0" data-draft-id="7052883855530786829" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/3544481220795998" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        LevySu
      </div></a> <div data-v-5380cbb8="" class="date">1年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/Swift" target="_blank" rel="" class="tag">
        Swift
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/7053978539523047437" target="_blank" rel="" title="iOS瘦身！一个让50%本地图片消失的方案" class="title">iOS瘦身！一个让50%本地图片消失的方案</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/7053978539523047437" target="_blank" rel=""><div data-v-5380cbb8="">安装包瘦身一直是老生常谈的问题，几乎每个大一点的项目都要经历。我们团队也做了很多关于安装包瘦身的事情，通过各种方案在不删减业务的情况下，累计安装包大小减少**100M**+，减少占总包体约**38%+</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">2.8w</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            139
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            50
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844903590138478600" data-original-type="0" data-draft-id="6845075408929423374" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/1081575169068238" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        LaiYoung_
      </div></a> <div data-v-5380cbb8="" class="date">4年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/Apple" target="_blank" rel="" class="tag">
        Apple
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E5%9B%BE%E7%89%87%E8%B5%84%E6%BA%90" target="_blank" rel="" class="tag">
        图片资源
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/6844903590138478600" target="_blank" rel="" title="iOS 性能优化总结" class="title">iOS 性能优化总结</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/6844903590138478600" target="_blank" rel=""><div data-v-5380cbb8="">在 VSync 信号到来后，系统图形服务会通过 CADisplayLink 等机制通知 App，App 主线程开始在 CPU 中计算显示内容，比如视图的创建、布局计算、图片解码、文本绘制等。随后 CPU 会将计算好的内容提交到 GPU 去，由 GPU 进行变换、合成、渲染。随后…</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">2.2w</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            460
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            13
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7050377958241861663" data-original-type="0" data-draft-id="7050376815163998238" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/1494986085377223" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        自如大前端团队
      </div></a> <div data-v-5380cbb8="" class="date">1年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E6%9E%B6%E6%9E%84" target="_blank" rel="" class="tag">
        架构
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/7050377958241861663" target="_blank" rel="" title="自如iOS二进制方案落地(30分钟降低到10分钟以内)" class="title">自如iOS二进制方案落地(30分钟降低到10分钟以内)</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/7050377958241861663" target="_blank" rel=""><div data-v-5380cbb8="">自如iOS二进制方案实际落地经验！工程编译速度提升5倍！适用于大型项目，即使组件不能独立运行也能落地！</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">3.1w</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            71
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            6
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7088630212371415076" data-original-type="0" data-draft-id="7088629551571402765" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/1099167356171918" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        Roll圈圈
      </div></a> <div data-v-5380cbb8="" class="date">10月前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/Android" target="_blank" rel="" class="tag">
        Android
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/7088630212371415076" target="_blank" rel="" title="想没想过自己做个APP？来，机会来了" class="title">想没想过自己做个APP？来，机会来了</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/7088630212371415076" target="_blank" rel=""><div data-v-5380cbb8="">想没想过自己做一个APP，自己当自己的产品，想怎么交互就怎么交互的那种。自己做设计，自己定逻辑，自己愉悦自己。</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">5.0w</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            580
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            137
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-5380cbb8="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/42a2c01105bf4f28ac489c4545c4c43f_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="想没想过自己做个APP？来，机会来了" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7003689115413643295" data-original-type="0" data-draft-id="7003679404807159838" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/3650034335487975" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        Cooci
      </div></a> <div data-v-5380cbb8="" class="date">1年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E9%9D%A2%E8%AF%95" target="_blank" rel="" class="tag">
        面试
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/7003689115413643295" target="_blank" rel="" title="内卷吧! iOS开发君" class="title">内卷吧! iOS开发君</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/7003689115413643295" target="_blank" rel=""><div data-v-5380cbb8="">前序 前段时间因为课程需要 , 我出了一套iOS考试试卷 想着VIP大家做得非常不错. 带着分享的精神也开源了出来 一套iOS底层试卷-我想和你分享 结果反响巨大! 很多靓仔靓女纷纷私聊我....大致</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">3.7w</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            279
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            147
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-5380cbb8="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/82e5737802914635ac90f74046a681ee_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="内卷吧! iOS开发君" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6885144933997494280" data-original-type="0" data-draft-id="6884092782839857165" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/1838039172387262" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        字节跳动技术团队
      </div></a> <div data-v-5380cbb8="" class="date">2年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/6885144933997494280" target="_blank" rel="" title="iOS 性能优化实践：头条抖音如何实现 OOM 崩溃率下降50%+" class="title">iOS 性能优化实践：头条抖音如何实现 OOM 崩溃率下降50%+</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/6885144933997494280" target="_blank" rel=""><div data-v-5380cbb8="">OOM 其实是Out Of Memory的简称，指的是在 iOS 设备上当前应用因为内存占用过高而被操作系统强制终止，在用户侧的感知就是 App 一瞬间的闪退，与普通的 Crash 没有明显差异。但是当我们在调试阶段遇到这种崩溃的时候，从设备设置-&gt;隐私-&gt;分析与改进中是找不到…</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">1.5w</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            148
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            14
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-5380cbb8="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/54022a231ea947d2a3578d9c846ae75c_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="iOS 性能优化实践：头条抖音如何实现 OOM 崩溃率下降50%+" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844903606852780045" data-original-type="0" data-draft-id="6845075427984146440" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/1327865776308782" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        知识小集
      </div></a> <div data-v-5380cbb8="" class="date">4年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E5%BE%AE%E4%BF%A1" target="_blank" rel="" class="tag">
        微信
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/GitHub" target="_blank" rel="" class="tag">
        GitHub
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/6844903606852780045" target="_blank" rel="" title="微信使用了哪些第三方库" class="title">微信使用了哪些第三方库</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/6844903606852780045" target="_blank" rel=""><div data-v-5380cbb8="">如今，APP 越来越多，公司之间面临着同一个问题，竞品越来越多，公司之间为获取更多流量不得不在APP的体验上做足功课。那么，研究竞品变得越来越重要，比如研究竞品某个核心功能使用了哪些第三方服务、架构是什么样的、某个接口是如何设计的、数据库是如何设计的、沙盒目录结构是什么样的等。…</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">2.2w</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            322
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            18
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-5380cbb8="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/1636b7652d973228_tplv-t2oaga2asx-no-mark_300_300_300_200.awebp" alt="微信使用了哪些第三方库" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844903636946927623" data-original-type="1" data-draft-id="0" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/3245414055161870" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        陈满iOS
      </div></a> <div data-v-5380cbb8="" class="date">4年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E9%9D%A2%E8%AF%95" target="_blank" rel="" class="tag">
        面试
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/6844903636946927623" target="_blank" rel="" title="iOS面试系列·今日头条iOS高级工程师第1轮面试回忆" class="title">iOS面试系列·今日头条iOS高级工程师第1轮面试回忆</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/6844903636946927623" target="_blank" rel=""><div data-v-5380cbb8="">解析：这个涉及到简单知识，可参考http://www.360doc.com/content/17/0111/22/32626470_621879084.shtml 解析：首先，简单介绍下KVO的用法，先添加观察者，然后怎样实现监听的代理。关于原理，可以利用runtime的知识…</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">6443</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            126
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            11
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-5380cbb8="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/1648de15cebc4579_tplv-t2oaga2asx-no-mark_300_300_300_200.awebp" alt="iOS面试系列·今日头条iOS高级工程师第1轮面试回忆" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844903567300493319" data-original-type="0" data-draft-id="6845075382761177102" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/1926000099460664" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        没故事的卓同学
      </div></a> <div data-v-5380cbb8="" class="date">5年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E6%9E%B6%E6%9E%84" target="_blank" rel="" class="tag">
        架构
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/ReactiveCocoa" target="_blank" rel="" class="tag">
        ReactiveCocoa
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/6844903567300493319" target="_blank" rel="" title="高质量 iOS 博客推荐" class="title">高质量 iOS 博客推荐</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/6844903567300493319" target="_blank" rel=""><div data-v-5380cbb8="">推荐一些我个人认为非常经典，值得关注的博客。 大家尊称为喵神 @onevcat 的博客。对 Swift 技术在国内的推广做了很大的贡献。 李忠关于 RAC 、组件化的文章流传很广。博客中对架构、编程的思考都很精髓。听说现在转管理后不太更新技术文了。 Casa 对架构有很深的理解…</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">2.7w</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            773
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            31
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844903688620736525" data-original-type="0" data-draft-id="6845075627159076878" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/1345457962618078" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        玉刚说
      </div></a> <div data-v-5380cbb8="" class="date">4年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/Google" target="_blank" rel="" class="tag">
        Google
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/Android" target="_blank" rel="" class="tag">
        Android
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/6844903688620736525" target="_blank" rel="" title="大前端摧毁了原生开发者的一切，但是我们应该开心" class="title">大前端摧毁了原生开发者的一切，但是我们应该开心</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/6844903688620736525" target="_blank" rel=""><div data-v-5380cbb8="">去年开始，大前端开始浮出水面，今年，大前端趋势已经愈发明显，层出不穷的跨平台技术，QCon、GMTC等一线会议开始设置大前端议题，阿里、京东、美团和去哪儿开始推出自己的跨平台实践。这些都在告诉我们，大前端要来了。 一些自媒体开始看衰原生开发：“快看，那个学Android的上吊了…</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">3.1w</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            214
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            141
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-5380cbb8="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/1665be7cb127581f_tplv-t2oaga2asx-no-mark_300_300_300_200.awebp" alt="大前端摧毁了原生开发者的一切，但是我们应该开心" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844904194877587469" data-original-type="0" data-draft-id="6845076829271752717" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/2137106337511767" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        Zxz109141
      </div></a> <div data-v-5380cbb8="" class="date">2年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/iOS" target="_blank" rel="" class="tag">
        iOS
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/6844904194877587469" target="_blank" rel="" title="iOS 启动优化 + 监控实践" class="title">iOS 启动优化 + 监控实践</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/6844904194877587469" target="_blank" rel=""><div data-v-5380cbb8="">距离上次启动优化（启动任务分级）相隔差不多2年时间了,虽然一直保持在之前的启动速度，但是每个版本排查启动增量会耗费不少时间,想做一个自动化的启动监控流程来降低这方面的时间成本，在启动监控开发中又发现部分启动可优化，于是就顺便把启动也优化了一下。 1、启动优化：在iPhone8P…</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">7767</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            89
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            6
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7067745490506350622" data-original-type="0" data-draft-id="7067743962332659748" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/1838039172387262" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        字节跳动技术团队
      </div></a> <div data-v-5380cbb8="" class="date">1年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E6%B5%8B%E8%AF%95" target="_blank" rel="" class="tag">
        测试
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E5%90%8E%E7%AB%AF" target="_blank" rel="" class="tag">
        后端
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/7067745490506350622" target="_blank" rel="" title="自动拦截 50% crash，字节自研 Fastbot 如何助力今日头条稳定性测试" class="title">自动拦截 50% crash，字节自研 Fastbot 如何助力今日头条稳定性测试</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/7067745490506350622" target="_blank" rel=""><div data-v-5380cbb8="">Fastbot 是公司 Quality Lab 与 GIP - iOS 平台架构团队共同研发的智能化测试服务，其利用机器学习和强化学习进行遍历测试，提供了基础的稳定性测试服务能力。</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">1.7w</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            32
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            2
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6844903661819133960" data-original-type="0" data-draft-id="6845075597408862222" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/976022014539326" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        JessYan
      </div></a> <div data-v-5380cbb8="" class="date">4年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/GitHub" target="_blank" rel="" class="tag">
        GitHub
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/Android" target="_blank" rel="" class="tag">
        Android
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/6844903661819133960" target="_blank" rel="" title="骚年你的屏幕适配方式该升级了!-今日头条适配方案" class="title">骚年你的屏幕适配方式该升级了!-今日头条适配方案</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/6844903661819133960" target="_blank" rel=""><div data-v-5380cbb8="">原文地址:https://www.jianshu.com/p/55e0fca23b4f以下是骚年你的屏幕适配方式该升级了!系列文章，欢迎转发以及分享:骚年你的屏幕适配方式该升级了!（一）-今日头条适配</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">7.5w</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            1487
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            92
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-5380cbb8="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/16555326bfce3f6d_tplv-t2oaga2asx-no-mark_300_300_300_200.awebp" alt="骚年你的屏幕适配方式该升级了!-今日头条适配方案" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7122750700081135646" data-original-type="0" data-draft-id="7122750507008917518" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/870468938116478" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        艾小仙
      </div></a> <div data-v-5380cbb8="" class="date">7月前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E5%90%8E%E7%AB%AF" target="_blank" rel="" class="tag">
        后端
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E6%9E%B6%E6%9E%84" target="_blank" rel="" class="tag">
        架构
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/7122750700081135646" target="_blank" rel="" title="这样优化Spring Boot，启动速度快到飞起!" class="title">这样优化Spring Boot，启动速度快到飞起!</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/7122750700081135646" target="_blank" rel=""><div data-v-5380cbb8="">微服务用到一时爽，没用好就呵呵啦，特别是对于服务拆分没有把控好业务边界、拆分粒度过大等问题，某些 Spring Boot 启动速度太慢了，可能你也会有这种体验，这里将探索一下关于 Spring Boo</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">7793</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            93
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            4
          </span></li> <!----></ul></div> <!----></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="6876011410061852680" data-original-type="0" data-draft-id="6875999568236904462" class="entry" style="margin-bottom: 0px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/1838039172387262" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        字节跳动技术团队
      </div></a> <div data-v-5380cbb8="" class="date">2年前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/WebView" target="_blank" rel="" class="tag">
        WebView
      </a><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" target="_blank" rel="" class="tag">
        性能优化
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 1px solid rgba(228, 230, 235, 0.5);"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/6876011410061852680" target="_blank" rel="" title="今日头条品质优化 - 图文详情页秒开实践" class="title">今日头条品质优化 - 图文详情页秒开实践</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/6876011410061852680" target="_blank" rel=""><div data-v-5380cbb8="">作为一个内容类应用，看新闻读资讯一直是头条用户的核心需求，页面的打开速度直接关系到用户使用头条的核心体验，在头条中，为了更多的承载足够丰富的样式和逻辑下保持多端体验的统一，详情页的内容我们是通过 WebView 来承载的，但 WebView 本身的性能相比 Native 来说比…</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">1.6w</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            238
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            50
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-5380cbb8="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/1cd56b04d605477b9be5ece4c4ce1bd3_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="今日头条品质优化 - 图文详情页秒开实践" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li><li data-v-57c9777c="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-5380cbb8="" data-v-805bdd7e="" data-v-57c9777c="" data-entry-id="7117196225874493471" data-original-type="0" data-draft-id="7117195908625727525" class="entry" style="margin-bottom: 20px;"><div data-v-5380cbb8="" class="meta-container"><a data-v-5380cbb8="" href="https://juejin.cn/user/2964740511112670" target="_blank" rel="" class="user-message"><div data-v-f1a2074a="" data-v-1120b3da="" data-v-5380cbb8="" class="popover-box user-popover"><!---->  
        程浩2021
      </div></a> <div data-v-5380cbb8="" class="date">8月前</div> <div data-v-5380cbb8="" class="tag_list"><a data-v-5380cbb8="" href="https://juejin.cn/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" class="tag">
        前端
      </a></div></div> <div data-v-5380cbb8="" class="content-wrapper" style="border-bottom: 0px;"><div data-v-5380cbb8="" class="content-main"><div data-v-5380cbb8="" class="title-row"> <!----> <!----> <!----> <a data-v-5380cbb8="" href="https://juejin.cn/post/7117196225874493471" target="_blank" rel="" title="iOS启动优化" class="title">iOS启动优化</a></div> <div data-v-5380cbb8="" class="abstract"><a data-v-5380cbb8="" href="https://juejin.cn/post/7117196225874493471" target="_blank" rel=""><div data-v-5380cbb8="">一、启动流程 1.1、pre-main阶段 1、加载应用可执行文件 自身App的所有.o文件的集合 2、加载dyld动态链接器 dyld是一个专门用来加载动态链接库的库 3、dyld递归加载应用所有依</div></a></div> <ul data-v-5380cbb8="" class="action-list jh-timeline-action-area"><li data-v-5380cbb8="" class="item view"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">2551</span></li> <li data-v-5380cbb8="" class="item like"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            5
          </span></li> <li data-v-5380cbb8="" class="item comment"><i data-v-5380cbb8=""></i> <span data-v-5380cbb8="">
            3
          </span></li> <!----></ul></div> <img data-v-248050e4="" data-v-5380cbb8="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/d8ac283349cb4afdbe32b58119d9ccbe_tplv-k3u1fbpfcp-no-mark_300_300_300_200.awebp" alt="iOS启动优化" class="lazy thumb" loading="lazy" style=""></div> <!----> <!----></div> <!----></li></div></div> <!----> <div data-v-65597ac0="" data-v-1c9ebbff="" st:block="sidebar" class="sidebar sidebar top sticky" data-v-4b9f9746=""><div data-v-71f2d09e="" data-v-bdf6e7fa="" data-v-65597ac0="" class="sidebar-block author-block pure"><a data-v-bdf6e7fa="" href="https://juejin.cn/user/940837680722589" target="_blank" rel="" class="user-item item" data-v-71f2d09e=""><img data-v-248050e4="" data-v-0b45085c="" data-v-bdf6e7fa="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/46218f0e66a164ea7d3b554b8e411dbd_100x100.awebp" alt="" class="lazy avatar avatar" loading="lazy"> <div data-v-bdf6e7fa="" class="info-box"><a data-v-68a20f0a="" data-v-bdf6e7fa="" href="https://juejin.cn/user/940837680722589" target="_blank" rel="" class="username"><span data-v-68a20f0a="" class="name" style="max-width: 128px;">
      稀土君
    </span> <span data-v-3c1a13dc="" data-v-68a20f0a="" blank="true" class="rank"><img data-v-248050e4="" data-v-3c1a13dc="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/3fdb11f5b5ff4d9aaf7982197d7e4082_tplv-k3u1fbpfcp-no-mark_0_0_0_0.awebp" alt="lv-8" class="lazy" title="创作等级" loading="lazy"></span> <!----> <!----> </a> <div data-v-bdf6e7fa="" title="最酷的 @ 稀土" class="position">
        最酷的 @ 稀土
      </div></div></a> <div data-v-bdf6e7fa="" data-v-71f2d09e="" class="operate-btn"><button data-v-2afc21b6="" data-v-bdf6e7fa="" class="ui-btn follow-btn primary large default attention" st:name="followBtn" data-v-71f2d09e=""><!----> 
    关注
  </button> <a data-v-11443840="" data-v-bdf6e7fa="" href="https://juejin.cn/notification/im?participantId=940837680722589" class="im-button im-btn" data-v-71f2d09e=""><!----> <div data-v-11443840="">私信</div></a></div> <div data-v-bdf6e7fa="" data-v-71f2d09e="" class="cut-off"></div>  <div data-v-bdf6e7fa="" data-v-71f2d09e="" class="stat-item item"><svg data-v-bdf6e7fa="" data-v-71f2d09e="" xmlns="http://www.w3.org/2000/svg" width="25" height="26" viewBox="0 0 25 26" class="zan"><g data-v-bdf6e7fa="" data-v-71f2d09e="" fill="none" fill-rule="evenodd" transform="translate(0 .57)"><ellipse data-v-bdf6e7fa="" data-v-71f2d09e="" cx="12.5" cy="12.57" fill="#E1EFFF" rx="12.5" ry="12.57"></ellipse><path data-v-bdf6e7fa="" data-v-71f2d09e="" fill="#7BB9FF" d="M8.596 11.238V19H7.033C6.463 19 6 18.465 6 17.807v-5.282c0-.685.483-1.287 1.033-1.287h1.563zm4.275-4.156A1.284 1.284 0 0 1 14.156 6c.885.016 1.412.722 1.595 1.07.334.638.343 1.687.114 2.361-.207.61-.687 1.412-.687 1.412h3.596c.38 0 .733.178.969.488.239.317.318.728.21 1.102l-1.628 5.645a1.245 1.245 0 0 1-1.192.922h-7.068v-7.889c1.624-.336 2.623-2.866 2.806-4.029z"></path></g></svg> <span data-v-bdf6e7fa="" data-v-71f2d09e="" class="content">
      获得点赞
      <span data-v-bdf6e7fa="" data-v-71f2d09e="" class="count">&nbsp;46,718</span></span></div> <div data-v-bdf6e7fa="" data-v-71f2d09e="" class="stat-item item"><svg data-v-bdf6e7fa="" data-v-71f2d09e="" width="25" height="25" viewBox="0 0 25 25" class="icon stat-view-icon"><g data-v-bdf6e7fa="" data-v-71f2d09e="" fill="none" fill-rule="evenodd"><circle data-v-bdf6e7fa="" data-v-71f2d09e="" cx="12.5" cy="12.5" r="12.5" fill="#E1EFFF"></circle><path data-v-bdf6e7fa="" data-v-71f2d09e="" fill="#7BB9FF" d="M4 12.5S6.917 7 12.75 7s8.75 5.5 8.75 5.5-2.917 5.5-8.75 5.5S4 12.5 4 12.5zm8.75 2.292c1.208 0 2.188-1.026 2.188-2.292 0-1.266-.98-2.292-2.188-2.292-1.208 0-2.188 1.026-2.188 2.292 0 1.266.98 2.292 2.188 2.292z"></path></g></svg> <span data-v-bdf6e7fa="" data-v-71f2d09e="" class="content">
      文章被阅读
      <span data-v-bdf6e7fa="" data-v-71f2d09e="" class="count">&nbsp;3,930,211</span></span></div> <!----></div> <!----> <a data-v-65597ac0="" href="https://juejin.cn/user/center/signin?from=item" target="" rel=""></a> <div data-v-71f2d09e="" data-v-7571c026="" data-v-65597ac0="" class="sidebar-block wechat-sidebar-block pure"><div data-v-19814543="" data-v-7571c026="" class="wechat-banner" data-v-71f2d09e=""><img data-v-19814543="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/default.640d9a7.png" loading="lazy" class="wechat-img square"></div> <div data-v-7571c026="" data-v-71f2d09e="" title="关闭" class="close-btn"><i data-v-7571c026="" class="byte-icon byte-icon--close-circle" data-v-71f2d09e=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path fill="none" d="M0 0h48v48H0z"></path><path d="M24 2c12.2 0 22 9.8 22 22s-9.8 22-22 22S2 36.2 2 24 11.8 2 24 2zm0 4C14.1 6 6 14.1 6 24s8.1 18 18 18 18-8.1 18-18S33.9 6 24 6zm-4.9 10.2l4.9 4.9 5-4.9c.4-.4 1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4l-5 4.9 5 5c.4.4.4 1 0 1.4l-1.4 1.4c-.4.4-1 .4-1.4 0l-5-5-4.9 5c-.4.4-1 .4-1.4 0l-1.4-1.4c-.4-.4-.4-1 0-1.4l4.9-5-4.9-4.9c-.4-.4-.4-1 0-1.4l1.4-1.4c.3-.4 1-.4 1.4 0z"></path></svg></i></div></div> <div data-v-71f2d09e="" data-v-17139de4="" data-v-65597ac0="" class="sidebar-block related-entry-sidebar-block shadow" st:block="relatedEntrySidebarBlock"><div data-v-71f2d09e="" class="block-title">相关文章</div> <div data-v-71f2d09e="" class="block-body"><div data-v-17139de4="" data-v-71f2d09e="" class="entry-list"><a data-v-17139de4="" href="https://juejin.cn/post/7184284976702521401" target="_blank" rel="" st:name="link" title="超60%开发者跳过槽、Vue是国内最具认知度前端框架、Java仍是企业级编程语言首选，2022中国开发者生态调研报告重磅发布" class="item" data-v-71f2d09e=""><div data-v-17139de4="" class="entry-title">超60%开发者跳过槽、Vue是国内最具认知度前端框架、Java仍是企业级编程语言首选，2022中国开发者生态调研报告重磅发布</div> <div data-v-17139de4="" class="entry-meta-box"><div data-v-17139de4="" class="entry-meta">74点赞</div> <div data-v-17139de4="" class="entry-meta">&nbsp;·&nbsp;</div> <div data-v-17139de4="" class="entry-meta">18评论</div></div></a><a data-v-17139de4="" href="https://juejin.cn/post/7112407891205685284" target="_blank" rel="" st:name="link" title="卷不动了的大前端，未来趋势在哪里？丨掘金夜谈" class="item" data-v-71f2d09e=""><div data-v-17139de4="" class="entry-title">卷不动了的大前端，未来趋势在哪里？丨掘金夜谈</div> <div data-v-17139de4="" class="entry-meta-box"><div data-v-17139de4="" class="entry-meta">199点赞</div> <div data-v-17139de4="" class="entry-meta">&nbsp;·&nbsp;</div> <div data-v-17139de4="" class="entry-meta">59评论</div></div></a><a data-v-17139de4="" href="https://juejin.cn/post/7176207439304327224" target="_blank" rel="" st:name="link" title="码上掘金迎新年 - 前端场 竞赛详情" class="item" data-v-71f2d09e=""><div data-v-17139de4="" class="entry-title">码上掘金迎新年 - 前端场 竞赛详情</div> <div data-v-17139de4="" class="entry-meta-box"><div data-v-17139de4="" class="entry-meta">10点赞</div> <div data-v-17139de4="" class="entry-meta">&nbsp;·&nbsp;</div> <div data-v-17139de4="" class="entry-meta">1评论</div></div></a><a data-v-17139de4="" href="https://juejin.cn/post/7175056238990852133" target="_blank" rel="" st:name="link" title="2022年度人气创作者榜单 瓜分奖池介绍及名单公布" class="item" data-v-71f2d09e=""><div data-v-17139de4="" class="entry-title">2022年度人气创作者榜单 瓜分奖池介绍及名单公布</div> <div data-v-17139de4="" class="entry-meta-box"><div data-v-17139de4="" class="entry-meta">36点赞</div> <div data-v-17139de4="" class="entry-meta">&nbsp;·&nbsp;</div> <div data-v-17139de4="" class="entry-meta">151评论</div></div></a><a data-v-17139de4="" href="https://juejin.cn/post/6974206190871904269" target="_blank" rel="" st:name="link" title="首届稀土开发者大会正式启动，讲师招募、报名通道同步开启！" class="item" data-v-71f2d09e=""><div data-v-17139de4="" class="entry-title">首届稀土开发者大会正式启动，讲师招募、报名通道同步开启！</div> <div data-v-17139de4="" class="entry-meta-box"><div data-v-17139de4="" class="entry-meta">23点赞</div> <div data-v-17139de4="" class="entry-meta">&nbsp;·&nbsp;</div> <div data-v-17139de4="" class="entry-meta">41评论</div></div></a></div></div></div> <div data-v-65597ac0="" class="sticky-block-box"><div data-v-71f2d09e="" data-v-65597ac0="" class="sidebar-block catalog-block catalog-block pure isExpand" style=""><nav data-v-21dfbf50="" class="article-catalog" data-v-71f2d09e="" style=""><div data-v-21dfbf50="" class="catalog-title">目录</div> <div data-v-21dfbf50="" class="catalog-body"><ul data-v-21dfbf50="" class="catalog-list" style="margin-top: 0px;"><li data-v-21dfbf50="" class="item d1"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-0" title="技术调研" class="catalog-aTag">
      技术调研
    </a></div> <ul class="sub-list"><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-1" title="main()调用之前的加载过程" class="catalog-aTag">
      main()调用之前的加载过程
    </a></div> <ul class="sub-list"><li class="item d3"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-2" title="什么是image" class="catalog-aTag">
      什么是image
    </a></div> <!----></li><li class="item d3 active"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-3" title="系统使用动态链接有几点好处：" class="catalog-aTag">
      系统使用动态链接有几点好处：
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-4" title="什么是ImageLoader" class="catalog-aTag">
      什么是ImageLoader
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-5" title="动态链接库加载的具体流程" class="catalog-aTag">
      动态链接库加载的具体流程
    </a></div> <ul class="sub-list"><li class="item d4" style="display: none;"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-6" title="load dylibs image" class="catalog-aTag">
      load dylibs image
    </a></div> <!----></li><li class="item d4" style="display: none;"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-7" title="rebase/bind" class="catalog-aTag">
      rebase/bind
    </a></div> <!----></li><li class="item d4" style="display: none;"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-8" title="Objc setup" class="catalog-aTag">
      Objc setup
    </a></div> <!----></li><li class="item d4" style="display: none;"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-9" title="initializers" class="catalog-aTag">
      initializers
    </a></div> <!----></li></ul></li><li class="item d3"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-10" title="main()之前的加载时间如何衡量" class="catalog-aTag">
      main()之前的加载时间如何衡量
    </a></div> <!----></li></ul></li><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-11" title="main()调用之后的加载时间" class="catalog-aTag">
      main()调用之后的加载时间
    </a></div> <!----></li></ul></li><li data-v-21dfbf50="" class="item d1"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-12" title="实测数据" class="catalog-aTag">
      实测数据
    </a></div> <ul class="sub-list"><li class="item d2"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-13" title="main函数之后加载时间优化记录" class="catalog-aTag">
      main函数之后加载时间优化记录
    </a></div> <ul class="sub-list"><li class="item d3"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-14" title="NSUserDefaults是否是瓶颈" class="catalog-aTag">
      NSUserDefaults是否是瓶颈
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-15" title="如何找到拖慢启动应用时长的瓶颈" class="catalog-aTag">
      如何找到拖慢启动应用时长的瓶颈
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-16" title="具体优化点" class="catalog-aTag">
      具体优化点
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="https://juejin.cn/post/6844903462652608520#heading-17" title="优化结果" class="catalog-aTag">
      优化结果
    </a></div> <!----></li></ul></li></ul></li></ul></div></nav></div> <!----></div></div> <div data-v-fe76cb40="" data-v-1c9ebbff="" class="article-suspended-panel article-suspended-panel"><svg data-v-fe76cb40="" xmlns="http://www.w3.org/2000/svg" class="" style="display: none;"><symbol data-v-fe76cb40="" id="icon-collect" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path data-v-fe76cb40="" fill-rule="evenodd" clip-rule="evenodd" d="M5.24287 18.3845C4.89724 18.5507 4.48229 18.4053 4.31605 18.0596C4.26029 17.9437 4.23783 17.8146 4.25117 17.6866L4.75725 12.8332C4.77762 12.6379 4.71431 12.443 4.583 12.297L1.29207 8.63594C1.03567 8.35071 1.05905 7.91164 1.34428 7.65524C1.43464 7.574 1.54475 7.5179 1.66358 7.49254L6.47789 6.46509C6.66998 6.42409 6.83572 6.30367 6.93407 6.13365L9.39894 1.87248C9.59098 1.54049 10.0158 1.42704 10.3478 1.61907C10.453 1.67992 10.5403 1.76729 10.6012 1.87248L13.0661 6.13365C13.1644 6.30367 13.3301 6.42409 13.5222 6.46509L18.3365 7.49254C18.7116 7.57259 18.9508 7.94155 18.8707 8.31664C18.8454 8.43547 18.7893 8.54557 18.708 8.63594L15.4171 12.297C15.2858 12.443 15.2225 12.6379 15.2429 12.8332L15.7489 17.6866C15.7887 18.0681 15.5117 18.4096 15.1303 18.4493C15.0023 18.4627 14.8732 18.4402 14.7572 18.3845L10.3011 16.2412C10.1108 16.1497 9.8893 16.1497 9.69906 16.2412L5.24287 18.3845Z"></path></symbol><symbol data-v-fe76cb40="" id="icon-comment" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path data-v-fe76cb40="" fill-rule="evenodd" clip-rule="evenodd" d="M4.62739 1.25C2.9347 1.25 1.5625 2.6222 1.5625 4.31489L1.56396 12.643C1.56403 14.3356 2.9362 15.7078 4.62885 15.7078H6.48326L6.93691 17.6869L6.93884 17.6948C7.16894 18.6441 8.28598 19.0599 9.08073 18.4921L12.7965 15.7078H15.5001C17.1928 15.7078 18.565 14.3355 18.565 12.6428L18.5635 4.31477C18.5635 2.62213 17.1913 1.25 15.4986 1.25H4.62739ZM5.98265 9.89255C6.68783 9.89255 7.2595 9.32089 7.2595 8.61571C7.2595 7.91053 6.68783 7.33887 5.98265 7.33887C5.27747 7.33887 4.70581 7.91053 4.70581 8.61571C4.70581 9.32089 5.27747 9.89255 5.98265 9.89255ZM9.95604 9.89255C10.6612 9.89255 11.2329 9.32089 11.2329 8.61571C11.2329 7.91053 10.6612 7.33887 9.95604 7.33887C9.25086 7.33887 8.6792 7.91053 8.6792 8.61571C8.6792 9.32089 9.25086 9.89255 9.95604 9.89255ZM15.2124 8.61571C15.2124 9.32089 14.6407 9.89255 13.9355 9.89255C13.2304 9.89255 12.6587 9.32089 12.6587 8.61571C12.6587 7.91053 13.2304 7.33887 13.9355 7.33887C14.6407 7.33887 15.2124 7.91053 15.2124 8.61571Z"></path></symbol><symbol data-v-fe76cb40="" id="icon-zan" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path data-v-fe76cb40="" fill-rule="evenodd" clip-rule="evenodd" d="M13.0651 3.25923C12.6654 2.21523 12.1276 1.60359 11.4633 1.40559C10.8071 1.21 10.2539 1.48626 9.97848 1.67918C9.43962 2.05668 9.17297 2.64897 9.0009 3.12662C8.93522 3.30893 8.87504 3.50032 8.82077 3.67291L8.82077 3.67292C8.80276 3.73019 8.78541 3.78539 8.76872 3.8375C8.6974 4.06017 8.63455 4.23905 8.56561 4.38315C8.07104 5.41687 7.64014 6.034 7.2617 6.43277C6.89154 6.8228 6.5498 7.0275 6.18413 7.21038C5.8887 7.35813 5.69369 7.66144 5.69365 8.00211L5.69237 17.3908C5.6923 17.8783 6.08754 18.2736 6.57511 18.2736H14.8382C15.2621 18.2736 15.5829 18.1393 15.8149 17.9421C15.9234 17.8497 15.9985 17.7554 16.0484 17.6856C16.0695 17.6561 16.088 17.6282 16.0983 17.6126L16.1017 17.6075L16.1033 17.6051L16.1194 17.5857L16.1428 17.5478C16.913 16.3019 17.4472 15.3088 17.8659 14.1183C18.3431 12.7613 18.5849 11.5853 18.6874 10.6685C18.7871 9.77617 18.7612 9.07318 18.6558 8.68779C18.5062 8.14118 18.138 7.82653 17.7668 7.66617C17.4231 7.51771 17.0763 7.49836 16.8785 7.49807L13.1134 7.44551C13.662 5.19751 13.31 3.89889 13.0651 3.25923ZM1.251 8.0848C1.22726 7.5815 1.62891 7.16046 2.13277 7.16046H3.4408C3.92832 7.16046 4.32354 7.55568 4.32354 8.04321V17.4303C4.32354 17.9178 3.92832 18.313 3.4408 18.313H2.57554C2.10419 18.313 1.71599 17.9427 1.69378 17.4718L1.251 8.0848Z"></path></symbol><symbol data-v-fe76cb40="" id="icon-share" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path data-v-fe76cb40="" fill-rule="evenodd" clip-rule="evenodd" d="M10.4167 6.40399C5.35406 6.40399 1.25 10.5675 1.25 15.7035C1.25 16.0225 1.28448 16.4512 1.35344 16.9898C1.36807 17.1039 1.47243 17.1846 1.58655 17.17C1.6483 17.1621 1.70328 17.127 1.73643 17.0743L1.86865 16.8676C1.99553 16.6731 2.10644 16.5147 2.20137 16.3925C3.69554 14.4692 6.13777 13.3823 9.35515 13.3378L10.4167 13.3364V17.0757C10.4167 17.3101 10.6086 17.5 10.8453 17.5C10.959 17.5 11.068 17.4553 11.1483 17.3757L18.145 10.45C18.3961 10.2015 18.3961 9.79853 18.145 9.55L11.1483 2.62426C10.981 2.45858 10.7096 2.45858 10.5422 2.62426C10.4618 2.70383 10.4167 2.81174 10.4167 2.92426V6.40399Z"></path></symbol><symbol data-v-fe76cb40="" id="icon-report" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path data-v-fe76cb40="" fill-rule="evenodd" clip-rule="evenodd" d="M10.8389 1.89381C11.0873 2.03868 11.2939 2.24532 11.4388 2.49366L18.9369 15.0065C19.4007 15.8015 19.1322 16.8221 18.3371 17.2859C18.0822 17.4346 17.7924 17.5129 17.4973 17.5129H2.50041C1.57993 17.5129 0.83374 16.7667 0.83374 15.8462C0.83374 15.5512 0.912088 15.2614 1.06078 15.0065L8.5595 2.49366C9.0233 1.69857 10.0438 1.43001 10.8389 1.89381ZM10.3118 13.3459C10.6283 13.3459 10.8848 13.6025 10.8848 13.9189V14.4918C10.8848 14.8082 10.6283 15.0647 10.3118 15.0647H9.73893C9.42252 15.0647 9.16602 14.8082 9.16602 14.4918V13.9189C9.16602 13.6025 9.42252 13.3459 9.73893 13.3459H10.3118ZM10.8356 7.09513C10.8356 6.86502 10.6491 6.67847 10.419 6.67847H9.58512C9.35501 6.67847 9.16846 6.86502 9.16846 7.09513V12.0956C9.16846 12.3257 9.35501 12.5123 9.58512 12.5123H10.419C10.6491 12.5123 10.8356 12.3257 10.8356 12.0956V7.09513Z"></path></symbol><symbol data-v-fe76cb40="" id="icon-immerse" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path data-v-fe76cb40="" fill-rule="evenodd" clip-rule="evenodd" d="M0.25 1C0.25 0.585786 0.585786 0.25 1 0.25H4C4.41421 0.25 4.75 0.585786 4.75 1C4.75 1.41421 4.41421 1.75 4 1.75H1.75V4C1.75 4.41421 1.41421 4.75 1 4.75C0.585786 4.75 0.25 4.41421 0.25 4V1ZM0.25 19C0.25 19.4142 0.585786 19.75 1 19.75H4C4.41421 19.75 4.75 19.4142 4.75 19C4.75 18.5858 4.41421 18.25 4 18.25H1.75V16C1.75 15.5858 1.41421 15.25 1 15.25C0.585786 15.25 0.25 15.5858 0.25 16V19ZM19 0.25C19.4142 0.25 19.75 0.585786 19.75 1V4C19.75 4.41421 19.4142 4.75 19 4.75C18.5858 4.75 18.25 4.41421 18.25 4V1.75H16C15.5858 1.75 15.25 1.41421 15.25 1C15.25 0.585786 15.5858 0.25 16 0.25H19ZM19.75 19C19.75 19.4142 19.4142 19.75 19 19.75H16C15.5858 19.75 15.25 19.4142 15.25 19C15.25 18.5858 15.5858 18.25 16 18.25H18.25V16C18.25 15.5858 18.5858 15.25 19 15.25C19.4142 15.25 19.75 15.5858 19.75 16V19ZM7 5C5.89543 5 5 5.89543 5 7V13C5 14.1046 5.89543 15 7 15H13C14.1046 15 15 14.1046 15 13V7C15 5.89543 14.1046 5 13 5H7Z"></path></symbol><symbol data-v-fe76cb40="" id="icon-wechat" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path data-v-fe76cb40="" fill-rule="evenodd" clip-rule="evenodd" d="M13.5578 5.34061C12.0476 2.85722 8.90911 1.73257 6.11813 2.05358C4.56413 2.23231 3.0449 2.85861 1.88463 3.92471C1.00689 4.72863 0.354462 5.78486 0.109889 6.95889C-0.187864 8.37395 0.125815 9.85314 0.957723 11.0298C1.28982 11.4994 1.68479 11.9193 2.11951 12.2941C2.25136 12.4079 2.38694 12.5172 2.52543 12.6228C2.59301 12.6742 2.66115 12.7249 2.73011 12.7745C2.74195 12.7831 2.75392 12.7902 2.76512 12.7969C2.80389 12.8201 2.83351 12.8378 2.81653 12.8887L2.67458 13.3177C2.53986 13.7252 2.40492 14.1325 2.26998 14.5399C2.22084 14.6883 2.17169 14.8366 2.12256 14.985L2.61572 14.7368C2.85714 14.6151 3.09863 14.4935 3.34012 14.3719C3.58099 14.2507 3.82186 14.1294 4.06266 14.0081L4.40902 13.8337C4.42474 13.8257 4.44104 13.8164 4.45775 13.8069C4.51759 13.7728 4.58265 13.7356 4.64501 13.7481C4.76613 13.7723 4.88708 13.7972 5.00801 13.8221C5.08094 13.8372 5.15386 13.8522 5.22681 13.867C6.06287 14.0373 6.88508 14.1348 7.73859 14.0675C7.4486 13.0669 7.44915 12.0016 7.7559 11.0045C8.09853 9.88624 8.81438 8.89831 9.74448 8.19773C11.0171 7.23915 12.6431 6.81493 14.2212 6.99199C14.0895 6.4081 13.8688 5.85148 13.5578 5.34061ZM4.77922 5.02147C4.28094 5.02147 3.71299 5.35514 3.71299 5.90829C3.71299 6.46088 4.28066 6.79844 4.77922 6.79844C5.29233 6.79844 5.66293 6.42291 5.66293 5.90829C5.66293 5.39311 5.29205 5.02147 4.77922 5.02147ZM10.6158 5.90829C10.6158 6.42444 10.2434 6.79844 9.7296 6.79844C9.23076 6.79844 8.66641 6.46032 8.66641 5.90829C8.66641 5.3557 9.23104 5.02147 9.7296 5.02147C10.2431 5.02147 10.6158 5.39158 10.6158 5.90829ZM17.7911 8.53846C15.3552 6.80489 11.734 6.93368 9.53048 9.01108C8.77779 9.72181 8.22909 10.6485 8.04061 11.6744C7.78288 13.0799 8.22536 14.5441 9.17304 15.605C10.0674 16.6063 11.2889 17.2564 12.5986 17.5166C13.4216 17.6806 14.2559 17.6931 15.0799 17.5344C15.2863 17.4948 15.4911 17.4481 15.6954 17.3986C15.7826 17.3774 15.8697 17.3559 15.9568 17.334C15.9655 17.3319 15.9784 17.3272 15.9934 17.3219C16.0359 17.3068 16.0949 17.2858 16.118 17.2984C16.2476 17.3695 16.3771 17.4408 16.5066 17.5122L17.0557 17.8142L17.0577 17.8153L17.0598 17.8164C17.3912 17.9986 17.7227 18.1809 18.054 18.3634C17.9748 18.0977 17.895 17.832 17.8153 17.5664L17.8146 17.5641L17.6749 17.0981L17.5814 16.7863L17.5332 16.6257C17.5159 16.5675 17.5927 16.5183 17.6556 16.4779C17.6753 16.4653 17.6937 16.4535 17.7073 16.4426C18.0608 16.1622 18.3952 15.8558 18.6963 15.5191C19.1832 14.9747 19.5895 14.3498 19.8161 13.6505C20.0122 13.039 20.0488 12.392 19.9377 11.7604C19.7098 10.438 18.8643 9.30511 17.7911 8.53846ZM15.2396 11.0049C15.1595 10.6088 15.5334 10.1787 15.931 10.1787C16.3063 10.1787 16.7409 10.3931 16.8096 10.7989C16.8724 11.1695 16.556 11.4696 16.227 11.5617C15.8032 11.6802 15.3326 11.4649 15.2396 11.0049ZM12.0348 10.1787C11.6369 10.1787 11.2573 10.6064 11.3385 11.0049C11.4325 11.4667 11.9081 11.68 12.3327 11.5617C12.6626 11.4696 12.9753 11.1695 12.9134 10.7989C12.8453 10.3914 12.4112 10.1787 12.0348 10.1787Z"></path></symbol><symbol data-v-fe76cb40="" id="icon-weibo" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path data-v-fe76cb40="" fill-rule="evenodd" clip-rule="evenodd" d="M-0.000244141 13.0984C-0.000244141 8.70757 6.6145 3.5004 9.18008 4.57052C10.1717 4.98415 9.97381 6.1693 9.85415 6.88576C9.8069 7.16863 9.77186 7.37844 9.82705 7.43887C9.92921 7.55074 10.2955 7.42054 10.7994 7.2414C11.8362 6.87286 13.4557 6.2972 14.5566 7.19617C15.2665 7.77576 14.9657 8.72382 14.7905 9.27603C14.7289 9.4701 14.6829 9.61528 14.7017 9.6784C14.741 9.81053 14.9858 9.91133 15.317 10.0477C15.926 10.2984 16.8269 10.6692 17.2784 11.5759C18.3716 13.7713 15.2036 18.2504 8.62234 18.2504C3.25024 18.2504 -0.000244141 15.6688 -0.000244141 13.0984ZM8.45309 17.057C11.7733 16.7393 14.2944 14.7397 14.0842 12.5908C13.874 10.4418 11.012 8.95732 7.69179 9.27503C4.37159 9.59274 1.85045 11.5924 2.06068 13.7413C2.2709 15.8902 5.13288 17.3747 8.45309 17.057Z"></path><path data-v-fe76cb40="" fill-rule="evenodd" clip-rule="evenodd" d="M10.7098 12.7012C11.1162 14.1374 10.0604 15.6852 8.35157 16.1581C6.64275 16.6311 4.92801 15.8502 4.5216 14.4139C4.11518 12.9777 5.171 11.4299 6.87982 10.957C8.58865 10.484 10.3034 11.2649 10.7098 12.7012ZM7.67026 13.6265C7.89619 14.1072 7.61751 14.7092 7.04779 14.9711C6.47808 15.2331 5.83308 15.0558 5.60715 14.5751C5.38122 14.0945 5.6599 13.4925 6.22962 13.2306C6.79933 12.9686 7.44433 13.1459 7.67026 13.6265ZM8.41746 13.3766C8.63945 13.2745 8.74804 13.0399 8.66001 12.8526C8.57197 12.6654 8.32065 12.5963 8.09866 12.6984C7.87667 12.8004 7.76808 13.035 7.85612 13.2223C7.94415 13.4095 8.19547 13.4786 8.41746 13.3766Z"></path><path data-v-fe76cb40="" d="M13.648 3.54836C13.9523 3.47388 14.2712 3.43418 14.6004 3.43418C16.7813 3.43418 18.5492 5.18267 18.5492 7.33955C18.5492 7.81593 18.4633 8.27085 18.3066 8.69104C18.168 9.06261 18.3602 9.47493 18.7359 9.61199C19.1116 9.74904 19.5285 9.55894 19.6671 9.18737C19.8822 8.61063 19.9993 7.98781 19.9993 7.33955C19.9993 4.3906 17.5822 2 14.6004 2C14.1528 2 13.717 2.05403 13.2996 2.15619C12.9109 2.25133 12.6738 2.64011 12.77 3.02455C12.8662 3.40899 13.2593 3.6435 13.648 3.54836Z"></path><path data-v-fe76cb40="" d="M14.2887 6.05162C14.388 6.02824 14.4923 6.01569 14.6004 6.01569C15.3397 6.01569 15.939 6.6084 15.939 7.33955C15.939 7.49914 15.9108 7.65062 15.8596 7.7904C15.7232 8.16277 15.9179 8.57396 16.2944 8.70881C16.6709 8.84366 17.0867 8.65112 17.2231 8.27875C17.3307 7.98466 17.3891 7.66805 17.3891 7.33955C17.3891 5.81633 16.1406 4.58152 14.6004 4.58152C14.3784 4.58152 14.1614 4.60734 13.9529 4.65643C13.5633 4.74813 13.3227 5.1348 13.4154 5.52008C13.5082 5.90535 13.8991 6.14333 14.2887 6.05162Z"></path></symbol><symbol data-v-fe76cb40="" id="icon-qq" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path data-v-fe76cb40="" d="M11.8841 17.1943C11.1815 17.1943 10.5625 17.2136 10.0541 17.26C9.44625 17.2112 8.8365 17.1898 8.22671 17.1956C6.20498 17.1956 4.40588 17.9613 4.40588 18.5263C4.40588 19.0681 5.89998 19.0076 7.91657 18.987C8.64426 18.985 9.3699 18.9096 10.0824 18.7618C10.6796 18.8879 11.4079 18.9677 12.193 18.9741C14.2095 18.9947 15.7024 19.0552 15.7024 18.5173C15.7024 17.9549 13.9045 17.1943 11.8841 17.1943V17.1943Z"></path><path data-v-fe76cb40="" d="M16.9138 11.6311C16.5346 10.6112 16.1212 9.60428 15.6745 8.61206C15.6951 8.37141 15.7054 8.12818 15.7054 7.8811C15.7054 4.08086 13.7622 1 10.0649 1C6.36759 1 4.42307 4.08086 4.42307 7.8811C4.42307 8.11274 4.43208 8.34052 4.45138 8.56573C3.99804 9.5756 3.57913 10.6006 3.19536 11.6389C2.41678 13.7494 2.38203 15.6566 2.65357 15.7982C2.84661 15.8985 3.54797 15.1611 4.21845 13.9669C4.66115 16.7801 6.53102 18.8842 10.0649 18.8842C13.5871 18.8842 15.457 16.7916 15.9074 13.99C16.5728 15.1611 17.2664 15.8818 17.4569 15.7814C17.7284 15.6399 17.6937 13.7365 16.9138 11.6311V11.6311Z"></path><path data-v-fe76cb40="" d="M8.5542 3.2522C8.00598 3.26507 7.57358 3.90981 7.58902 4.69739C7.60447 5.48369 8.06132 6.11299 8.60954 6.1027C9.15776 6.0924 9.59016 5.44637 9.57472 4.65879C9.56056 3.87249 9.10243 3.24319 8.5542 3.25348V3.2522ZM11.5862 3.26764C11.0315 3.25734 10.5695 3.88278 10.5541 4.66651C10.5386 5.44895 10.9749 6.0924 11.5308 6.1027C12.0842 6.11299 12.5475 5.48755 12.5629 4.70512C12.5784 3.92139 12.1408 3.27794 11.5862 3.26764V3.26764Z"></path><path data-v-fe76cb40="" d="M13.6704 9.57861C12.5971 9.76521 11.354 9.87074 10.0285 9.87074C8.7287 9.87074 7.50742 9.76779 6.44959 9.58762C5.71605 10.4962 5.65942 11.8307 5.65942 13.3184C5.65942 16.0505 7.20371 18.2665 10.0645 18.2665C12.924 18.2665 14.4696 16.0505 14.4696 13.3184C14.4696 11.8243 14.4104 10.4859 13.6704 9.57861V9.57861Z"></path><path data-v-fe76cb40="" d="M10.0628 6.56616C8.14273 6.56616 6.58557 6.95223 6.58557 7.26238C6.58557 7.57124 8.62146 8.42188 10.0641 8.42188C11.5054 8.42188 13.5413 7.55065 13.5413 7.26238C13.5413 6.97411 11.9842 6.56745 10.0641 6.56745L10.0628 6.56616Z"></path><path data-v-fe76cb40="" d="M15.6744 8.6121L15.6757 8.59151C14.264 9.05866 12.2718 9.35078 10.0648 9.35078C7.8513 9.35078 5.85402 9.05737 4.441 8.58765C4.14115 9.25684 3.85546 9.93375 3.58521 10.6171C4.45644 10.9054 5.43192 11.1357 6.48332 11.2992V13.8858C6.48332 13.8858 7.22715 14.0235 7.92981 14.0531C8.42784 14.0737 8.95676 13.9888 8.95676 13.9888V11.5398C9.32095 11.5565 9.6903 11.5656 10.0635 11.5656C12.4919 11.5656 14.7311 11.2142 16.5251 10.6222C16.2566 9.94593 15.9729 9.27571 15.6744 8.6121V8.6121Z"></path><path data-v-fe76cb40="" d="M8.87981 4.24829C8.63787 4.24829 8.44226 4.53656 8.44226 4.89174C8.44226 5.24693 8.63787 5.5352 8.87981 5.5352C9.12046 5.5352 9.31736 5.24693 9.31736 4.89174C9.31736 4.53656 9.12046 4.24829 8.87981 4.24829V4.24829ZM12.0997 4.65624C12.0997 4.65624 11.9246 4.41816 11.4819 4.48122C11.0444 4.54428 10.8745 4.83126 10.8423 4.86215C10.8423 4.86215 10.7381 5.0243 10.8115 5.12467C10.8848 5.22505 11.0174 5.06676 11.0174 5.06676C11.0174 5.06676 11.2194 4.78364 11.4806 4.77335C11.6273 4.76349 11.7729 4.80489 11.8925 4.89046C11.8925 4.89046 12.0211 4.99856 12.0984 4.89046C12.1769 4.78364 12.0997 4.65624 12.0997 4.65624V4.65624Z"></path></symbol></svg> <div data-v-fe76cb40="" badge="290" class="panel-btn with-badge"><svg data-v-0f838daa="" data-v-fe76cb40="" class="sprite-icon icon-zan"><use data-v-0f838daa="" xlink:href="#icon-zan"></use></svg></div> <div data-v-fe76cb40="" badge="4" class="panel-btn with-badge"><svg data-v-0f838daa="" data-v-fe76cb40="" class="sprite-icon icon-comment"><use data-v-0f838daa="" xlink:href="#icon-comment"></use></svg></div> <div data-v-fe76cb40="" class="panel-btn"><svg data-v-0f838daa="" data-v-fe76cb40="" class="sprite-icon icon-collect"><use data-v-0f838daa="" xlink:href="#icon-collect"></use></svg> <div data-v-d0b73df6="" data-v-fe76cb40="" class="collect-popover"><div data-v-d0b73df6="" class="title">收藏成功！</div> <div data-v-d0b73df6="" class="sub-title">
    已添加到「」，
    <span data-v-d0b73df6="" class="modify-btn">点击更改</span></div></div> <!----> <!----></div> <div data-v-fe76cb40="" class="share-btn panel-btn"><svg data-v-0f838daa="" data-v-fe76cb40="" class="sprite-icon icon-share"><use data-v-0f838daa="" xlink:href="#icon-share"></use></svg> <div data-v-fe76cb40="" class="share-popup"><ul data-v-fe76cb40=""><li data-v-fe76cb40="" class="share-item wechat"><svg data-v-0f838daa="" data-v-fe76cb40="" class="sprite-icon share-icon icon-wechat"><use data-v-0f838daa="" xlink:href="#icon-wechat"></use></svg> <span data-v-fe76cb40="" class="share-item-title">微信</span> <div data-v-fe76cb40="" class="wechat-qrcode"><img data-v-fe76cb40="" src="https://juejin.cn/post/6844903462652608520" class="wechat-qrcode-img" style="display: none;"> <span data-v-fe76cb40="" class="wechat-qrcode-title">微信扫码分享</span></div></li> <li data-v-fe76cb40="" class="share-item weibo"><svg data-v-0f838daa="" data-v-fe76cb40="" class="sprite-icon share-icon icon-weibo"><use data-v-0f838daa="" xlink:href="#icon-weibo"></use></svg> <span data-v-fe76cb40="" class="share-item-title">新浪微博</span></li> <li data-v-fe76cb40="" class="share-item qq"><svg data-v-0f838daa="" data-v-fe76cb40="" class="sprite-icon share-icon icon-qq"><use data-v-0f838daa="" xlink:href="#icon-qq"></use></svg> <span data-v-fe76cb40="" class="share-item-title">QQ</span></li></ul></div></div> <div data-v-fe76cb40="" class="divider"></div> <div data-v-fe76cb40="" class="panel-btn"><svg data-v-0f838daa="" data-v-fe76cb40="" class="sprite-icon icon-report"><use data-v-0f838daa="" xlink:href="#icon-report"></use></svg></div> <span data-v-fe76cb40="" class="tooltip"><span class="byte-tooltip__wrapper"><div data-v-fe76cb40="" class="panel-btn"><svg data-v-0f838daa="" data-v-fe76cb40="" class="sprite-icon icon-immerse"><use data-v-0f838daa="" xlink:href="#icon-immerse"></use></svg></div></span></span></div></div> <!----></main> <!----></div> <!----> <div class="global-component-box"><div data-v-262fe4c6="" class="alert-list alert-list"></div> <div data-v-0b2d23d8="" class="suspension-panel suspension-panel"><!----> <button data-v-0b2d23d8="" title="回到顶部" class="btn to-top-btn" style=""><svg data-v-0b2d23d8="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class=""><path data-v-0b2d23d8="" fill-rule="evenodd" clip-rule="evenodd" d="M2.75 1C2.33579 1 2 1.33579 2 1.75C2 2.16421 2.33579 2.5 2.75 2.5H13.25C13.6642 2.5 14 2.16421 14 1.75C14 1.33579 13.6642 1 13.25 1H2.75ZM7.24407 3.87287C7.64284 3.41241 8.35716 3.41241 8.75593 3.87287L13.0622 8.84535C13.6231 9.49299 13.163 10.5 12.3063 10.5H10V14C10 14.5523 9.55228 15 9 15H7C6.44772 15 6 14.5523 6 14V10.5H3.69371C2.83696 10.5 2.37691 9.49299 2.93778 8.84535L7.24407 3.87287Z" fill="#8A919F"></path></svg></button> <button data-v-0b2d23d8="" title="建议反馈" class="btn meiqia-btn" style=""><svg data-v-0b2d23d8="" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-feedback"><path data-v-0b2d23d8="" fill-rule="evenodd" clip-rule="evenodd" d="M1.8252 4.002C1.8252 2.80032 2.79935 1.82617 4.00102 1.82617H12.001C13.2027 1.82617 14.1768 2.80032 14.1768 4.002V9.71628C14.1768 10.918 13.2027 11.8921 12.001 11.8921H9.43308L6.92709 14.1281C6.4455 14.5578 5.68234 14.216 5.68234 13.5706V11.8921H4.00102C2.79934 11.8921 1.8252 10.918 1.8252 9.71628V4.002ZM11.2414 7.86753C11.3826 7.65526 11.3249 7.36878 11.1126 7.22764C10.9004 7.08651 10.6139 7.14417 10.4728 7.35643C9.94042 8.15705 9.03153 8.68309 7.99997 8.68309C6.96841 8.68309 6.05952 8.15705 5.52719 7.35643C5.38605 7.14417 5.09957 7.08651 4.88731 7.22764C4.67504 7.36878 4.61738 7.65526 4.75852 7.86753C5.45467 8.91452 6.64645 9.60617 7.99997 9.60617C9.35349 9.60617 10.5453 8.91452 11.2414 7.86753Z" fill="#1E80FF"></path></svg></button></div> <!----> <!----> <!----> <!----> <!----></div> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----></div></div></div><script>window.__NUXT__=(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F){q.loading=a;q.skeleton=b;q.cursor=f;q.data=[];q.total=d;q.hasMore=b;return {layout:"default",data:[{renderPost:b,additionalDataUseCSR:b}],fetch:[{bdPageUrlForNav:"https:\u002F\u002Fbd.juejin.cn?utm_campaign=bd&utm_source=web&utm_medium=nav",queryString:e,isShowUserDropdownList:a,isShowAddMoreList:a,isFocus:a,isPhoneMenuShow:a,visibleBadge:a,placeholder:e,hiddenProperty:"hidden",searchHistoryVisible:a,searchHistoryItems:[],tabBadge:c,isChangePlaceholder:b,showMallBridge:a},{articleBanner:{url:"https:\u002F\u002Fjuejin.cn\u002Fextension\u002F?utm_source=standalone&utm_medium=post&utm_campaign=extension_promotion",title:"安装掘金浏览器插件",content:"多内容聚合浏览、多引擎快捷搜索、多工具便捷提效、多模式随心畅享，你想要的，这里都有！"},showExtension:b}],error:c,state:{view:{activityIndex:{activityList:[],pageInfo:{hasNextPage:a,endCursor:e},afterPosition:e,activityListIsLoading:b,activityListIsError:a,userActivityList:[],placeholder:e,actionType:{FETCH:"@\u002Fview\u002Factivity-index\u002FFETCH",FETCH_RECOMMEND_LIST:"@\u002Fview\u002Factivity-index\u002FFETCH_RECOMMEND_LIST",RESET_ACTIVITY_LIST:"@\u002Fview\u002Factivity-index\u002FRESET_ACTIVITY_LIST",FETCH_USER_ACTIVITY_LIST:"@\u002Fview\u002Factivity-index\u002FFETCH_USER_ACTIVITY_LIST",FETCH_NEW_COUNT:"@\u002Fview\u002Factivity-index\u002FFETCH_NEW_COUNT",DELETE_ACTIVITY:"@\u002Fview\u002Factivity-index\u002FDELETE_ACTIVITY",TOGGLE_FOLLOW_USER:"@\u002Fview\u002Factivity-index\u002FTOGGLE_FOLLOW_USER",FETCH_ENTRY_COMMENT_LIST:"@\u002Fview\u002Factivity-index\u002FFETCH_ENTRY_COMMENT_LIST",UPDATE_LIST_LOADING:"@\u002Fview\u002Factivity-index\u002FUPDATE_LIST_LOADING",RESET:"@\u002Fview\u002Factivity-index\u002FRESET"},hotList:{list:[],after:e,loading:a,hasNextPage:a,actionType:{UPDATE_STATE:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FFETCH",RESET:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FRESET"}},sidebar:{bannerList:[],actionType:{RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002FRESET",UPDATE_STATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002FUPDATE_STATE",FETCH_BANNER:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002FFETCH_BANNER"},recommend:{pageSize:h,page:d,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FUPDATE",FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FFETCH_MORE",RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FRESET"},after:d},followed:{pageSize:h,page:d,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FUPDATE",FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FFETCH_MORE",RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FRESET"},after:d},recommendPin:{list:[],after:e,loading:a,hasNextPage:b,actionType:{UPDATE_STATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FFETCH",RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FRESET"}}},topicPinList:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FUPDATE",FETCH:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FFETCH_MORE",RESET:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FRESET"},topicId:e,navList:[{type:k,name:k,title:"推荐 ",id:k},{type:m,name:m,title:"热门 ",id:m},{type:o,name:o,title:"关注 ",id:o},{type:i,name:"opensource",title:"开源推荐 ",id:"5c09ea2b092dcb42c740fe73"},{type:i,name:"recruitment",title:"内推招聘",id:"5abb61e1092dcb4620ca3322"},{type:i,name:"dating",title:"掘金相亲",id:"5abcaa67092dcb4620ca335c"},{type:i,name:"slacking",title:"上班摸鱼",id:"5c106be9092dcb2cc5de7257"},{type:i,name:"app",title:"应用安利",id:"5b514af1092dcb61bd72800d"},{type:i,name:"tool",title:"开发工具",id:"5abb67d2092dcb4620ca3324"},{type:i,name:"news",title:"New资讯",id:"5c46a17f092dcb4737217152"}],sortType:p}},search:{search_result_from:d,query:e,list:[],linkList:[],loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fsearch\u002FFETCH",FETCH_MORE:"@\u002Fview\u002Fsearch\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fsearch\u002FRESET"}},columnIndex:{list:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FRESET"},sort:n,category:"all"},hotList:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FUPDATE",FETCH:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FFETCH_MORE",RESET:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FRESET"}}},timelineIndex:{tdkTemplates:[],categoryNavList:[],tagNavList:[],splitTagList:[],timelineAdList:[],list:[],sort:p,category:k,categoryId:e,tagId:e,tag:"全部",actionType:{FETCH_TIMELINE_LIST:"@\u002Fview\u002FtimelineIndex\u002FFETCH_TIMELINE_LIST",FETCH_CATEGORY_LIST:"@\u002Fview\u002FtimelineIndex\u002FFETCH_CATEGORY_LIST",FETCH_TAG_LIST:"@\u002Fview\u002FtimelineIndex\u002FFETCH_TAG_LIST",DELETE_ENTRY:"@\u002Fview\u002FtimelineIndex\u002FDELETE_ENTRY",DELETE_USER_ENTRIES:"@\u002Fview\u002FtimelineIndex\u002FDELETE_USER_ENTRIES",DELETE_TAG_ENTRIES:"@\u002Fview\u002FtimelineIndex\u002FDELETE_TAG_ENTRIES",FETCH_MORE:"@\u002Fview\u002FtimelineIndex\u002FFETCH_MORE",FETCH:"@\u002Fview\u002FtimelineIndex\u002FFETCH",RESET:"@\u002Fview\u002FtimelineIndex\u002FRESET"},serverRenderTimelineList:a,timelineList:{list:[],cursor:f,skeleton:b,loading:a,hasMore:b,categoryId:e,tagId:e,sort:e,actionType:{UPDATE_STATE:"timeline-list\u002FUPDATE_STATE",FETCH_MORE:"timeline-list\u002FFETCH_MORE",FETCH:"timeline-list\u002FFETCH",RESET:"timeline-list\u002FRESET"}},recommendList:{list:[],cursor:f,loading:a,skeleton:b,hasMore:b,actionType:{UPDATE_STATE:"recommend-list\u002FUPDATE_STATE",FETCH_MORE:"recommend-list\u002FFETCH_MORE",FETCH:"recommend-list\u002FFETCH",RESET:"recommend-list\u002FRESET"}},followingList:{list:[],cursor:f,skeleton:b,loading:a,hasMore:b,actionType:{UPDATE_STATE:"following-list\u002FUPDATE_STATE",FETCH_MORE:"following-list\u002FFETCH_MORE",FETCH:"following-list\u002FFETCH",RESET:"following-list\u002FRESET"}}},subscribe:{subscribed:{list:[],cursor:f,skeleton:b,loading:a,hasMore:a,actionType:{UPDATE_STATE:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FUPDATE_STATE",FETCH_MORE:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FFETCH_MORE",FETCH:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FFETCH",RESET:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FRESET"}},all:{list:[],cursor:f,loading:a,skeleton:b,hasMore:a,linkList:e,actionType:{UPDATE_STATE:"view\u002Fsubscribe\u002Fall\u002Flist\u002FUPDATE_STATE",FETCH_MORE:"view\u002Fsubscribe\u002Fall\u002Flist\u002FFETCH_MORE",FETCH:"view\u002Fsubscribe\u002Fall\u002Flist\u002FFETCH",RESET:"view\u002Fsubscribe\u002Fall\u002Flist\u002FRESET"}}},entryPublic:{entry:{user:{}},relatedEntryList:[],relatedCollectionList:[],actionType:{FETCH:"@\u002Fview\u002FentryPublic\u002FFETCH",RESET:"@\u002Fview\u002FentryPublic\u002FRESET"}},user:{user:{},serverRendered:a,userAnnuals:[],actionType:{FETCH:"@\u002Fview\u002Fuser\u002FFETCH",RESET:"@\u002Fview\u002Fuser\u002FRESET",UPDATE:"@\u002Fview\u002Fuser\u002FUPDATE",FETCH_ANNUALS:"@\u002Fview\u002Fuser\u002FFETCH_ANNUALS"},detailList:{actionType:{RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FRESET"},likeList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FRESET"}},postList:{list:[],hasMore:a,skeleton:a,loading:a,sort:n,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FRESET"}},searchList:{list:[],hasMore:a,skeleton:a,loading:a,key_word:e,search_type:d,cursor:f,isPostSearch:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FRESET"}},tagList:{list:[],loading:a,skeleton:b,hasMore:a,cursor:f,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FRESET"}},collectionList:{list:[],userId:e,skeleton:b,hasMore:a,cursor:f,type:"created",loading:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FRESET",TOGGLE_FOLLOW_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FTOGGLE_FOLLOW_COLLECTION",FOLLOW_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FFOLLOW_COLLECTION",UNFOLLOW_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FUNFOLLOW_COLLECTION",DELELTE_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FDELELTE_COLLECTION",ADD_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FADD_COLLECTION",EDIT_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FEDIT_COLLECTION"}},followerList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FRESET"}},followingList:{list:[],cursor:f,hasMore:a,skeleton:a,loading:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FRESET"}},followingTeamsList:{list:[],cursor:f,hasMore:a,skeleton:a,loading:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FRESET"}},activityList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FRESET"}},bookList:{list:[],cursor:f,skeleton:b,hasMore:a,loading:a,type:"wrote",actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FRESET"}},pinList:{list:[],hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FRESET"}},courseList:{list:[],hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FRESET"}},pinPraisedList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FRESET"}},eventList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FRESET"}},selfColumnList:{list:[],hasMore:a,skeleton:a,loading:a,cursor:f,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FRESET"}},columnFollowedList:{list:[],hasMore:a,skeleton:a,loading:a,cursor:f,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FRESET",FILTER:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FFILTER"}},realtimes:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FRESET",DELETE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FDELETE"}},realtimeliked:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FRESET",DELETE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FDELETE"}}}},tag:{tag:{},actionType:{FETCH:"@\u002Fview\u002Ftag\u002FFETCH",FETCH_LIST:"@\u002Fview\u002Ftag\u002FFETCH_LIST",RESET:"@\u002Fview\u002Ftag\u002FRESET"},list:{list:[],cursor:f,loading:a,skeleton:a,hasMore:a,actionType:{UPDATE_STATE:"@\u002Fview\u002Ftag\u002Flist\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Ftag\u002Flist\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Ftag\u002Flist\u002FFETCH",RESET:"@\u002Fview\u002Ftag\u002Flist\u002FRESET"}}},notification:{user:{actionType:{READ_ALL:"@\u002Fview\u002Fnotification\u002Fuser\u002FREAD_ALL",RESET:"@\u002Fview\u002Fnotification\u002Fuser\u002FRESET"},listState:{list:[],cursor:f,hasMore:a,isLoading:a,messageType:3,msgTotal:d,msgSubMap:{"1":d,"2":d,"3":d,"4":d,"7":d}},list:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FRESET"}}},system:{actionType:{READ_ALL:"@\u002Fview\u002Fnotification\u002Fsystem\u002FREAD_ALL",RESET:"@\u002Fview\u002Fnotification\u002Fsystem\u002FRESET"},list:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FRESET"}}}},column:{serverRenderList:a,column:{id:w},entry:{id:w,screenshot:void 0,liked:a,article_id:w,article_info:{article_id:w,user_id:"940837680722589",category_id:"6809635626661445640",tag_ids:[6809640399544517000],visible_level:d,link_url:"http:\u002F\u002Ftechblog.toutiao.com\u002Farchives\u002F2017\u002F01\u002Fiosspeed\u002F",cover_image:"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fleancloud-assets\u002F642a38c415567b6965ef.jpeg~tplv-t2oaga2asx-image.image",is_gfw:d,title:"今日头条 iOS 客户端启动速度优化",brief_content:"应用启动时间，直接影响用户对一款应用的判断和使用体验。头条主 app 本身就包含非常多并且复杂度高的业务模块（如新闻、视频等），也接入了很多第三方的插件，这势必会拖慢应用的启动时间，本着精益求精的态度和对用户体验的追求，我们希望在业务扩张的同时最大程度的优化启动时间。",is_english:d,is_original:d,user_index:d,original_type:g,original_author:e,content:"\u003Cp\u003E应用启动时间，直接影响用户对一款应用的判断和使用体验。头条主app本身就包含非常多并且复杂度高的业务模块（如新闻、视频等），也接入了很多第三方的插件，这势必会拖慢应用的启动时间，本着精益求精的态度和对用户体验的追求，我们希望在业务扩张的同时最大程度的优化启动时间。\u003Cbr\u003E\n    \u003Ca id=\"more\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Ch1 id=\"u6280_u672F_u8C03_u7814\"\u003E\n    \u003Ca href=\"#u6280_u672F_u8C03_u7814\" title=\"技术调研\"\u003E\u003C\u002Fa\u003E技术调研\u003C\u002Fh1\u003E\n\u003Cp\u003E先说结论，t(App总启动时间) = t1(main()之前的加载时间) + t2(main()之后的加载时间)。\u003Cbr\u003Et1 = 系统dylib(动态链接库)和自身App可执行文件的加载；\u003Cbr\u003Et2 = main方法执行之后到AppDelegate类中的- \u003Ccode\u003E(BOOL)Application:(UIApplication *)Application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\u003C\u002Fcode\u003E方法执行结束前这段时间，主要是构建第一个界面，并完成渲染展示。\u003C\u002Fp\u003E\n\u003Ch2 id=\"main_28_29_u8C03_u7528_u4E4B_u524D_u7684_u52A0_u8F7D_u8FC7_u7A0B\"\u003E\n    \u003Ca href=\"#main_28_29_u8C03_u7528_u4E4B_u524D_u7684_u52A0_u8F7D_u8FC7_u7A0B\" title=\"main()调用之前的加载过程\"\u003E\u003C\u002Fa\u003Emain()调用之前的加载过程\u003C\u002Fh2\u003E\n\u003Cp\u003EApp开始启动后， 系统首先加载可执行文件（自身App的所有.o文件的集合），然后加载动态链接库dyld，dyld是一个专门用来加载动态链接库的库。 执行从dyld开始，dyld从可执行文件的依赖开始, 递归加载所有的依赖动态链接库。\u003Cbr\u003E动态链接库包括：iOS 中用到的所有系统 framework，加载OC runtime方法的libobjc，系统级别的libSystem，例如libdispatch(GCD)和libsystem_blocks (Block)。\u003C\u002Fp\u003E\n\u003Cp\u003E其实无论对于系统的动态链接库还是对于App本身的可执行文件而言，他们都算是image（镜像），而每个App都是以image(镜像)为单位进行加载的，那么image究竟包括哪些呢？\u003C\u002Fp\u003E\n\u003Ch3 id=\"u4EC0_u4E48_u662Fimage\"\u003E\n    \u003Ca href=\"#u4EC0_u4E48_u662Fimage\" title=\"什么是image\"\u003E\u003C\u002Fa\u003E什么是image\u003C\u002Fh3\u003E\n\u003Cp\u003E1.executable可执行文件 比如.o文件。\u003Cbr\u003E2.dylib 动态链接库 framework就是动态链接库和相应资源包含在一起的一个文件夹结构。\u003Cbr\u003E3.bundle 资源文件 只能用dlopen加载，不推荐使用这种方式加载。\u003C\u002Fp\u003E\n\u003Cp\u003E除了我们App本身的可行性文件，系统中所有的framework比如UIKit、Foundation等都是以动态链接库的方式集成进App中的。\u003C\u002Fp\u003E\n\u003Ch3 id=\"u7CFB_u7EDF_u4F7F_u7528_u52A8_u6001_u94FE_u63A5_u6709_u51E0_u70B9_u597D_u5904_uFF1A\"\u003E\n    \u003Ca href=\"#u7CFB_u7EDF_u4F7F_u7528_u52A8_u6001_u94FE_u63A5_u6709_u51E0_u70B9_u597D_u5904_uFF1A\" title=\"系统使用动态链接有几点好处：\"\u003E\u003C\u002Fa\u003E系统使用动态链接有几点好处：\u003C\u002Fh3\u003E\n\u003Cp\u003E代码共用：很多程序都动态链接了这些 lib，但它们在内存和磁盘中中只有一份。\u003Cbr\u003E易于维护：由于被依赖的 lib 是程序执行时才链接的，所以这些 lib 很容易做更新，比如libSystem.dylib 是 libSystem.B.dylib 的替身，哪天想升级直接换成libSystem.C.dylib 然后再替换替身就行了。\u003Cbr\u003E减少可执行文件体积：相比静态链接，动态链接在编译时不需要打进去，所以可执行文件的体积要小很多。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage0.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F3937edbabd5b4338c5d557f5aa73173c.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E如上图所示，不同进程之间共用系统dylib的\u003Ccode\u003E_TEXT\u003C\u002Fcode\u003E区，但是各自维护对应的\u003Ccode\u003E_DATA\u003C\u002Fcode\u003E区。\u003C\u002Fp\u003E\n\u003Cp\u003E所有动态链接库和我们App中的静态库.a和所有类文件编译后的.o文件最终都是由dyld(the dynamic link editor)，Apple的动态链接器来加载到内存中。每个image都是由一个叫做ImageLoader的类来负责加载（一一对应），那么ImageLoader又是什么呢？\u003C\u002Fp\u003E\n\u003Ch3 id=\"u4EC0_u4E48_u662FImageLoader\"\u003E\n    \u003Ca href=\"#u4EC0_u4E48_u662FImageLoader\" title=\"什么是ImageLoader\"\u003E\u003C\u002Fa\u003E什么是ImageLoader\u003C\u002Fh3\u003E\n\u003Cp\u003Eimage 表示一个二进制文件(可执行文件或 so 文件)，里面是被编译过的符号、代码等，所以 ImageLoader 作用是将这些文件加载进内存，且每一个文件对应一个ImageLoader实例来负责加载。\u003Cbr\u003E两步走：\u003Cbr\u003E在程序运行时它先将动态链接的 image 递归加载 (也就是上面测试栈中一串的递归调用的时刻)。\u003Cbr\u003E再从可执行文件 image 递归加载所有符号。\u003C\u002Fp\u003E\n\u003Cp\u003E当然所有这些都发生在我们真正的main函数执行前。\u003C\u002Fp\u003E\n\u003Ch3 id=\"u52A8_u6001_u94FE_u63A5_u5E93_u52A0_u8F7D_u7684_u5177_u4F53_u6D41_u7A0B\"\u003E\n    \u003Ca href=\"#u52A8_u6001_u94FE_u63A5_u5E93_u52A0_u8F7D_u7684_u5177_u4F53_u6D41_u7A0B\" title=\"动态链接库加载的具体流程\"\u003E\u003C\u002Fa\u003E动态链接库加载的具体流程\u003C\u002Fh3\u003E\n\u003Cp\u003E动态链接库的加载步骤具体分为5步：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003Eload dylibs image 读取库镜像文件\u003C\u002Fli\u003E\n    \u003Cli\u003ERebase image\u003C\u002Fli\u003E\n    \u003Cli\u003EBind image\u003C\u002Fli\u003E\n    \u003Cli\u003EObjc setup\u003C\u002Fli\u003E\n    \u003Cli\u003Einitializers\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch4 id=\"load_dylibs_image\"\u003E\n    \u003Ca href=\"#load_dylibs_image\" title=\"load dylibs image\"\u003E\u003C\u002Fa\u003Eload dylibs image\u003C\u002Fh4\u003E\n\u003Cp\u003E在每个动态库的加载过程中， dyld需要：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E分析所依赖的动态库\u003C\u002Fli\u003E\n    \u003Cli\u003E找到动态库的mach-o文件\u003C\u002Fli\u003E\n    \u003Cli\u003E打开文件\u003C\u002Fli\u003E\n    \u003Cli\u003E验证文件\u003C\u002Fli\u003E\n    \u003Cli\u003E在系统核心注册文件签名\u003C\u002Fli\u003E\n    \u003Cli\u003E对动态库的每一个segment调用mmap()\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E通常的，一个App需要加载100到400个dylibs， 但是其中的系统库被优化，可以很快的加载。\u003Cbr\u003E针对这一步骤的优化有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E减少非系统库的依赖\u003C\u002Fli\u003E\n    \u003Cli\u003E合并非系统库\u003C\u002Fli\u003E\n    \u003Cli\u003E使用静态资源，比如把代码加入主程序\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch4 id=\"rebase\u002Fbind\"\u003E\n    \u003Ca href=\"#rebase\u002Fbind\" title=\"rebase\u002Fbind\"\u003E\u003C\u002Fa\u003Erebase\u002Fbind\u003C\u002Fh4\u003E\n\u003Cp\u003E由于ASLR(address space layout randomization)的存在，可执行文件和动态链接库在虚拟内存中的加载地址每次启动都不固定，所以需要这2步来修复镜像中的资源指针，来指向正确的地址。\u003Cbr\u003Erebase修复的是指向当前镜像内部的资源指针； 而bind指向的是镜像外部的资源指针。\u003Cbr\u003Erebase步骤先进行，需要把镜像读入内存，并以page为单位进行加密验证，保证不会被篡改，所以这一步的瓶颈在IO。bind在其后进行，由于要查询符号表，来指向跨镜像的资源，加上在rebase阶段，镜像已被读入和加密验证，所以这一步的瓶颈在于CPU计算。\u003Cbr\u003E通过命令行可以查看相关的资源指针:\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n    \u003Cp\u003Excrun dyldinfo -rebase -bind -lazy_bind myApp.App\u002FmyApp\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E优化该阶段的关键在于减少__DATA segment中的指针数量。我们可以优化的点有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E减少Objc类数量， 减少selector数量\u003C\u002Fli\u003E\n    \u003Cli\u003E减少C++虚函数数量\u003C\u002Fli\u003E\n    \u003Cli\u003E转而使用swift stuct（其实本质上就是为了减少符号的数量）\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch4 id=\"Objc_setup\"\u003E\n    \u003Ca href=\"#Objc_setup\" title=\"Objc setup\"\u003E\u003C\u002Fa\u003EObjc setup\u003C\u002Fh4\u003E\n\u003Cp\u003E这一步主要工作是:\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E注册Objc类 (class registration)\u003C\u002Fli\u003E\n    \u003Cli\u003E把category的定义插入方法列表 (category registration)\u003C\u002Fli\u003E\n    \u003Cli\u003E保证每一个selector唯一 (selctor uniquing)\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E由于之前2步骤的优化，这一步实际上没有什么可做的。\u003C\u002Fp\u003E\n\u003Ch4 id=\"initializers\"\u003E\n    \u003Ca href=\"#initializers\" title=\"initializers\"\u003E\u003C\u002Fa\u003Einitializers\u003C\u002Fh4\u003E\n\u003Cp\u003E以上三步属于静态调整(fix-up)，都是在修改__DATA segment中的内容，而这里则开始动态调整，开始在堆和堆栈中写入内容。\u003Cbr\u003E在这里的工作有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003EObjc的+load()函数\u003C\u002Fli\u003E\n    \u003Cli\u003EC++的构造函数属性函数 形如\u003Cstrong\u003Eattribute\u003C\u002Fstrong\u003E((constructor)) void DoSomeInitializationWork()\u003C\u002Fli\u003E\n    \u003Cli\u003E非基本类型的C++静态全局变量的创建(通常是类或结构体)(non-trivial initializer) 比如一个全局静态结构体的构建，如果在构造函数中有繁重的工作，那么会拖慢启动速度\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EObjc的load函数和C++的静态构造函数采用由底向上的方式执行，来保证每个执行的方法，都可以找到所依赖的动态库。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage1.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002Fa9bec61f87fb4df2bf09a21ace8b0178.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E上图是在自定义的类XXViewController的+load方法断点的调用堆栈，清楚的看到整个调用栈和顺序：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003Edyld 开始将程序二进制文件初始化\u003C\u002Fli\u003E\n    \u003Cli\u003E交由 ImageLoader 读取 image，其中包含了我们的类、方法等各种符号\u003C\u002Fli\u003E\n    \u003Cli\u003E由于 runtime 向 dyld 绑定了回调，当 image 加载到内存后，dyld 会通知 runtime 进行处理\u003C\u002Fli\u003E\n    \u003Cli\u003Eruntime 接手后调用 map_images 做解析和处理，接下来 load_images 中调用 call_load_methods 方法，遍历所有加载进来的 Class，按继承层级依次调用 Class 的 +load 方法和其 Category 的 +load 方法\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E至此，可执行文件中和动态库所有的符号(Class，Protocol，Selector，IMP，…)都已经按格式成功加载到内存中，被 runtime 所管理，再这之后，runtime 的那些方法(动态添加 Class、swizzle 等等才能生效)。\u003C\u002Fp\u003E\n\u003Cp\u003E整个事件由 dyld 主导，完成运行环境的初始化后，配合 ImageLoader 将二进制文件按格式加载到内存，\u003Cbr\u003E动态链接依赖库，并由 runtime 负责加载成 objc 定义的结构，所有初始化工作结束后，dyld 调用真正的 main 函数。\u003C\u002Fp\u003E\n\u003Cp\u003E如果程序刚刚被运行过，那么程序的代码会被dyld缓存，因此即使杀掉进程再次重启加载时间也会相对快一点，如果长时间没有启动或者当前dyld的缓存已经被其他应用占据，那么这次启动所花费的时间就要长一点，这就分别是热启动和冷启动的概念，如下图所示:\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage2.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002Fed587b97dc9899c8985c73cdecce0071.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Ch3 id=\"main_28_29_u4E4B_u524D_u7684_u52A0_u8F7D_u65F6_u95F4_u5982_u4F55_u8861_u91CF\"\u003E\n    \u003Ca href=\"#main_28_29_u4E4B_u524D_u7684_u52A0_u8F7D_u65F6_u95F4_u5982_u4F55_u8861_u91CF\" title=\"main()之前的加载时间如何衡量\"\u003E\u003C\u002Fa\u003Emain()之前的加载时间如何衡量\u003C\u002Fh3\u003E\n\u003Cp\u003E那么问题就来了，那怎么衡量main()之前也就是time1的耗时呢，苹果官方提供了一种方法，那就是在真机调试的时候勾选dyld_PRINT_STATISTICS选项。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage3.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F78e4e2b58966e482134e48cb6b17fe34.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E会得到如下形式的输出：\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage4.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F3390980746400944bb6859fa3569b005.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E由此可见对于系统级别的动态链接库，因为苹果做了优化，所以耗时并不多，在这个awesome的例子中，自身App中的代码占用了整体时间的94.2%\u003Cbr\u003E我们应用中一次典型的Log如下：\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage5.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F009b013321330010ec3317d23a1517e2.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E由此可见，最多的用时还是在image加载和OC类的初始化，共占用总时长的79.3%，精简framework的引入和OC类有优化的空间。\u003C\u002Fp\u003E\n\u003Cp\u003E总结一下：对于main()调用之前的耗时我们可以优化的点有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E减少不必要的framework，因为动态链接比较耗时\u003C\u002Fli\u003E\n    \u003Cli\u003Echeck framework应当设为optional和required，如果该framework在当前App支持的所有iOS系统版本都存在，那么就设为required，否则就设为optional，因为optional会有些额外的检查\u003C\u002Fli\u003E\n    \u003Cli\u003E合并或者删减一些OC类，关于清理项目中没用到的类，使用工具AppCode代码检查功能，查到当前项目中没有用到的类如下：\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage6_new.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002Fc2fd0fe50c79546e2863f7e0a60e9130.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E删减一些无用的静态变量\u003C\u002Fli\u003E\n    \u003Cli\u003E\n        \u003Cp\u003E删减没有被调用到或者已经废弃的方法\u003C\u002Fp\u003E \u003Cpre\u003E\u003Ccode\u003E方法见：\n\nhttp:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F35233564\u002Fhow-to-find-unused-code-in-xcode-7\nhttps:\u002F\u002Fdeveloper.Apple.com\u002Flibrary\u002Fios\u002Fdocumentation\u002FToolsLanguages\u002FConceptual\u002FXcode_Overview\u002FCheckingCodeCoverage.html\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fli\u003E\n    \u003Cli\u003E\n        \u003Cp\u003E将不必须在+load方法中做的事情延迟到+initialize中\u003C\u002Fp\u003E\n    \u003C\u002Fli\u003E\n    \u003Cli\u003E尽量不要用C++虚函数(创建虚函数表有开销)\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch2 id=\"main_28_29_u8C03_u7528_u4E4B_u540E_u7684_u52A0_u8F7D_u65F6_u95F4\"\u003E\n    \u003Ca href=\"#main_28_29_u8C03_u7528_u4E4B_u540E_u7684_u52A0_u8F7D_u65F6_u95F4\" title=\"main()调用之后的加载时间\"\u003E\u003C\u002Fa\u003Emain()调用之后的加载时间\u003C\u002Fh2\u003E\n\u003Cp\u003E在main()被调用之后，App的主要工作就是初始化必要的服务，显示首页内容等。而我们的优化也是围绕如何能够快速展现首页来开展。\u003Cbr\u003EApp通常在AppDelegate类中的- (BOOL)Application:(UIApplication \u003Cem\u003E)Application didFinishLaunchingWithOptions:(NSDictionary \u003C\u002Fem\u003E)launchOptions方法中创建首页需要展示的view，然后在当前runloop的末尾，主动调用CA::Transaction::commit完成视图的渲染。\u003Cbr\u003E而视图的渲染主要涉及三个阶段：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E准备阶段 这里主要是图片的解码\u003C\u002Fli\u003E\n    \u003Cli\u003E布局阶段 首页所有UIView的- (void)layoutSubViews()运行\u003C\u002Fli\u003E\n    \u003Cli\u003E绘制阶段 首页所有UIView的- (void)drawRect:(CGRect)rect运行\u003Cbr\u003E再加上启动之后必要服务的启动、必要数据的创建和读取，这些就是我们可以尝试优化的地方\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E因此，对于main()函数调用之前我们可以优化的点有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E不使用xib，直接视用代码加载首页视图\u003C\u002Fli\u003E\n    \u003Cli\u003ENSUserDefaults实际上是在Library文件夹下会生产一个plist文件，如果文件太大的话一次能读取到内存中可能很耗时，这个影响需要评估，如果耗时很大的话需要拆分(需考虑老版本覆盖安装兼容问题)\u003C\u002Fli\u003E\n    \u003Cli\u003E每次用NSLog方式打印会隐式的创建一个Calendar，因此需要删减启动时各业务方打的log，或者仅仅针对内测版输出log\u003C\u002Fli\u003E\n    \u003Cli\u003E梳理应用启动时发送的所有网络请求，是否可以统一在异步线程请求\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch1 id=\"u5B9E_u6D4B_u6570_u636E\"\u003E\n    \u003Ca href=\"#u5B9E_u6D4B_u6570_u636E\" title=\"实测数据\"\u003E\u003C\u002Fa\u003E实测数据\u003C\u002Fh1\u003E\n\u003Cp\u003E建立了一个空的HelloWorld工程，只加入了pods中的代码，不包含主端的业务逻辑代码，一次典型的冷启动基本接近2s iPhone6 iOS9.3.5系统测试主要时间在加载动态库，类\u002F方法的初始化还有符号地址绑定阶段。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage7.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F28459cd7d2f42ecc1f2d51a52edea828.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E一次典型的热启动数据如下：可以看到因为系统做了缓存方面的优化，比冷启动快了500ms加上头条主端业务逻辑代码之后一次典型的热启动耗时2.1s。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage8.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002Fca9e075465492c3ac1b6dbdaf4e5a714.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E以上用时均为main()之前的加载耗时。\u003C\u002Fp\u003E\n\u003Ch2 id=\"main_u51FD_u6570_u4E4B_u540E_u52A0_u8F7D_u65F6_u95F4_u4F18_u5316_u8BB0_u5F55\"\u003E\n    \u003Ca href=\"#main_u51FD_u6570_u4E4B_u540E_u52A0_u8F7D_u65F6_u95F4_u4F18_u5316_u8BB0_u5F55\" title=\"main函数之后加载时间优化记录\"\u003E\u003C\u002Fa\u003Emain函数之后加载时间优化记录\u003C\u002Fh2\u003E\n\u003Ch3 id=\"NSUserDefaults_u662F_u5426_u662F_u74F6_u9888\"\u003E\n    \u003Ca href=\"#NSUserDefaults_u662F_u5426_u662F_u74F6_u9888\" title=\"NSUserDefaults是否是瓶颈\"\u003E\u003C\u002Fa\u003ENSUserDefaults是否是瓶颈\u003C\u002Fh3\u003E\n\u003Cp\u003E苹果官方文档提到NSUserDefaults加载的时候是整个plist配置文件全部load到内存中，目前头条主端当中NSUserDefaults存储了200多项缓存数据，因此怀疑可能拖慢启动速度，但是测试结果显示并不会。\u003Cbr\u003E通过符号断点+[NSUserDefaults standardUserDefaults]确定最早一次的+load()从执行到结束耗时1.8ms，可见NSUserDefaults的初始化仅耗时1.8ms，并不是启动耗时的瓶颈。\u003C\u002Fp\u003E\n\u003Ch3 id=\"u5982_u4F55_u627E_u5230_u62D6_u6162_u542F_u52A8_u5E94_u7528_u65F6_u957F_u7684_u74F6_u9888\"\u003E\n    \u003Ca href=\"#u5982_u4F55_u627E_u5230_u62D6_u6162_u542F_u52A8_u5E94_u7528_u65F6_u957F_u7684_u74F6_u9888\" title=\"如何找到拖慢启动应用时长的瓶颈\"\u003E\u003C\u002Fa\u003E如何找到拖慢启动应用时长的瓶颈\u003C\u002Fh3\u003E\n\u003Cp\u003E为了找到瓶颈，我们在启动之后的didFinishLauhcning方法开始执行到首页列表页的NewsListViewController的viewDidAppear方法，几乎每个可能比较耗时的流程进行拆分和统计，得到统计数据之后发现：\u003Cbr\u003E主要耗时在首页UI构造和渲染(storyboard加载，tabBar\u002FtopBar渲染，开屏广告加载\u002Fcell注册\u002F日志模块初始化这几个步骤)。\u003C\u002Fp\u003E\n\u003Ch3 id=\"u5177_u4F53_u4F18_u5316_u70B9\"\u003E\n    \u003Ca href=\"#u5177_u4F53_u4F18_u5316_u70B9\" title=\"具体优化点\"\u003E\u003C\u002Fa\u003E具体优化点\u003C\u002Fh3\u003E\n\u003Cp\u003E因此，针对于今日头条这个App我们可以优化的点如下：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E纯代码方式而不是storyboard加载首页UI。\u003C\u002Fli\u003E\n    \u003Cli\u003E对didFinishLaunching里的函数考虑能否挖掘可以延迟加载或者懒加载，需要与各个业务方pm和rd共同check 对于一些已经下线的业务，删减冗余代码。\u003Cbr\u003E对于一些与UI展示无关的业务，如微博认证过期检查、图片最大缓存空间设置等做延迟加载\u003C\u002Fli\u003E\n    \u003Cli\u003E对实现了+load()方法的类进行分析，尽量将load里的代码延后调用。\u003C\u002Fli\u003E\n    \u003Cli\u003E上面统计数据显示展示feed的导航控制器页面(NewsListViewController)比较耗时，对于viewDidLoad以及viewWillAppear方法中尽量去尝试少做，晚做，不做。\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch3 id=\"u4F18_u5316_u7ED3_u679C\"\u003E\n    \u003Ca href=\"#u4F18_u5316_u7ED3_u679C\" title=\"优化结果\"\u003E\u003C\u002Fa\u003E优化结果\u003C\u002Fh3\u003E\n\u003Cp\u003E之前曾经有一位同事已经做了一定的优化，比如启动之后展示闪屏广告图的同时初始化首页的列表页，当广告展示完成之后列表页也就渲染完成了。经过这一次优化之后的main()之后的启动总时长通过上线之后收集数据的验证达到了预期的效果。\u003C\u002Fp\u003E",ctime:"1486456287",mtime:"1599220195",rtime:"-62135596800",draft_id:f,view_count:7913,collect_count:83,digg_count:290,comment_count:4,hot_index:689,is_hot:d,rank_index:.00000321,status:g,verify_status:g,audit_status:l,mark_content:e,display_count:d,is_markdown:d,app_html_content:e},author_user_info:{user_id:"940837680722589",user_name:"稀土君",company:"稀土",job_title:"最酷的",avatar_large:"https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F46218f0e66a164ea7d3b554b8e411dbd~300x300.image",level:8,description:"挖掘最优质的互联网技术 https:\u002F\u002Fjuejin.cn ，经常搞活动搞抽奖，快关注快关注",followee_count:188,follower_count:84467,post_article_count:2604,digg_article_count:4298,got_digg_count:46718,got_view_count:3930211,post_shortmsg_count:132,digg_shortmsg_count:477,isfollowed:a,favorable_author:g,power:249710,study_point:d,university:{university_id:f,name:e,logo:e},major:{major_id:f,parent_id:f,name:e},student_status:d,select_event_count:d,select_online_course_count:d,identity:d,is_select_annual:b,select_annual_rank:d,annual_list_type:d,extraMap:{},is_logout:d,annual_info:[],account_amount:d,user_growth_info:{user_id:940837680722589,jpower:249710,jscore:3351.3,jpower_level:8,jscore_level:6,jscore_title:"杰出掘友",author_achievement_list:[g,l],vip_level:d,vip_title:e,jscore_next_level_score:7000,jscore_this_level_mini_score:d},is_vip:a,become_author_days:d,collection_set_article_count:d},category:{category_id:"6809635626661445640",category_name:"iOS",category_url:"ios",rank:4,back_ground:"https:\u002F\u002Flc-mhke0kuv.cn-n1.lcfile.com\u002F34589746327a360a.png",icon:"https:\u002F\u002Flc-mhke0kuv.cn-n1.lcfile.com\u002F4a218bdf1f6969fd.png",ctime:1461266350,mtime:1432503174,show_type:3,item_type:l,promote_tag_cap:4,promote_priority:4,id:"6809635626661445640",name:"iOS",title:"iOS",alias:"ios"},tags:[{entriesCount:void 0,subscribed:a,id:"6809640399544516616",tag_id:"6809640399544516616",tag_name:"iOS",color:"#616161",icon:"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F155962881259379c25251a455680e3249366e3a3ac373.jpg~tplv-t2oaga2asx-image.image",back_ground:e,show_navi:g,ctime:1435964171,mtime:1677836082,id_type:9,tag_alias:e,post_article_count:34104,concern_user_count:192615,title:"iOS",tagId:"6809640399544516616",articleCount:34104,subscribersCount:192615,createdAt:c,updatedAt:c}],user_interact:{id:6844903462652609000,omitempty:l,user_id:2894327269039357,is_digg:a,is_follow:a,is_collect:a},org:{org_info:c,org_user:c,is_followed:a},req_id:"20230303190001A996E1231F1B7299C449",status:{push_status:d},author_interact:c,extra:{boost_type:e},title:"今日头条 iOS 客户端启动速度优化",user:{id:"940837680722589",self_description:void 0,followed:a,viewerIsFollowing:void 0,community:void 0,subscribedTagCount:d,wroteBookCount:d,boughtBookCount:d,isBindedPhone:a,level:8,user_id:"940837680722589",user_name:"稀土君",company:"稀土",job_title:"最酷的",avatar_large:"https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F46218f0e66a164ea7d3b554b8e411dbd~300x300.image",description:"挖掘最优质的互联网技术 https:\u002F\u002Fjuejin.cn ，经常搞活动搞抽奖，快关注快关注",followee_count:188,follower_count:84467,post_article_count:2604,digg_article_count:4298,got_digg_count:46718,got_view_count:3930211,post_shortmsg_count:132,digg_shortmsg_count:477,isfollowed:a,favorable_author:g,power:249710,study_point:d,university:{university_id:f,name:e,logo:e},major:{major_id:f,parent_id:f,name:e},student_status:d,select_event_count:d,select_online_course_count:d,identity:d,is_select_annual:b,select_annual_rank:d,annual_list_type:d,extraMap:{},is_logout:d,annual_info:[],account_amount:d,user_growth_info:{user_id:940837680722589,jpower:249710,jscore:3351.3,jpower_level:8,jscore_level:6,jscore_title:"杰出掘友",author_achievement_list:[g,l],vip_level:d,vip_title:e,jscore_next_level_score:7000,jscore_this_level_mini_score:d},is_vip:a,become_author_days:d,collection_set_article_count:d,juejinPower:249710,jobTitle:"最酷的",roles:{isBookAuthor:a,isFavorableAuthor:b,isCobuilder:a,isAdmin:a},username:"稀土君",blogAddress:void 0,selfDescription:"挖掘最优质的互联网技术 https:\u002F\u002Fjuejin.cn ，经常搞活动搞抽奖，快关注快关注",beLikedCount:46718,beReadCount:3930211,followerCount:84467,followingCount:188,collectionCount:d,createdCollectionCount:d,followingCollectionCount:d,postedPostsCount:2604,pinCount:132,likedArticleCount:4298,likedPinCount:477,avatar:"https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F46218f0e66a164ea7d3b554b8e411dbd~300x300.image",latestLoginedInAt:c,createdAt:c,updatedAt:c,phoneNumber:e,titleDescription:e,followeesCount:188,applyEventCount:d,need_lead:d,followTopicCnt:d},viewCount:void 0,commentsCount:4,isEvent:void 0,abstract:"应用启动时间，直接影响用户对一款应用的判断和使用体验。头条主 app 本身就包含非常多并且复杂度高的业务模块（如新闻、视频等），也接入了很多第三方的插件，这势必会拖慢应用的启动时间，本着精益求精的态度和对用户体验的追求，我们希望在业务扩张的同时最大程度的优化启动时间。",latestCommentAt:c,createdAt:new Date(1486456287000),updatedAt:c,isTopicEvent:a,likedCount:290,likeCount:290,content:"\u003Cp\u003E应用启动时间，直接影响用户对一款应用的判断和使用体验。头条主app本身就包含非常多并且复杂度高的业务模块（如新闻、视频等），也接入了很多第三方的插件，这势必会拖慢应用的启动时间，本着精益求精的态度和对用户体验的追求，我们希望在业务扩张的同时最大程度的优化启动时间。\u003Cbr\u003E\n    \u003Ca id=\"more\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Ch1 id=\"u6280_u672F_u8C03_u7814\"\u003E\n    \u003Ca href=\"#u6280_u672F_u8C03_u7814\" title=\"技术调研\"\u003E\u003C\u002Fa\u003E技术调研\u003C\u002Fh1\u003E\n\u003Cp\u003E先说结论，t(App总启动时间) = t1(main()之前的加载时间) + t2(main()之后的加载时间)。\u003Cbr\u003Et1 = 系统dylib(动态链接库)和自身App可执行文件的加载；\u003Cbr\u003Et2 = main方法执行之后到AppDelegate类中的- \u003Ccode\u003E(BOOL)Application:(UIApplication *)Application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\u003C\u002Fcode\u003E方法执行结束前这段时间，主要是构建第一个界面，并完成渲染展示。\u003C\u002Fp\u003E\n\u003Ch2 id=\"main_28_29_u8C03_u7528_u4E4B_u524D_u7684_u52A0_u8F7D_u8FC7_u7A0B\"\u003E\n    \u003Ca href=\"#main_28_29_u8C03_u7528_u4E4B_u524D_u7684_u52A0_u8F7D_u8FC7_u7A0B\" title=\"main()调用之前的加载过程\"\u003E\u003C\u002Fa\u003Emain()调用之前的加载过程\u003C\u002Fh2\u003E\n\u003Cp\u003EApp开始启动后， 系统首先加载可执行文件（自身App的所有.o文件的集合），然后加载动态链接库dyld，dyld是一个专门用来加载动态链接库的库。 执行从dyld开始，dyld从可执行文件的依赖开始, 递归加载所有的依赖动态链接库。\u003Cbr\u003E动态链接库包括：iOS 中用到的所有系统 framework，加载OC runtime方法的libobjc，系统级别的libSystem，例如libdispatch(GCD)和libsystem_blocks (Block)。\u003C\u002Fp\u003E\n\u003Cp\u003E其实无论对于系统的动态链接库还是对于App本身的可执行文件而言，他们都算是image（镜像），而每个App都是以image(镜像)为单位进行加载的，那么image究竟包括哪些呢？\u003C\u002Fp\u003E\n\u003Ch3 id=\"u4EC0_u4E48_u662Fimage\"\u003E\n    \u003Ca href=\"#u4EC0_u4E48_u662Fimage\" title=\"什么是image\"\u003E\u003C\u002Fa\u003E什么是image\u003C\u002Fh3\u003E\n\u003Cp\u003E1.executable可执行文件 比如.o文件。\u003Cbr\u003E2.dylib 动态链接库 framework就是动态链接库和相应资源包含在一起的一个文件夹结构。\u003Cbr\u003E3.bundle 资源文件 只能用dlopen加载，不推荐使用这种方式加载。\u003C\u002Fp\u003E\n\u003Cp\u003E除了我们App本身的可行性文件，系统中所有的framework比如UIKit、Foundation等都是以动态链接库的方式集成进App中的。\u003C\u002Fp\u003E\n\u003Ch3 id=\"u7CFB_u7EDF_u4F7F_u7528_u52A8_u6001_u94FE_u63A5_u6709_u51E0_u70B9_u597D_u5904_uFF1A\"\u003E\n    \u003Ca href=\"#u7CFB_u7EDF_u4F7F_u7528_u52A8_u6001_u94FE_u63A5_u6709_u51E0_u70B9_u597D_u5904_uFF1A\" title=\"系统使用动态链接有几点好处：\"\u003E\u003C\u002Fa\u003E系统使用动态链接有几点好处：\u003C\u002Fh3\u003E\n\u003Cp\u003E代码共用：很多程序都动态链接了这些 lib，但它们在内存和磁盘中中只有一份。\u003Cbr\u003E易于维护：由于被依赖的 lib 是程序执行时才链接的，所以这些 lib 很容易做更新，比如libSystem.dylib 是 libSystem.B.dylib 的替身，哪天想升级直接换成libSystem.C.dylib 然后再替换替身就行了。\u003Cbr\u003E减少可执行文件体积：相比静态链接，动态链接在编译时不需要打进去，所以可执行文件的体积要小很多。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage0.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F3937edbabd5b4338c5d557f5aa73173c.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E如上图所示，不同进程之间共用系统dylib的\u003Ccode\u003E_TEXT\u003C\u002Fcode\u003E区，但是各自维护对应的\u003Ccode\u003E_DATA\u003C\u002Fcode\u003E区。\u003C\u002Fp\u003E\n\u003Cp\u003E所有动态链接库和我们App中的静态库.a和所有类文件编译后的.o文件最终都是由dyld(the dynamic link editor)，Apple的动态链接器来加载到内存中。每个image都是由一个叫做ImageLoader的类来负责加载（一一对应），那么ImageLoader又是什么呢？\u003C\u002Fp\u003E\n\u003Ch3 id=\"u4EC0_u4E48_u662FImageLoader\"\u003E\n    \u003Ca href=\"#u4EC0_u4E48_u662FImageLoader\" title=\"什么是ImageLoader\"\u003E\u003C\u002Fa\u003E什么是ImageLoader\u003C\u002Fh3\u003E\n\u003Cp\u003Eimage 表示一个二进制文件(可执行文件或 so 文件)，里面是被编译过的符号、代码等，所以 ImageLoader 作用是将这些文件加载进内存，且每一个文件对应一个ImageLoader实例来负责加载。\u003Cbr\u003E两步走：\u003Cbr\u003E在程序运行时它先将动态链接的 image 递归加载 (也就是上面测试栈中一串的递归调用的时刻)。\u003Cbr\u003E再从可执行文件 image 递归加载所有符号。\u003C\u002Fp\u003E\n\u003Cp\u003E当然所有这些都发生在我们真正的main函数执行前。\u003C\u002Fp\u003E\n\u003Ch3 id=\"u52A8_u6001_u94FE_u63A5_u5E93_u52A0_u8F7D_u7684_u5177_u4F53_u6D41_u7A0B\"\u003E\n    \u003Ca href=\"#u52A8_u6001_u94FE_u63A5_u5E93_u52A0_u8F7D_u7684_u5177_u4F53_u6D41_u7A0B\" title=\"动态链接库加载的具体流程\"\u003E\u003C\u002Fa\u003E动态链接库加载的具体流程\u003C\u002Fh3\u003E\n\u003Cp\u003E动态链接库的加载步骤具体分为5步：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003Eload dylibs image 读取库镜像文件\u003C\u002Fli\u003E\n    \u003Cli\u003ERebase image\u003C\u002Fli\u003E\n    \u003Cli\u003EBind image\u003C\u002Fli\u003E\n    \u003Cli\u003EObjc setup\u003C\u002Fli\u003E\n    \u003Cli\u003Einitializers\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch4 id=\"load_dylibs_image\"\u003E\n    \u003Ca href=\"#load_dylibs_image\" title=\"load dylibs image\"\u003E\u003C\u002Fa\u003Eload dylibs image\u003C\u002Fh4\u003E\n\u003Cp\u003E在每个动态库的加载过程中， dyld需要：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E分析所依赖的动态库\u003C\u002Fli\u003E\n    \u003Cli\u003E找到动态库的mach-o文件\u003C\u002Fli\u003E\n    \u003Cli\u003E打开文件\u003C\u002Fli\u003E\n    \u003Cli\u003E验证文件\u003C\u002Fli\u003E\n    \u003Cli\u003E在系统核心注册文件签名\u003C\u002Fli\u003E\n    \u003Cli\u003E对动态库的每一个segment调用mmap()\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E通常的，一个App需要加载100到400个dylibs， 但是其中的系统库被优化，可以很快的加载。\u003Cbr\u003E针对这一步骤的优化有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E减少非系统库的依赖\u003C\u002Fli\u003E\n    \u003Cli\u003E合并非系统库\u003C\u002Fli\u003E\n    \u003Cli\u003E使用静态资源，比如把代码加入主程序\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch4 id=\"rebase\u002Fbind\"\u003E\n    \u003Ca href=\"#rebase\u002Fbind\" title=\"rebase\u002Fbind\"\u003E\u003C\u002Fa\u003Erebase\u002Fbind\u003C\u002Fh4\u003E\n\u003Cp\u003E由于ASLR(address space layout randomization)的存在，可执行文件和动态链接库在虚拟内存中的加载地址每次启动都不固定，所以需要这2步来修复镜像中的资源指针，来指向正确的地址。\u003Cbr\u003Erebase修复的是指向当前镜像内部的资源指针； 而bind指向的是镜像外部的资源指针。\u003Cbr\u003Erebase步骤先进行，需要把镜像读入内存，并以page为单位进行加密验证，保证不会被篡改，所以这一步的瓶颈在IO。bind在其后进行，由于要查询符号表，来指向跨镜像的资源，加上在rebase阶段，镜像已被读入和加密验证，所以这一步的瓶颈在于CPU计算。\u003Cbr\u003E通过命令行可以查看相关的资源指针:\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n    \u003Cp\u003Excrun dyldinfo -rebase -bind -lazy_bind myApp.App\u002FmyApp\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E优化该阶段的关键在于减少__DATA segment中的指针数量。我们可以优化的点有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E减少Objc类数量， 减少selector数量\u003C\u002Fli\u003E\n    \u003Cli\u003E减少C++虚函数数量\u003C\u002Fli\u003E\n    \u003Cli\u003E转而使用swift stuct（其实本质上就是为了减少符号的数量）\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch4 id=\"Objc_setup\"\u003E\n    \u003Ca href=\"#Objc_setup\" title=\"Objc setup\"\u003E\u003C\u002Fa\u003EObjc setup\u003C\u002Fh4\u003E\n\u003Cp\u003E这一步主要工作是:\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E注册Objc类 (class registration)\u003C\u002Fli\u003E\n    \u003Cli\u003E把category的定义插入方法列表 (category registration)\u003C\u002Fli\u003E\n    \u003Cli\u003E保证每一个selector唯一 (selctor uniquing)\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E由于之前2步骤的优化，这一步实际上没有什么可做的。\u003C\u002Fp\u003E\n\u003Ch4 id=\"initializers\"\u003E\n    \u003Ca href=\"#initializers\" title=\"initializers\"\u003E\u003C\u002Fa\u003Einitializers\u003C\u002Fh4\u003E\n\u003Cp\u003E以上三步属于静态调整(fix-up)，都是在修改__DATA segment中的内容，而这里则开始动态调整，开始在堆和堆栈中写入内容。\u003Cbr\u003E在这里的工作有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003EObjc的+load()函数\u003C\u002Fli\u003E\n    \u003Cli\u003EC++的构造函数属性函数 形如\u003Cstrong\u003Eattribute\u003C\u002Fstrong\u003E((constructor)) void DoSomeInitializationWork()\u003C\u002Fli\u003E\n    \u003Cli\u003E非基本类型的C++静态全局变量的创建(通常是类或结构体)(non-trivial initializer) 比如一个全局静态结构体的构建，如果在构造函数中有繁重的工作，那么会拖慢启动速度\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EObjc的load函数和C++的静态构造函数采用由底向上的方式执行，来保证每个执行的方法，都可以找到所依赖的动态库。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage1.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002Fa9bec61f87fb4df2bf09a21ace8b0178.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E上图是在自定义的类XXViewController的+load方法断点的调用堆栈，清楚的看到整个调用栈和顺序：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003Edyld 开始将程序二进制文件初始化\u003C\u002Fli\u003E\n    \u003Cli\u003E交由 ImageLoader 读取 image，其中包含了我们的类、方法等各种符号\u003C\u002Fli\u003E\n    \u003Cli\u003E由于 runtime 向 dyld 绑定了回调，当 image 加载到内存后，dyld 会通知 runtime 进行处理\u003C\u002Fli\u003E\n    \u003Cli\u003Eruntime 接手后调用 map_images 做解析和处理，接下来 load_images 中调用 call_load_methods 方法，遍历所有加载进来的 Class，按继承层级依次调用 Class 的 +load 方法和其 Category 的 +load 方法\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E至此，可执行文件中和动态库所有的符号(Class，Protocol，Selector，IMP，…)都已经按格式成功加载到内存中，被 runtime 所管理，再这之后，runtime 的那些方法(动态添加 Class、swizzle 等等才能生效)。\u003C\u002Fp\u003E\n\u003Cp\u003E整个事件由 dyld 主导，完成运行环境的初始化后，配合 ImageLoader 将二进制文件按格式加载到内存，\u003Cbr\u003E动态链接依赖库，并由 runtime 负责加载成 objc 定义的结构，所有初始化工作结束后，dyld 调用真正的 main 函数。\u003C\u002Fp\u003E\n\u003Cp\u003E如果程序刚刚被运行过，那么程序的代码会被dyld缓存，因此即使杀掉进程再次重启加载时间也会相对快一点，如果长时间没有启动或者当前dyld的缓存已经被其他应用占据，那么这次启动所花费的时间就要长一点，这就分别是热启动和冷启动的概念，如下图所示:\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage2.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002Fed587b97dc9899c8985c73cdecce0071.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Ch3 id=\"main_28_29_u4E4B_u524D_u7684_u52A0_u8F7D_u65F6_u95F4_u5982_u4F55_u8861_u91CF\"\u003E\n    \u003Ca href=\"#main_28_29_u4E4B_u524D_u7684_u52A0_u8F7D_u65F6_u95F4_u5982_u4F55_u8861_u91CF\" title=\"main()之前的加载时间如何衡量\"\u003E\u003C\u002Fa\u003Emain()之前的加载时间如何衡量\u003C\u002Fh3\u003E\n\u003Cp\u003E那么问题就来了，那怎么衡量main()之前也就是time1的耗时呢，苹果官方提供了一种方法，那就是在真机调试的时候勾选dyld_PRINT_STATISTICS选项。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage3.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F78e4e2b58966e482134e48cb6b17fe34.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E会得到如下形式的输出：\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage4.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F3390980746400944bb6859fa3569b005.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E由此可见对于系统级别的动态链接库，因为苹果做了优化，所以耗时并不多，在这个awesome的例子中，自身App中的代码占用了整体时间的94.2%\u003Cbr\u003E我们应用中一次典型的Log如下：\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage5.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F009b013321330010ec3317d23a1517e2.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E由此可见，最多的用时还是在image加载和OC类的初始化，共占用总时长的79.3%，精简framework的引入和OC类有优化的空间。\u003C\u002Fp\u003E\n\u003Cp\u003E总结一下：对于main()调用之前的耗时我们可以优化的点有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E减少不必要的framework，因为动态链接比较耗时\u003C\u002Fli\u003E\n    \u003Cli\u003Echeck framework应当设为optional和required，如果该framework在当前App支持的所有iOS系统版本都存在，那么就设为required，否则就设为optional，因为optional会有些额外的检查\u003C\u002Fli\u003E\n    \u003Cli\u003E合并或者删减一些OC类，关于清理项目中没用到的类，使用工具AppCode代码检查功能，查到当前项目中没有用到的类如下：\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage6_new.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002Fc2fd0fe50c79546e2863f7e0a60e9130.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E删减一些无用的静态变量\u003C\u002Fli\u003E\n    \u003Cli\u003E\n        \u003Cp\u003E删减没有被调用到或者已经废弃的方法\u003C\u002Fp\u003E \u003Cpre\u003E\u003Ccode\u003E方法见：\n\nhttp:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F35233564\u002Fhow-to-find-unused-code-in-xcode-7\nhttps:\u002F\u002Fdeveloper.Apple.com\u002Flibrary\u002Fios\u002Fdocumentation\u002FToolsLanguages\u002FConceptual\u002FXcode_Overview\u002FCheckingCodeCoverage.html\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fli\u003E\n    \u003Cli\u003E\n        \u003Cp\u003E将不必须在+load方法中做的事情延迟到+initialize中\u003C\u002Fp\u003E\n    \u003C\u002Fli\u003E\n    \u003Cli\u003E尽量不要用C++虚函数(创建虚函数表有开销)\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch2 id=\"main_28_29_u8C03_u7528_u4E4B_u540E_u7684_u52A0_u8F7D_u65F6_u95F4\"\u003E\n    \u003Ca href=\"#main_28_29_u8C03_u7528_u4E4B_u540E_u7684_u52A0_u8F7D_u65F6_u95F4\" title=\"main()调用之后的加载时间\"\u003E\u003C\u002Fa\u003Emain()调用之后的加载时间\u003C\u002Fh2\u003E\n\u003Cp\u003E在main()被调用之后，App的主要工作就是初始化必要的服务，显示首页内容等。而我们的优化也是围绕如何能够快速展现首页来开展。\u003Cbr\u003EApp通常在AppDelegate类中的- (BOOL)Application:(UIApplication \u003Cem\u003E)Application didFinishLaunchingWithOptions:(NSDictionary \u003C\u002Fem\u003E)launchOptions方法中创建首页需要展示的view，然后在当前runloop的末尾，主动调用CA::Transaction::commit完成视图的渲染。\u003Cbr\u003E而视图的渲染主要涉及三个阶段：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E准备阶段 这里主要是图片的解码\u003C\u002Fli\u003E\n    \u003Cli\u003E布局阶段 首页所有UIView的- (void)layoutSubViews()运行\u003C\u002Fli\u003E\n    \u003Cli\u003E绘制阶段 首页所有UIView的- (void)drawRect:(CGRect)rect运行\u003Cbr\u003E再加上启动之后必要服务的启动、必要数据的创建和读取，这些就是我们可以尝试优化的地方\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E因此，对于main()函数调用之前我们可以优化的点有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E不使用xib，直接视用代码加载首页视图\u003C\u002Fli\u003E\n    \u003Cli\u003ENSUserDefaults实际上是在Library文件夹下会生产一个plist文件，如果文件太大的话一次能读取到内存中可能很耗时，这个影响需要评估，如果耗时很大的话需要拆分(需考虑老版本覆盖安装兼容问题)\u003C\u002Fli\u003E\n    \u003Cli\u003E每次用NSLog方式打印会隐式的创建一个Calendar，因此需要删减启动时各业务方打的log，或者仅仅针对内测版输出log\u003C\u002Fli\u003E\n    \u003Cli\u003E梳理应用启动时发送的所有网络请求，是否可以统一在异步线程请求\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch1 id=\"u5B9E_u6D4B_u6570_u636E\"\u003E\n    \u003Ca href=\"#u5B9E_u6D4B_u6570_u636E\" title=\"实测数据\"\u003E\u003C\u002Fa\u003E实测数据\u003C\u002Fh1\u003E\n\u003Cp\u003E建立了一个空的HelloWorld工程，只加入了pods中的代码，不包含主端的业务逻辑代码，一次典型的冷启动基本接近2s iPhone6 iOS9.3.5系统测试主要时间在加载动态库，类\u002F方法的初始化还有符号地址绑定阶段。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage7.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F28459cd7d2f42ecc1f2d51a52edea828.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E一次典型的热启动数据如下：可以看到因为系统做了缓存方面的优化，比冷启动快了500ms加上头条主端业务逻辑代码之后一次典型的热启动耗时2.1s。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage8.png\" title=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002Fca9e075465492c3ac1b6dbdaf4e5a714.png~tplv-t2oaga2asx-image.image\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E以上用时均为main()之前的加载耗时。\u003C\u002Fp\u003E\n\u003Ch2 id=\"main_u51FD_u6570_u4E4B_u540E_u52A0_u8F7D_u65F6_u95F4_u4F18_u5316_u8BB0_u5F55\"\u003E\n    \u003Ca href=\"#main_u51FD_u6570_u4E4B_u540E_u52A0_u8F7D_u65F6_u95F4_u4F18_u5316_u8BB0_u5F55\" title=\"main函数之后加载时间优化记录\"\u003E\u003C\u002Fa\u003Emain函数之后加载时间优化记录\u003C\u002Fh2\u003E\n\u003Ch3 id=\"NSUserDefaults_u662F_u5426_u662F_u74F6_u9888\"\u003E\n    \u003Ca href=\"#NSUserDefaults_u662F_u5426_u662F_u74F6_u9888\" title=\"NSUserDefaults是否是瓶颈\"\u003E\u003C\u002Fa\u003ENSUserDefaults是否是瓶颈\u003C\u002Fh3\u003E\n\u003Cp\u003E苹果官方文档提到NSUserDefaults加载的时候是整个plist配置文件全部load到内存中，目前头条主端当中NSUserDefaults存储了200多项缓存数据，因此怀疑可能拖慢启动速度，但是测试结果显示并不会。\u003Cbr\u003E通过符号断点+[NSUserDefaults standardUserDefaults]确定最早一次的+load()从执行到结束耗时1.8ms，可见NSUserDefaults的初始化仅耗时1.8ms，并不是启动耗时的瓶颈。\u003C\u002Fp\u003E\n\u003Ch3 id=\"u5982_u4F55_u627E_u5230_u62D6_u6162_u542F_u52A8_u5E94_u7528_u65F6_u957F_u7684_u74F6_u9888\"\u003E\n    \u003Ca href=\"#u5982_u4F55_u627E_u5230_u62D6_u6162_u542F_u52A8_u5E94_u7528_u65F6_u957F_u7684_u74F6_u9888\" title=\"如何找到拖慢启动应用时长的瓶颈\"\u003E\u003C\u002Fa\u003E如何找到拖慢启动应用时长的瓶颈\u003C\u002Fh3\u003E\n\u003Cp\u003E为了找到瓶颈，我们在启动之后的didFinishLauhcning方法开始执行到首页列表页的NewsListViewController的viewDidAppear方法，几乎每个可能比较耗时的流程进行拆分和统计，得到统计数据之后发现：\u003Cbr\u003E主要耗时在首页UI构造和渲染(storyboard加载，tabBar\u002FtopBar渲染，开屏广告加载\u002Fcell注册\u002F日志模块初始化这几个步骤)。\u003C\u002Fp\u003E\n\u003Ch3 id=\"u5177_u4F53_u4F18_u5316_u70B9\"\u003E\n    \u003Ca href=\"#u5177_u4F53_u4F18_u5316_u70B9\" title=\"具体优化点\"\u003E\u003C\u002Fa\u003E具体优化点\u003C\u002Fh3\u003E\n\u003Cp\u003E因此，针对于今日头条这个App我们可以优化的点如下：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E纯代码方式而不是storyboard加载首页UI。\u003C\u002Fli\u003E\n    \u003Cli\u003E对didFinishLaunching里的函数考虑能否挖掘可以延迟加载或者懒加载，需要与各个业务方pm和rd共同check 对于一些已经下线的业务，删减冗余代码。\u003Cbr\u003E对于一些与UI展示无关的业务，如微博认证过期检查、图片最大缓存空间设置等做延迟加载\u003C\u002Fli\u003E\n    \u003Cli\u003E对实现了+load()方法的类进行分析，尽量将load里的代码延后调用。\u003C\u002Fli\u003E\n    \u003Cli\u003E上面统计数据显示展示feed的导航控制器页面(NewsListViewController)比较耗时，对于viewDidLoad以及viewWillAppear方法中尽量去尝试少做，晚做，不做。\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch3 id=\"u4F18_u5316_u7ED3_u679C\"\u003E\n    \u003Ca href=\"#u4F18_u5316_u7ED3_u679C\" title=\"优化结果\"\u003E\u003C\u002Fa\u003E优化结果\u003C\u002Fh3\u003E\n\u003Cp\u003E之前曾经有一位同事已经做了一定的优化，比如启动之后展示闪屏广告图的同时初始化首页的列表页，当广告展示完成之后列表页也就渲染完成了。经过这一次优化之后的main()之后的启动总时长通过上线之后收集数据的验证达到了预期的效果。\u003C\u002Fp\u003E",originalUrl:"http:\u002F\u002Ftechblog.toutiao.com\u002Farchives\u002F2017\u002F01\u002Fiosspeed\u002F",type:"entry",collected:a,viewsCount:7913,username:"稀土君",viewerHasLiked:a,draftId:f,collectionCount:83},entryView:{},author:{id:"940837680722589",self_description:void 0,followed:a,viewerIsFollowing:void 0,community:void 0,subscribedTagCount:d,wroteBookCount:d,boughtBookCount:d,isBindedPhone:a,level:8,user_id:"940837680722589",user_name:"稀土君",company:"稀土",job_title:"最酷的",avatar_large:"https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F46218f0e66a164ea7d3b554b8e411dbd~300x300.image",description:"挖掘最优质的互联网技术 https:\u002F\u002Fjuejin.cn ，经常搞活动搞抽奖，快关注快关注",followee_count:188,follower_count:84467,post_article_count:2604,digg_article_count:4298,got_digg_count:46718,got_view_count:3930211,post_shortmsg_count:132,digg_shortmsg_count:477,isfollowed:a,favorable_author:g,power:249710,study_point:d,university:{university_id:f,name:e,logo:e},major:{major_id:f,parent_id:f,name:e},student_status:d,select_event_count:d,select_online_course_count:d,identity:d,is_select_annual:b,select_annual_rank:d,annual_list_type:d,extraMap:{},is_logout:d,annual_info:[],account_amount:d,user_growth_info:{user_id:940837680722589,jpower:249710,jscore:3351.3,jpower_level:8,jscore_level:6,jscore_title:"杰出掘友",author_achievement_list:[g,l],vip_level:d,vip_title:e,jscore_next_level_score:7000,jscore_this_level_mini_score:d},is_vip:a,become_author_days:d,collection_set_article_count:d,juejinPower:249710,jobTitle:"最酷的",roles:{isBookAuthor:a,isFavorableAuthor:b,isCobuilder:a,isAdmin:a},username:"稀土君",blogAddress:void 0,selfDescription:"挖掘最优质的互联网技术 https:\u002F\u002Fjuejin.cn ，经常搞活动搞抽奖，快关注快关注",beLikedCount:46718,beReadCount:3930211,followerCount:84467,followingCount:188,collectionCount:d,createdCollectionCount:d,followingCollectionCount:d,postedPostsCount:2604,pinCount:132,likedArticleCount:4298,likedPinCount:477,avatar:"https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F46218f0e66a164ea7d3b554b8e411dbd~300x300.image",latestLoginedInAt:c,createdAt:c,updatedAt:c,phoneNumber:e,titleDescription:e,followeesCount:188,applyEventCount:d,need_lead:d,followTopicCnt:d},adEntryList:[],relatedEntryList:[],linkVotingList:[],userAnnuals:[],columnList:[],resultHtml:"\u003Cstyle\u003E.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;margin-bottom:5px}.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{font-size:20px}.markdown-body h2{padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre\u003Ecode{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:\"\"}.markdown-body blockquote\u003Ep{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}\u003C\u002Fstyle\u003E\u003Cp\u003E应用启动时间，直接影响用户对一款应用的判断和使用体验。头条主app本身就包含非常多并且复杂度高的业务模块（如新闻、视频等），也接入了很多第三方的插件，这势必会拖慢应用的启动时间，本着精益求精的态度和对用户体验的追求，我们希望在业务扩张的同时最大程度的优化启动时间。\u003Cbr\u003E\n    \u003Ca id=\"user-content-more\" title=\"\" ref=\"nofollow noopener noreferrer\" href=\"https:\u002F\u002Flink.juejin.cn?target=\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Ch1 id=\"user-content-u6280_u672F_u8C03_u7814\" data-id=\"heading-0\"\u003E\n    \u003Ca href=\"#u6280_u672F_u8C03_u7814\" title=\"#u6280_u672F_u8C03_u7814\"\u003E\u003C\u002Fa\u003E技术调研\u003C\u002Fh1\u003E\n\u003Cp\u003E先说结论，t(App总启动时间) = t1(main()之前的加载时间) + t2(main()之后的加载时间)。\u003Cbr\u003Et1 = 系统dylib(动态链接库)和自身App可执行文件的加载；\u003Cbr\u003Et2 = main方法执行之后到AppDelegate类中的- \u003Ccode\u003E(BOOL)Application:(UIApplication *)Application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\u003C\u002Fcode\u003E方法执行结束前这段时间，主要是构建第一个界面，并完成渲染展示。\u003C\u002Fp\u003E\n\u003Ch2 id=\"user-content-main_28_29_u8C03_u7528_u4E4B_u524D_u7684_u52A0_u8F7D_u8FC7_u7A0B\" data-id=\"heading-1\"\u003E\n    \u003Ca href=\"#main_28_29_u8C03_u7528_u4E4B_u524D_u7684_u52A0_u8F7D_u8FC7_u7A0B\" title=\"#main_28_29_u8C03_u7528_u4E4B_u524D_u7684_u52A0_u8F7D_u8FC7_u7A0B\"\u003E\u003C\u002Fa\u003Emain()调用之前的加载过程\u003C\u002Fh2\u003E\n\u003Cp\u003EApp开始启动后， 系统首先加载可执行文件（自身App的所有.o文件的集合），然后加载动态链接库dyld，dyld是一个专门用来加载动态链接库的库。 执行从dyld开始，dyld从可执行文件的依赖开始, 递归加载所有的依赖动态链接库。\u003Cbr\u003E动态链接库包括：iOS 中用到的所有系统 framework，加载OC runtime方法的libobjc，系统级别的libSystem，例如libdispatch(GCD)和libsystem_blocks (Block)。\u003C\u002Fp\u003E\n\u003Cp\u003E其实无论对于系统的动态链接库还是对于App本身的可执行文件而言，他们都算是image（镜像），而每个App都是以image(镜像)为单位进行加载的，那么image究竟包括哪些呢？\u003C\u002Fp\u003E\n\u003Ch3 id=\"user-content-u4EC0_u4E48_u662Fimage\" data-id=\"heading-2\"\u003E\n    \u003Ca href=\"#u4EC0_u4E48_u662Fimage\" title=\"#u4EC0_u4E48_u662Fimage\"\u003E\u003C\u002Fa\u003E什么是image\u003C\u002Fh3\u003E\n\u003Cp\u003E1.executable可执行文件 比如.o文件。\u003Cbr\u003E2.dylib 动态链接库 framework就是动态链接库和相应资源包含在一起的一个文件夹结构。\u003Cbr\u003E3.bundle 资源文件 只能用dlopen加载，不推荐使用这种方式加载。\u003C\u002Fp\u003E\n\u003Cp\u003E除了我们App本身的可行性文件，系统中所有的framework比如UIKit、Foundation等都是以动态链接库的方式集成进App中的。\u003C\u002Fp\u003E\n\u003Ch3 id=\"user-content-u7CFB_u7EDF_u4F7F_u7528_u52A8_u6001_u94FE_u63A5_u6709_u51E0_u70B9_u597D_u5904_uFF1A\" data-id=\"heading-3\"\u003E\n    \u003Ca href=\"#u7CFB_u7EDF_u4F7F_u7528_u52A8_u6001_u94FE_u63A5_u6709_u51E0_u70B9_u597D_u5904_uFF1A\" title=\"#u7CFB_u7EDF_u4F7F_u7528_u52A8_u6001_u94FE_u63A5_u6709_u51E0_u70B9_u597D_u5904_uFF1A\"\u003E\u003C\u002Fa\u003E系统使用动态链接有几点好处：\u003C\u002Fh3\u003E\n\u003Cp\u003E代码共用：很多程序都动态链接了这些 lib，但它们在内存和磁盘中中只有一份。\u003Cbr\u003E易于维护：由于被依赖的 lib 是程序执行时才链接的，所以这些 lib 很容易做更新，比如libSystem.dylib 是 libSystem.B.dylib 的替身，哪天想升级直接换成libSystem.C.dylib 然后再替换替身就行了。\u003Cbr\u003E减少可执行文件体积：相比静态链接，动态链接在编译时不需要打进去，所以可执行文件的体积要小很多。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage0.png\" title=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage0.png\" target=\"_blank\" ref=\"nofollow noopener noreferrer\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F3937edbabd5b4338c5d557f5aa73173c.png~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E如上图所示，不同进程之间共用系统dylib的\u003Ccode\u003E_TEXT\u003C\u002Fcode\u003E区，但是各自维护对应的\u003Ccode\u003E_DATA\u003C\u002Fcode\u003E区。\u003C\u002Fp\u003E\n\u003Cp\u003E所有动态链接库和我们App中的静态库.a和所有类文件编译后的.o文件最终都是由dyld(the dynamic link editor)，Apple的动态链接器来加载到内存中。每个image都是由一个叫做ImageLoader的类来负责加载（一一对应），那么ImageLoader又是什么呢？\u003C\u002Fp\u003E\n\u003Ch3 id=\"user-content-u4EC0_u4E48_u662FImageLoader\" data-id=\"heading-4\"\u003E\n    \u003Ca href=\"#u4EC0_u4E48_u662FImageLoader\" title=\"#u4EC0_u4E48_u662FImageLoader\"\u003E\u003C\u002Fa\u003E什么是ImageLoader\u003C\u002Fh3\u003E\n\u003Cp\u003Eimage 表示一个二进制文件(可执行文件或 so 文件)，里面是被编译过的符号、代码等，所以 ImageLoader 作用是将这些文件加载进内存，且每一个文件对应一个ImageLoader实例来负责加载。\u003Cbr\u003E两步走：\u003Cbr\u003E在程序运行时它先将动态链接的 image 递归加载 (也就是上面测试栈中一串的递归调用的时刻)。\u003Cbr\u003E再从可执行文件 image 递归加载所有符号。\u003C\u002Fp\u003E\n\u003Cp\u003E当然所有这些都发生在我们真正的main函数执行前。\u003C\u002Fp\u003E\n\u003Ch3 id=\"user-content-u52A8_u6001_u94FE_u63A5_u5E93_u52A0_u8F7D_u7684_u5177_u4F53_u6D41_u7A0B\" data-id=\"heading-5\"\u003E\n    \u003Ca href=\"#u52A8_u6001_u94FE_u63A5_u5E93_u52A0_u8F7D_u7684_u5177_u4F53_u6D41_u7A0B\" title=\"#u52A8_u6001_u94FE_u63A5_u5E93_u52A0_u8F7D_u7684_u5177_u4F53_u6D41_u7A0B\"\u003E\u003C\u002Fa\u003E动态链接库加载的具体流程\u003C\u002Fh3\u003E\n\u003Cp\u003E动态链接库的加载步骤具体分为5步：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003Eload dylibs image 读取库镜像文件\u003C\u002Fli\u003E\n    \u003Cli\u003ERebase image\u003C\u002Fli\u003E\n    \u003Cli\u003EBind image\u003C\u002Fli\u003E\n    \u003Cli\u003EObjc setup\u003C\u002Fli\u003E\n    \u003Cli\u003Einitializers\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch4 id=\"user-content-load_dylibs_image\" data-id=\"heading-6\"\u003E\n    \u003Ca href=\"#load_dylibs_image\" title=\"#load_dylibs_image\"\u003E\u003C\u002Fa\u003Eload dylibs image\u003C\u002Fh4\u003E\n\u003Cp\u003E在每个动态库的加载过程中， dyld需要：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E分析所依赖的动态库\u003C\u002Fli\u003E\n    \u003Cli\u003E找到动态库的mach-o文件\u003C\u002Fli\u003E\n    \u003Cli\u003E打开文件\u003C\u002Fli\u003E\n    \u003Cli\u003E验证文件\u003C\u002Fli\u003E\n    \u003Cli\u003E在系统核心注册文件签名\u003C\u002Fli\u003E\n    \u003Cli\u003E对动态库的每一个segment调用mmap()\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E通常的，一个App需要加载100到400个dylibs， 但是其中的系统库被优化，可以很快的加载。\u003Cbr\u003E针对这一步骤的优化有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E减少非系统库的依赖\u003C\u002Fli\u003E\n    \u003Cli\u003E合并非系统库\u003C\u002Fli\u003E\n    \u003Cli\u003E使用静态资源，比如把代码加入主程序\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch4 id=\"user-content-rebase\u002Fbind\" data-id=\"heading-7\"\u003E\n    \u003Ca href=\"#rebase\u002Fbind\" title=\"#rebase\u002Fbind\"\u003E\u003C\u002Fa\u003Erebase\u002Fbind\u003C\u002Fh4\u003E\n\u003Cp\u003E由于ASLR(address space layout randomization)的存在，可执行文件和动态链接库在虚拟内存中的加载地址每次启动都不固定，所以需要这2步来修复镜像中的资源指针，来指向正确的地址。\u003Cbr\u003Erebase修复的是指向当前镜像内部的资源指针； 而bind指向的是镜像外部的资源指针。\u003Cbr\u003Erebase步骤先进行，需要把镜像读入内存，并以page为单位进行加密验证，保证不会被篡改，所以这一步的瓶颈在IO。bind在其后进行，由于要查询符号表，来指向跨镜像的资源，加上在rebase阶段，镜像已被读入和加密验证，所以这一步的瓶颈在于CPU计算。\u003Cbr\u003E通过命令行可以查看相关的资源指针:\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n    \u003Cp\u003Excrun dyldinfo -rebase -bind -lazy_bind myApp.App\u002FmyApp\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E优化该阶段的关键在于减少__DATA segment中的指针数量。我们可以优化的点有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E减少Objc类数量， 减少selector数量\u003C\u002Fli\u003E\n    \u003Cli\u003E减少C++虚函数数量\u003C\u002Fli\u003E\n    \u003Cli\u003E转而使用swift stuct（其实本质上就是为了减少符号的数量）\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch4 id=\"user-content-Objc_setup\" data-id=\"heading-8\"\u003E\n    \u003Ca href=\"#Objc_setup\" title=\"#Objc_setup\"\u003E\u003C\u002Fa\u003EObjc setup\u003C\u002Fh4\u003E\n\u003Cp\u003E这一步主要工作是:\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E注册Objc类 (class registration)\u003C\u002Fli\u003E\n    \u003Cli\u003E把category的定义插入方法列表 (category registration)\u003C\u002Fli\u003E\n    \u003Cli\u003E保证每一个selector唯一 (selctor uniquing)\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E由于之前2步骤的优化，这一步实际上没有什么可做的。\u003C\u002Fp\u003E\n\u003Ch4 id=\"user-content-initializers\" data-id=\"heading-9\"\u003E\n    \u003Ca href=\"#initializers\" title=\"#initializers\"\u003E\u003C\u002Fa\u003Einitializers\u003C\u002Fh4\u003E\n\u003Cp\u003E以上三步属于静态调整(fix-up)，都是在修改__DATA segment中的内容，而这里则开始动态调整，开始在堆和堆栈中写入内容。\u003Cbr\u003E在这里的工作有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003EObjc的+load()函数\u003C\u002Fli\u003E\n    \u003Cli\u003EC++的构造函数属性函数 形如\u003Cstrong\u003Eattribute\u003C\u002Fstrong\u003E((constructor)) void DoSomeInitializationWork()\u003C\u002Fli\u003E\n    \u003Cli\u003E非基本类型的C++静态全局变量的创建(通常是类或结构体)(non-trivial initializer) 比如一个全局静态结构体的构建，如果在构造函数中有繁重的工作，那么会拖慢启动速度\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EObjc的load函数和C++的静态构造函数采用由底向上的方式执行，来保证每个执行的方法，都可以找到所依赖的动态库。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage1.png\" title=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage1.png\" target=\"_blank\" ref=\"nofollow noopener noreferrer\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002Fa9bec61f87fb4df2bf09a21ace8b0178.png~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E上图是在自定义的类XXViewController的+load方法断点的调用堆栈，清楚的看到整个调用栈和顺序：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003Edyld 开始将程序二进制文件初始化\u003C\u002Fli\u003E\n    \u003Cli\u003E交由 ImageLoader 读取 image，其中包含了我们的类、方法等各种符号\u003C\u002Fli\u003E\n    \u003Cli\u003E由于 runtime 向 dyld 绑定了回调，当 image 加载到内存后，dyld 会通知 runtime 进行处理\u003C\u002Fli\u003E\n    \u003Cli\u003Eruntime 接手后调用 map_images 做解析和处理，接下来 load_images 中调用 call_load_methods 方法，遍历所有加载进来的 Class，按继承层级依次调用 Class 的 +load 方法和其 Category 的 +load 方法\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E至此，可执行文件中和动态库所有的符号(Class，Protocol，Selector，IMP，…)都已经按格式成功加载到内存中，被 runtime 所管理，再这之后，runtime 的那些方法(动态添加 Class、swizzle 等等才能生效)。\u003C\u002Fp\u003E\n\u003Cp\u003E整个事件由 dyld 主导，完成运行环境的初始化后，配合 ImageLoader 将二进制文件按格式加载到内存，\u003Cbr\u003E动态链接依赖库，并由 runtime 负责加载成 objc 定义的结构，所有初始化工作结束后，dyld 调用真正的 main 函数。\u003C\u002Fp\u003E\n\u003Cp\u003E如果程序刚刚被运行过，那么程序的代码会被dyld缓存，因此即使杀掉进程再次重启加载时间也会相对快一点，如果长时间没有启动或者当前dyld的缓存已经被其他应用占据，那么这次启动所花费的时间就要长一点，这就分别是热启动和冷启动的概念，如下图所示:\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage2.png\" title=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage2.png\" target=\"_blank\" ref=\"nofollow noopener noreferrer\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002Fed587b97dc9899c8985c73cdecce0071.png~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Ch3 id=\"user-content-main_28_29_u4E4B_u524D_u7684_u52A0_u8F7D_u65F6_u95F4_u5982_u4F55_u8861_u91CF\" data-id=\"heading-10\"\u003E\n    \u003Ca href=\"#main_28_29_u4E4B_u524D_u7684_u52A0_u8F7D_u65F6_u95F4_u5982_u4F55_u8861_u91CF\" title=\"#main_28_29_u4E4B_u524D_u7684_u52A0_u8F7D_u65F6_u95F4_u5982_u4F55_u8861_u91CF\"\u003E\u003C\u002Fa\u003Emain()之前的加载时间如何衡量\u003C\u002Fh3\u003E\n\u003Cp\u003E那么问题就来了，那怎么衡量main()之前也就是time1的耗时呢，苹果官方提供了一种方法，那就是在真机调试的时候勾选dyld_PRINT_STATISTICS选项。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage3.png\" title=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage3.png\" target=\"_blank\" ref=\"nofollow noopener noreferrer\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F78e4e2b58966e482134e48cb6b17fe34.png~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E会得到如下形式的输出：\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage4.png\" title=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage4.png\" target=\"_blank\" ref=\"nofollow noopener noreferrer\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F3390980746400944bb6859fa3569b005.png~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E由此可见对于系统级别的动态链接库，因为苹果做了优化，所以耗时并不多，在这个awesome的例子中，自身App中的代码占用了整体时间的94.2%\u003Cbr\u003E我们应用中一次典型的Log如下：\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage5.png\" title=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage5.png\" target=\"_blank\" ref=\"nofollow noopener noreferrer\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F009b013321330010ec3317d23a1517e2.png~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E由此可见，最多的用时还是在image加载和OC类的初始化，共占用总时长的79.3%，精简framework的引入和OC类有优化的空间。\u003C\u002Fp\u003E\n\u003Cp\u003E总结一下：对于main()调用之前的耗时我们可以优化的点有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E减少不必要的framework，因为动态链接比较耗时\u003C\u002Fli\u003E\n    \u003Cli\u003Echeck framework应当设为optional和required，如果该framework在当前App支持的所有iOS系统版本都存在，那么就设为required，否则就设为optional，因为optional会有些额外的检查\u003C\u002Fli\u003E\n    \u003Cli\u003E合并或者删减一些OC类，关于清理项目中没用到的类，使用工具AppCode代码检查功能，查到当前项目中没有用到的类如下：\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\n    \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage6_new.png\" title=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage6_new.png\" target=\"_blank\" ref=\"nofollow noopener noreferrer\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002Fc2fd0fe50c79546e2863f7e0a60e9130.png~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E删减一些无用的静态变量\u003C\u002Fli\u003E\n    \u003Cli\u003E\n        \u003Cp\u003E删减没有被调用到或者已经废弃的方法\u003C\u002Fp\u003E \u003Cpre\u003E\u003Ccode class=\"hljs language-ruby copyable\" lang=\"ruby\"\u003E方法见：\n\n\u003Cspan class=\"hljs-symbol\"\u003Ehttp:\u003C\u002Fspan\u003E\u002F\u003Cspan class=\"hljs-regexp\"\u003E\u002Fstackoverflow.com\u002Fquestions\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-regexp\"\u003E\u002F35233564\u002Fhow\u003C\u002Fspan\u003E-to-find-unused-code-\u003Cspan class=\"hljs-keyword\"\u003Ein\u003C\u002Fspan\u003E-xcode-\u003Cspan class=\"hljs-number\"\u003E7\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003Ehttps:\u003C\u002Fspan\u003E\u002F\u003Cspan class=\"hljs-regexp\"\u003E\u002Fdeveloper.Apple.com\u002Flibrary\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-regexp\"\u003E\u002Fios\u002Fdocumentation\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-regexp\"\u003E\u002FToolsLanguages\u002F\u003C\u002Fspan\u003EConceptual\u002FXcode_Overview\u002FCheckingCodeCoverage.html\n\u003Cspan class=\"copy-code-btn\"\u003E复制代码\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fli\u003E\n    \u003Cli\u003E\n        \u003Cp\u003E将不必须在+load方法中做的事情延迟到+initialize中\u003C\u002Fp\u003E\n    \u003C\u002Fli\u003E\n    \u003Cli\u003E尽量不要用C++虚函数(创建虚函数表有开销)\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch2 id=\"user-content-main_28_29_u8C03_u7528_u4E4B_u540E_u7684_u52A0_u8F7D_u65F6_u95F4\" data-id=\"heading-11\"\u003E\n    \u003Ca href=\"#main_28_29_u8C03_u7528_u4E4B_u540E_u7684_u52A0_u8F7D_u65F6_u95F4\" title=\"#main_28_29_u8C03_u7528_u4E4B_u540E_u7684_u52A0_u8F7D_u65F6_u95F4\"\u003E\u003C\u002Fa\u003Emain()调用之后的加载时间\u003C\u002Fh2\u003E\n\u003Cp\u003E在main()被调用之后，App的主要工作就是初始化必要的服务，显示首页内容等。而我们的优化也是围绕如何能够快速展现首页来开展。\u003Cbr\u003EApp通常在AppDelegate类中的- (BOOL)Application:(UIApplication \u003Cem\u003E)Application didFinishLaunchingWithOptions:(NSDictionary \u003C\u002Fem\u003E)launchOptions方法中创建首页需要展示的view，然后在当前runloop的末尾，主动调用CA::Transaction::commit完成视图的渲染。\u003Cbr\u003E而视图的渲染主要涉及三个阶段：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E准备阶段 这里主要是图片的解码\u003C\u002Fli\u003E\n    \u003Cli\u003E布局阶段 首页所有UIView的- (void)layoutSubViews()运行\u003C\u002Fli\u003E\n    \u003Cli\u003E绘制阶段 首页所有UIView的- (void)drawRect:(CGRect)rect运行\u003Cbr\u003E再加上启动之后必要服务的启动、必要数据的创建和读取，这些就是我们可以尝试优化的地方\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E因此，对于main()函数调用之前我们可以优化的点有：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E不使用xib，直接视用代码加载首页视图\u003C\u002Fli\u003E\n    \u003Cli\u003ENSUserDefaults实际上是在Library文件夹下会生产一个plist文件，如果文件太大的话一次能读取到内存中可能很耗时，这个影响需要评估，如果耗时很大的话需要拆分(需考虑老版本覆盖安装兼容问题)\u003C\u002Fli\u003E\n    \u003Cli\u003E每次用NSLog方式打印会隐式的创建一个Calendar，因此需要删减启动时各业务方打的log，或者仅仅针对内测版输出log\u003C\u002Fli\u003E\n    \u003Cli\u003E梳理应用启动时发送的所有网络请求，是否可以统一在异步线程请求\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch1 id=\"user-content-u5B9E_u6D4B_u6570_u636E\" data-id=\"heading-12\"\u003E\n    \u003Ca href=\"#u5B9E_u6D4B_u6570_u636E\" title=\"#u5B9E_u6D4B_u6570_u636E\"\u003E\u003C\u002Fa\u003E实测数据\u003C\u002Fh1\u003E\n\u003Cp\u003E建立了一个空的HelloWorld工程，只加入了pods中的代码，不包含主端的业务逻辑代码，一次典型的冷启动基本接近2s iPhone6 iOS9.3.5系统测试主要时间在加载动态库，类\u002F方法的初始化还有符号地址绑定阶段。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage7.png\" title=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage7.png\" target=\"_blank\" ref=\"nofollow noopener noreferrer\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002F28459cd7d2f42ecc1f2d51a52edea828.png~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E一次典型的热启动数据如下：可以看到因为系统做了缓存方面的优化，比冷启动快了500ms加上头条主端业务逻辑代码之后一次典型的热启动耗时2.1s。\u003C\u002Fp\u003E\n\u003Cp\u003E\n    \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=http%3A%2F%2Fofnft8t2g.bkt.clouddn.com%2Fwikiimage8.png\" title=\"http:\u002F\u002Fofnft8t2g.bkt.clouddn.com\u002Fwikiimage8.png\" target=\"_blank\" ref=\"nofollow noopener noreferrer\"\u003E\u003Cimg src=\"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F2017\u002F2\u002F7\u002Fca9e075465492c3ac1b6dbdaf4e5a714.png~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\n\u003C\u002Fp\u003E\n\u003Cp\u003E以上用时均为main()之前的加载耗时。\u003C\u002Fp\u003E\n\u003Ch2 id=\"user-content-main_u51FD_u6570_u4E4B_u540E_u52A0_u8F7D_u65F6_u95F4_u4F18_u5316_u8BB0_u5F55\" data-id=\"heading-13\"\u003E\n    \u003Ca href=\"#main_u51FD_u6570_u4E4B_u540E_u52A0_u8F7D_u65F6_u95F4_u4F18_u5316_u8BB0_u5F55\" title=\"#main_u51FD_u6570_u4E4B_u540E_u52A0_u8F7D_u65F6_u95F4_u4F18_u5316_u8BB0_u5F55\"\u003E\u003C\u002Fa\u003Emain函数之后加载时间优化记录\u003C\u002Fh2\u003E\n\u003Ch3 id=\"user-content-NSUserDefaults_u662F_u5426_u662F_u74F6_u9888\" data-id=\"heading-14\"\u003E\n    \u003Ca href=\"#NSUserDefaults_u662F_u5426_u662F_u74F6_u9888\" title=\"#NSUserDefaults_u662F_u5426_u662F_u74F6_u9888\"\u003E\u003C\u002Fa\u003ENSUserDefaults是否是瓶颈\u003C\u002Fh3\u003E\n\u003Cp\u003E苹果官方文档提到NSUserDefaults加载的时候是整个plist配置文件全部load到内存中，目前头条主端当中NSUserDefaults存储了200多项缓存数据，因此怀疑可能拖慢启动速度，但是测试结果显示并不会。\u003Cbr\u003E通过符号断点+[NSUserDefaults standardUserDefaults]确定最早一次的+load()从执行到结束耗时1.8ms，可见NSUserDefaults的初始化仅耗时1.8ms，并不是启动耗时的瓶颈。\u003C\u002Fp\u003E\n\u003Ch3 id=\"user-content-u5982_u4F55_u627E_u5230_u62D6_u6162_u542F_u52A8_u5E94_u7528_u65F6_u957F_u7684_u74F6_u9888\" data-id=\"heading-15\"\u003E\n    \u003Ca href=\"#u5982_u4F55_u627E_u5230_u62D6_u6162_u542F_u52A8_u5E94_u7528_u65F6_u957F_u7684_u74F6_u9888\" title=\"#u5982_u4F55_u627E_u5230_u62D6_u6162_u542F_u52A8_u5E94_u7528_u65F6_u957F_u7684_u74F6_u9888\"\u003E\u003C\u002Fa\u003E如何找到拖慢启动应用时长的瓶颈\u003C\u002Fh3\u003E\n\u003Cp\u003E为了找到瓶颈，我们在启动之后的didFinishLauhcning方法开始执行到首页列表页的NewsListViewController的viewDidAppear方法，几乎每个可能比较耗时的流程进行拆分和统计，得到统计数据之后发现：\u003Cbr\u003E主要耗时在首页UI构造和渲染(storyboard加载，tabBar\u002FtopBar渲染，开屏广告加载\u002Fcell注册\u002F日志模块初始化这几个步骤)。\u003C\u002Fp\u003E\n\u003Ch3 id=\"user-content-u5177_u4F53_u4F18_u5316_u70B9\" data-id=\"heading-16\"\u003E\n    \u003Ca href=\"#u5177_u4F53_u4F18_u5316_u70B9\" title=\"#u5177_u4F53_u4F18_u5316_u70B9\"\u003E\u003C\u002Fa\u003E具体优化点\u003C\u002Fh3\u003E\n\u003Cp\u003E因此，针对于今日头条这个App我们可以优化的点如下：\u003C\u002Fp\u003E\n\u003Col\u003E\n    \u003Cli\u003E纯代码方式而不是storyboard加载首页UI。\u003C\u002Fli\u003E\n    \u003Cli\u003E对didFinishLaunching里的函数考虑能否挖掘可以延迟加载或者懒加载，需要与各个业务方pm和rd共同check 对于一些已经下线的业务，删减冗余代码。\u003Cbr\u003E对于一些与UI展示无关的业务，如微博认证过期检查、图片最大缓存空间设置等做延迟加载\u003C\u002Fli\u003E\n    \u003Cli\u003E对实现了+load()方法的类进行分析，尽量将load里的代码延后调用。\u003C\u002Fli\u003E\n    \u003Cli\u003E上面统计数据显示展示feed的导航控制器页面(NewsListViewController)比较耗时，对于viewDidLoad以及viewWillAppear方法中尽量去尝试少做，晚做，不做。\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch3 id=\"user-content-u4F18_u5316_u7ED3_u679C\" data-id=\"heading-17\"\u003E\n    \u003Ca href=\"#u4F18_u5316_u7ED3_u679C\" title=\"#u4F18_u5316_u7ED3_u679C\"\u003E\u003C\u002Fa\u003E优化结果\u003C\u002Fh3\u003E\n\u003Cp\u003E之前曾经有一位同事已经做了一定的优化，比如启动之后展示闪屏广告图的同时初始化首页的列表页，当广告展示完成之后列表页也就渲染完成了。经过这一次优化之后的main()之后的启动总时长通过上线之后收集数据的验证达到了预期的效果。\u003C\u002Fp\u003E",hitArticleCache:b,showSidebar:a,actionType:{FETCH:"view\u002Fcolumn\u002FFETCH",FETCH_ADDITIONAL:"view\u002Fcolumn\u002FFETCH_ADDITIONAL",FETCH_SIDEBAR_ADENTRY:"view\u002Fcolumn\u002FFETCH_SIDEBAR_ADENTRY",FETCH_AUTHOR_EXTRA:"view\u002Fcolumn\u002FFETCH_AUTHOR_EXTRA",RESET:"view\u002Fcolumn\u002FRESET"},recommendedArticleList:{list:[],cursor:f,loading:a,skeleton:a,hasMore:a,articleId:e,actionType:{UPDATE_STATE:"view\u002Fcolumn\u002Frecommend-List\u002FUPDATE_STATE",FETCH_MORE:"view\u002Fcolumn\u002Frecommend-List\u002FFETCH_MORE",FETCH:"view\u002Fcolumn\u002Frecommend-List\u002FFETCH",RESET:"view\u002Fcolumn\u002Frecommend-List\u002FRESET"}}},collection:{collection:{author:{}},actionType:{FETCH:"@\u002Fview\u002Fcollection\u002FFETCH",REFRESH:"@\u002Fview\u002Fcollection\u002FREFRESH",RESET:"@\u002Fview\u002Fcollection\u002FRESET"},list:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fcollection\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002Fcollection\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fcollection\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fcollection\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fcollection\u002Flist\u002FRESET"},id:e,sort:n}},gettingStarted:{category:{},actionType:{UPDATE_STATE:"@\u002Fview\u002FgettingStarted\u002FUPDATE_STATE",FOLLOW:"@\u002Fview\u002FgettingStarted\u002FFOLLOW",RESET:"@\u002Fview\u002FgettingStarted\u002FRESET",UPDATE_CATEGORY:"@\u002Fview\u002FgettingStarted\u002FUPDATE_CATEGORY"}},pin:{pin:{user:{},imageUrlList:[]},pinList:[],actionType:{FETCH:"@\u002Fview\u002Fpin\u002FFETCH",RESET:"@\u002Fview\u002Fpin\u002FRESET"},sidebar:{list:[],after:e,loading:a,isRecommend:a,hasNextPage:b,actionType:{UPDATE_STATE:"@\u002Fview\u002Fpin\u002Fsidebar\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fpin\u002Fsidebar\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Fpin\u002Fsidebar\u002FFETCH",RESET:"@\u002Fview\u002Fpin\u002Fsidebar\u002FRESET"}},commentList:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fpin\u002FcommentList\u002FUPDATE",FETCH:"@\u002Fview\u002Fpin\u002FcommentList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fpin\u002FcommentList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fpin\u002FcommentList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fpin\u002FcommentList\u002FRESET"},pinId:c},subCommentList:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FUPDATE",FETCH:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FRESET"},commentId:c}},topic:{topic:e,followedTopicList:[],actionType:{FETCH:"@\u002Fview\u002Ftopic\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Ftopic\u002FUPDATE_STATE",RESET:"@\u002Fview\u002Ftopic\u002FRESET"},allTopicList:{pageSize:x,page:d,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FRESET"},sortType:m},pinlist:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002FpinList\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002FpinList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002FpinList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002FpinList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002FpinList\u002FRESET"},sortType:p},sidebar:{actionType:{RESET:"@\u002Fview\u002Ftopic\u002Fsidebar\u002FRESET",UPDATE_STATE:"@\u002Fview\u002Ftopic\u002Fsidebar\u002FUPDATE_STATE"},attender:{pageSize:h,page:g,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FRESET"},topicId:c}},followedList:{pageSize:x,page:d,total:d,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:b,canNext:b,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FRESET"},after:d}},recommendationIndex:{actionType:{FETCH_USER:"@\u002Fview\u002Frecommendation\u002FFETCH_USER",FETCH_MORE:"@\u002Fview\u002Frecommendation\u002FFETCH_MORE",RESET:"@\u002Fview\u002Frecommendation\u002FRESET",FETCH:"@\u002Fview\u002Frecommendation\u002FFETCH"},cursor:e,hasMore:e,userList:[],loading:a,skeleton:b,category:k,categoryNavList:[],serverRenderUserList:a},event:{event:{},loading:a,user:{},actionType:{FETCH:"view\u002Fevent\u002FFETCH",RESET:"view\u002Fevent\u002FRESET"}},academyIndex:{academy:{},bannerList:[],qualitiedList:[],latestList:[],offlineList:[],loading:a,user:{},actionType:{FETCH:"view\u002Facademy\u002FFETCH",RESET:"view\u002Facademy\u002FRESET"}},coursesIndex:{loading:a,list:[],sort:"online",actionType:{FETCH:"view\u002Fcourses\u002FFETCH",RESET:"view\u002Fcourses\u002FRESET",FETCH_MORE:"view\u002Fcourses\u002FFETCH_MORE"}},team:{team:{},loading:b,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FFETCH",RESET:"@\u002Fview\u002Fteam\u002FRESET",UPDATE:"@\u002Fview\u002Fteam\u002FUPDATE",FOLLOW:"@\u002Fview\u002Fteam\u002FFOLLOW"},detailList:{actionType:{RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002FRESET"},posts:{list:[],hasMore:a,skeleton:a,loading:a,sort:n,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FRESET"}},pins:{list:[],hasMore:a,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FRESET"}},hire:{list:[],hasMore:a,cursor:f,loading:a,skeleton:b,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FRESET"}}}},couponList:{list:{"0":q,"1":q,"2":q}},payment:{selectedDiscount:{},bookletDetail:{},coupons:{availables:[],unavailables:[]},discountList:[]},activityVip:{selectedVipSku:{}}},component:{indexAside:{bannerList:[],userList:[],actionType:{FETCH_BANNER:"@\u002Fcomponent\u002Faside\u002FFETCH_BANNER",FETCH_USER:"@\u002Fcomponent\u002Faside\u002FFETCH_USER",CLOSE_BANNER:"@\u002Fcomponent\u002Faside\u002FCLOSE_BANNER"}}},ore:{oreCount:d},avatarMenuInfo:{},common:{theme:"light"},env:{ua:"Mozilla\u002F5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit\u002F537.36 (KHTML, like Gecko) Chrome\u002F110.0.0.0 Safari\u002F537.36",serverEnv:"production"},auth:{user:{id:"2894327269039357",self_description:void 0,followed:a,viewerIsFollowing:void 0,community:void 0,subscribedTagCount:12,wroteBookCount:d,boughtBookCount:d,isBindedPhone:g,level:d,user_id:"2894327269039357",user_name:"Leon0206",company:"网易云音乐",job_title:"iOS开发工程师",avatar_large:"https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fmosaic-legacy\u002F3795\u002F3044413937~300x300.image",power:d,phone:"17*****0590",email:e,allow_notification:a,rank_index:d,wallet_total_bill:d,description:e,blog_address:e,is_black:a,editor_type:e,register_time:1627475051,update_time:-62135596800,administrator:d,builder:d,favorable_author:d,book_author:d,phone_verified:g,wechat_verified:d,weibo_verified:d,github_verified:d,followee_count:4,follower_count:d,post_article_count:d,digg_article_count:d,view_article_count:79,subscribe_tag_count:12,got_digg_count:d,got_view_count:d,comment_count:d,collect_set_count:g,booklet_count:d,buy_booklet_count:d,post_shortmsg_count:d,comment_shortmsg_count:d,digg_shortmsg_count:d,ltime:d,isfollowed:a,forbidden_words:d,create_collect_set_count:g,follow_collect_set_count:d,weibo_nickname:e,wechat_nickname:e,github_nickname:e,apply_logout:d,is_logout:d,weibo_id:e,is_new:a,study_point:d,university:{university_id:f,name:e,logo:e},major:{major_id:f,parent_id:f,name:e},student_status:d,select_event_count:d,select_online_course_count:d,identity:d,graduated_at:-62135596800,blog_move_priority:a,tech_team:{org_id:f,org_name:e,org_icon:e,role:d},job_count:d,is_select_annual:a,select_annual_rank:d,annual_list_type:d,digg_news_count:d,news_privilege:d,digg_toutiao_count:d,follow_column_cnt:g,can_tag_cnt:g,need_lead:d,follow_topic_count:d,badges:{wear_badges:c,obtain_badges:c,obtain_count:d,show_badge:a,link_url:e},is_collect_fast:a,user_growth_info:{user_id:2894327269039357,jpower:d,jscore:35,jpower_level:d,jscore_level:3,jscore_title:"新星掘友",author_achievement_list:[],vip_level:d,vip_title:e,jscore_next_level_score:150,jscore_this_level_mini_score:30},is_vip:a,collection_set_article_count:d,juejinPower:d,jobTitle:"iOS开发工程师",roles:{isBookAuthor:a,isFavorableAuthor:a,isCobuilder:a,isAdmin:a},username:"Leon0206",blogAddress:e,selfDescription:e,beLikedCount:d,beReadCount:d,followerCount:d,followingCount:4,collectionCount:g,createdCollectionCount:g,followingCollectionCount:d,postedPostsCount:d,pinCount:d,likedArticleCount:d,likedPinCount:d,avatar:"https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fmosaic-legacy\u002F3795\u002F3044413937~300x300.image",latestLoginedInAt:c,createdAt:new Date(1627475051000),updatedAt:c,phoneNumber:"17*****0590",titleDescription:e,followeesCount:4,applyEventCount:d,followTopicCnt:d},clientId:e,token:e,qrCode:c,qrCodeStatus:c,qrCodeToken:c},tag:{subscribedTagList:[]},entry:{isLikeLoading:a},collection:{},comment:{},bookComment:{},repoComment:{},category:{list:[]},user:{subscribedTagList:[]},notification:{unreadCount:{user:d,system:d,total:d}},follow:{subscribedTagList:[]},error:{location:c,errorView:c,statusCode:200,needRiskModal:a,riskAppealUrl:e},abTest:{info:{}},suspensionPanel:{needSuspension:b},pinComment:{},pin:{deleteDialogVisible:a,reportDialogVisible:a,targetPin:c,isOnFocus:a},topic:{visible:a},activity:{"2020":{},offer:{is_show:d,start_time:d},voteData:{err_no:d,err_msg:"success",data:{face:{title:e,activity_id:"5",start_time:y,end_time:1675699200,status:l,image:"https:\u002F\u002Fp6-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fd9c6d6b34c8045e993f2f607a660dd43~tplv-k3u1fbpfcp-zoom-1.image",close_image:"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F882fc263e36347ffbf6d598de520870e~tplv-k3u1fbpfcp-image.image",url:"https:\u002F\u002Fjuejin.cn\u002Fpin\u002F7195849498253770808?utm_source=popup&utm_medium=jjapp&utm_campaign=xcyxj",is_show:d},top:{title:r,activity_id:j,start_time:s,end_time:t,status:g,image:"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F9563d620af3b48a791f77019c948f064~tplv-k3u1fbpfcp-zoom-1.image",close_image:"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Ff49fe994db7b4af7846259d97610bec0~tplv-k3u1fbpfcp-zoom-1.image",url:"https:\u002F\u002Fjuejin.cn\u002Fvip?utm_source=app_top",is_show:g},web_top:{title:r,activity_id:j,start_time:s,end_time:t,status:g,image:z,close_image:"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F19e7f58eecbd497c92397344e1d489a6~tplv-k3u1fbpfcp-zoom-1.image",url:"https:\u002F\u002Fjuejin.cn\u002Fvip?utm_source=web_nav",is_show:g},plugin_top:{title:r,activity_id:j,start_time:s,end_time:t,status:g,image:z,close_image:u,url:"https:\u002F\u002Fjuejin.cn\u002Fvip?utm_source=gold_browser_extension",is_show:g},search_top:{title:A,activity_id:j,start_time:B,end_time:1675612799,status:l,image:C,close_image:D,url:E,is_show:d},web_search:{title:A,activity_id:j,start_time:B,end_time:y,status:l,image:C,close_image:D,url:E,is_show:d},jcode_top:{title:"码上掘金编程挑战赛",activity_id:j,start_time:1670846400,end_time:1671983999,status:l,image:u,close_image:u,url:"https:\u002F\u002Fjuejin.cn\u002Fchallenge?utm_source=code_nav",is_show:d},offer:{title:e,activity_id:"2020",start_time:1617638400,end_time:1618934400,status:l,image:"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F2879410508de459c91ae8b7509ca75f8~tplv-k3u1fbpfcp-zoom-1.image",close_image:"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fa38d640009e14c87a7d29cd95dee27dd~tplv-k3u1fbpfcp-zoom-1.image",url:"https:\u002F\u002Fjuejin-activity.bytedance.net\u002Frank",is_show:d}}}},header:{leadStep:d,isPopupZlink:a},tcc:{tccConfig:c},route:{name:"column",path:v,hash:e,query:{},params:{id:w},fullPath:v,meta:{},from:{name:c,path:F,hash:e,query:{},params:{},fullPath:F,meta:{}}}},serverRendered:b,routePath:v,config:{API_HOST:"api.juejin.cn",CAPTCHA_HOST:"verify.snssdk.com",PLATFORM_APPID:{wechat:1277,weibo:1276,github:1045,wechatApp:1070},SCM_VERSION:"1.0.0.6544",http:{}},globalRefs:{}}}(false,true,null,0,"","0",1,20,"topic","2022","recommended",2,"hot","newest","following","popular",{},"掘金会员",1673020800,1680278400,"https:\u002F\u002Fp6-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F759e2aa805c0461b840e0f0f09ed05fa~tplv-k3u1fbpfcp-zoom-1.image?","\u002Fpost\u002F6844903462652608520","6844903462652608520",100,1675612800,"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F7482b3ad2cd14edda31f05399c2ae759~tplv-k3u1fbpfcp-zoom-1.image","开启我的2022年度报告",1672797600,"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F8a41831fce8b4c838f1807b2c86aea06~tplv-k3u1fbpfcp-zoom-1.image","https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fe5199830276c4a85bc7c8cb8edecd54d~tplv-k3u1fbpfcp-image.image","https:\u002F\u002Fjuejin.cn\u002Freport2022\u002Fmobile?utm_source=search","\u002F"));</script><script src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/6ccc1bf.js" defer=""></script><script src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/c68ae6a.js" defer=""></script><script src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/607e9aa.js" defer=""></script><script src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/fe8610f.js" defer=""></script><script src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/37aab1f.js" defer=""></script><script src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/83d184c.js" defer=""></script><script src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/6a0af43.js" defer=""></script><script src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/6e787e2.js" defer=""></script>
  

<link href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/52.39cb9d6.css" rel="stylesheet" type="text/css"><link href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/4.4ebc7e8.css" rel="stylesheet" type="text/css"><link href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/default.c3d25dd.css" rel="stylesheet" type="text/css"><div data-v-47b82694="" data-v-1b688d7c="" data-transfer="true" class="collection-list-modal byte-modal v-transfer-dom"><div class="byte-modal__mask" style="z-index: 1000; display: none;"></div><div class="byte-modal__wrapper" style="z-index: 1000; display: none;"><div class="byte-modal__content" style="width: 520px;"><!----><div class="byte-modal__body"></div><!----></div></div></div><div data-v-47b82694="" data-v-fe76cb40="" data-transfer="true" class="collection-list-modal byte-modal v-transfer-dom"><div class="byte-modal__mask" style="z-index: 1001; display: none;"></div><div class="byte-modal__wrapper" style="z-index: 1001; display: none;"><div class="byte-modal__content" style="width: 520px;"><!----><div class="byte-modal__body"></div><!----></div></div></div><link href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/198.adcadde.css" rel="stylesheet" type="text/css"><div data-transfer="true" class="risk-modal byte-modal v-transfer-dom" align-center=""><div class="byte-modal__mask" style="z-index: 1002; display: none;"></div><div class="byte-modal__wrapper" style="z-index: 1002; display: none;"><div class="byte-modal__content" style="width: 350px;"><!----><div class="byte-modal__body"><div class="risk-modal-inner"><div class="risk-modal-title">温馨提示</div> <div>当前操作失败，如有疑问，可点击申诉</div> <div class="risk-modal-footer"><button type="button" class="cancel-button risk-button byte-btn byte-btn--default byte-btn--large"><!----><!----><span><span>前往申诉</span></span></button> <button type="button" class="risk-button byte-btn byte-btn--primary byte-btn--large"><!----><!----><span><span>我知道了</span></span></button></div></div></div><!----></div></div></div><div class="byte-tooltip byte-tooltip--dark" style="display: none; position: absolute; max-width: none; will-change: transform; z-index: 1003; top: 0px; left: 0px; transform: translate3d(87px, 2222px, 0px);" x-placement="top">
        沉浸阅读
      <div x-arrow="" class="popper__arrow" style="left: 0px;"></div></div><link href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/139.9ccface.css" rel="stylesheet" type="text/css"><link href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/181.1b801b1.css" rel="stylesheet" type="text/css"><link href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/192.1dc0908.css" rel="stylesheet" type="text/css"><link href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/158.cb7fed2.css" rel="stylesheet" type="text/css"><div data-v-41eefe39="" data-transfer="true" class="lead byte-modal v-transfer-dom"><div class="byte-modal__mask" style="z-index: 1004; display: none;"></div><div class="byte-modal__wrapper" style="z-index: 1004; display: none;"><div class="byte-modal__content" style="width: 500px;"><div class="byte-modal__header"><img data-v-41eefe39="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/MaskGroup.13dfc4f.png" alt="" loading="lazy" class="header-bgc"> <span data-v-41eefe39="" class="header-title">选择你感兴趣的技术方向</span><span aria-label="Close" class="byte-modal__headerbtn"><i class="byte-icon byte-icon--close"><svg t="1561638608887" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="441911" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M512 448l288-288c6.4-6.4 19.2-6.4 32 0l25.6 32c6.4 6.4 6.4 19.2 0 32L569.6 505.6l288 288c6.4 6.4 6.4 19.2 0 32l-32 32c-6.4 6.4-19.2 6.4-32 0L512 569.6l-288 288c-6.4 6.4-19.2 6.4-32 0l-32-32c-6.4-6.4-6.4-19.2 0-32L448 505.6 160 224c-6.4-12.8-6.4-25.6 0-32l32-32c6.4-6.4 19.2-6.4 32 0L512 448z" p-id="441912"></path><path d="M512 448l288-288c6.4-6.4 19.2-6.4 32 0l25.6 32c6.4 6.4 6.4 19.2 0 32L569.6 505.6l288 288c6.4 6.4 6.4 19.2 0 32l-32 32c-6.4 6.4-19.2 6.4-32 0L512 569.6l-288 288c-6.4 6.4-19.2 6.4-32 0l-32-32c-6.4-6.4-6.4-19.2 0-32L448 505.6 160 224c-6.4-12.8-6.4-25.6 0-32l32-32c6.4-6.4 19.2-6.4 32 0L512 448z" p-id="441913"></path></svg></i></span></div><div class="byte-modal__body"> <div data-v-41eefe39="" class="classify-box"><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M2 2.5C1.44772 2.5 1 2.94772 1 3.5V11.5C1 12.0523 1.44772 12.5 2 12.5H14C14.5523 12.5 15 12.0523 15 11.5V3.5C15 2.94772 14.5523 2.5 14 2.5H2ZM4.5 7.5C4.22386 7.5 4 7.72386 4 8V10C4 10.2761 4.22386 10.5 4.5 10.5H5C5.27614 10.5 5.5 10.2761 5.5 10V8C5.5 7.72386 5.27614 7.5 5 7.5H4.5ZM7 5.5C7 5.22386 7.22386 5 7.5 5H8C8.27614 5 8.5 5.22386 8.5 5.5V10C8.5 10.2761 8.27614 10.5 8 10.5H7.5C7.22386 10.5 7 10.2761 7 10V5.5ZM10.5 6.5C10.2239 6.5 10 6.72386 10 7V10C10 10.2761 10.2239 10.5 10.5 10.5H11C11.2761 10.5 11.5 10.2761 11.5 10V7C11.5 6.72386 11.2761 6.5 11 6.5H10.5Z" fill="#86909C"></path><rect data-v-41eefe39="" id="Rectangle 282" x="3" y="13.5" width="10" height="1.3" rx="0.5" fill="#86909C"></rect></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              后端
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M2 2.5C1.44772 2.5 1 2.94772 1 3.5V6.5H15V3.5C15 2.94772 14.5523 2.5 14 2.5H2ZM15 7.8H1V13.5C1 14.0523 1.44772 14.5 2 14.5H14C14.5523 14.5 15 14.0523 15 13.5V7.8ZM8.65811 8.52566C8.92009 8.61298 9.06167 8.89614 8.97434 9.15811L7.97434 12.1581C7.88702 12.4201 7.60386 12.5617 7.34189 12.4743C7.07991 12.387 6.93833 12.1039 7.02566 11.8419L8.02566 8.84189C8.11298 8.57991 8.39614 8.43833 8.65811 8.52566ZM3.5 5.5C3.77614 5.5 4 5.27614 4 5C4 4.72386 3.77614 4.5 3.5 4.5C3.22386 4.5 3 4.72386 3 5C3 5.27614 3.22386 5.5 3.5 5.5ZM5.5 5C5.5 5.27614 5.27614 5.5 5 5.5C4.72386 5.5 4.5 5.27614 4.5 5C4.5 4.72386 4.72386 4.5 5 4.5C5.27614 4.5 5.5 4.72386 5.5 5ZM6.5 5.5C6.77614 5.5 7 5.27614 7 5C7 4.72386 6.77614 4.5 6.5 4.5C6.22386 4.5 6 4.72386 6 5C6 5.27614 6.22386 5.5 6.5 5.5ZM6.44721 9.27639C6.57071 9.52338 6.4706 9.82372 6.22361 9.94721L5.11803 10.5L6.22361 11.0528C6.4706 11.1763 6.57071 11.4766 6.44721 11.7236C6.32372 11.9706 6.02338 12.0707 5.77639 11.9472L3.77639 10.9472C3.607 10.8625 3.5 10.6894 3.5 10.5C3.5 10.3106 3.607 10.1375 3.77639 10.0528L5.77639 9.05279C6.02338 8.92929 6.32372 9.0294 6.44721 9.27639ZM9.77639 9.94721C9.5294 9.82372 9.42929 9.52338 9.55279 9.27639C9.67628 9.0294 9.97662 8.92929 10.2236 9.05279L12.2236 10.0528C12.393 10.1375 12.5 10.3106 12.5 10.5C12.5 10.6894 12.393 10.8625 12.2236 10.9472L10.2236 11.9472C9.97662 12.0707 9.67628 11.9706 9.55279 11.7236C9.42929 11.4766 9.5294 11.1763 9.77639 11.0528L10.882 10.5L9.77639 9.94721Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              前端
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><rect data-v-41eefe39="" id="Rectangle 287" x="5.7002" y="12.5" width="1.3" height="3" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 289" x="1" y="6.5" width="1.3" height="6" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 290" x="13.7002" y="6.5" width="1.3" height="6" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 288" x="9" y="12.5" width="1.3" height="3" rx="0.5" fill="#86909C"></rect><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M13 5.86364V12.5C13 13.0523 12.5523 13.5 12 13.5H4C3.44772 13.5 3 13.0523 3 12.5V5.86364V5.77273C3 5.74067 3.00151 5.70897 3.00446 5.67768C3.11608 3.35397 5.30996 1.5 8 1.5C10.69 1.5 12.8839 3.35397 12.9955 5.67768C12.9985 5.70897 13 5.74067 13 5.77273V5.86364ZM7 6.25C7 6.66421 6.66421 7 6.25 7C5.83579 7 5.5 6.66421 5.5 6.25C5.5 5.83579 5.83579 5.5 6.25 5.5C6.66421 5.5 7 5.83579 7 6.25ZM9.75 7C10.1642 7 10.5 6.66421 10.5 6.25C10.5 5.83579 10.1642 5.5 9.75 5.5C9.33579 5.5 9 5.83579 9 6.25C9 6.66421 9.33579 7 9.75 7Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              Android
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39=""><g data-v-41eefe39="" id="pingguo-2 1"><path data-v-41eefe39="" id="Vector" d="M11.821 8.9388C11.8035 7.16562 13.267 6.31556 13.3322 6.27312C12.5097 5.06956 11.2287 4.90506 10.7724 4.88581C9.6821 4.77556 8.64523 5.52763 8.09179 5.52763C7.5401 5.52763 6.6861 4.902 5.78179 4.91863C4.59354 4.93613 3.49761 5.60944 2.88598 6.67387C1.65136 8.8163 2.56967 11.9899 3.77323 13.7277C4.36123 14.5782 5.06254 15.5332 5.98304 15.4991C6.86942 15.4637 7.20498 14.9255 8.27642 14.9255C9.34785 14.9255 9.64929 15.4991 10.5877 15.4816C11.5415 15.4637 12.1461 14.6149 12.7302 13.7618C13.4052 12.7752 13.6835 11.8197 13.6997 11.7707C13.6787 11.7611 11.8394 11.0567 11.821 8.9388ZM10.0584 3.73563C10.547 3.14281 10.8769 2.32031 10.7868 1.5C10.0829 1.52888 9.22973 1.969 8.72485 2.56006C8.2716 3.08463 7.87523 3.922 7.98154 4.72613C8.76729 4.78737 9.56923 4.32669 10.0584 3.73563Z" fill="#86909C"></path></g></g><defs data-v-41eefe39=""></defs></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              iOS
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><rect data-v-41eefe39="" id="Rectangle 289" x="1" y="8.5" width="1.3" height="5" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 292" x="14" y="8.5" width="1.3" height="5" rx="0.5" fill="#86909C"></rect><rect data-v-41eefe39="" id="Rectangle 293" x="7.5" y="4.5" width="1" height="3" rx="0.5" fill="#86909C"></rect><circle data-v-41eefe39="" id="Ellipse 25" cx="8" cy="2.5" r="1" fill="#86909C"></circle><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M3 7.5C3 6.94772 3.44772 6.5 4 6.5H12C12.5523 6.5 13 6.94772 13 7.5V14.5C13 15.0523 12.5523 15.5 12 15.5H4C3.44772 15.5 3 15.0523 3 14.5V7.5ZM7 11.25C7 11.6642 6.66421 12 6.25 12C5.83579 12 5.5 11.6642 5.5 11.25C5.5 10.8358 5.83579 10.5 6.25 10.5C6.66421 10.5 7 10.8358 7 11.25ZM9.75 12C10.1642 12 10.5 11.6642 10.5 11.25C10.5 10.8358 10.1642 10.5 9.75 10.5C9.33579 10.5 9 10.8358 9 11.25C9 11.6642 9.33579 12 9.75 12Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              人工智能
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><g data-v-41eefe39="" id="kaifagongjuicon-hui 1"><path data-v-41eefe39="" id="Vector" d="M14.212 5.04986L13.497 5.76886C13.3158 5.95088 13.1005 6.09531 12.8633 6.19386C12.6261 6.29242 12.3718 6.34315 12.115 6.34315C11.8582 6.34315 11.6039 6.29242 11.3667 6.19386C11.1295 6.09531 10.9142 5.95088 10.733 5.76886C10.3664 5.39915 10.1606 4.89955 10.1606 4.37886C10.1606 3.85817 10.3664 3.35857 10.733 2.98886L11.448 2.26986C11.843 1.87286 11.579 1.40486 10.868 1.51686C10.028 1.64786 9.262 2.07586 8.709 2.72286C8.005 3.41786 7.682 4.66486 7.922 5.81786L1.927 11.8469C1.56096 12.2165 1.35562 12.7157 1.35562 13.2359C1.35562 13.7561 1.56096 14.2552 1.927 14.6249C2.10804 14.807 2.32329 14.9515 2.56038 15.0501C2.79747 15.1487 3.05172 15.1995 3.3085 15.1995C3.56528 15.1995 3.81953 15.1487 4.05662 15.0501C4.29371 14.9515 4.50896 14.807 4.69 14.6249L10.686 8.59486C11.2693 8.7189 11.8745 8.69473 12.446 8.52459C13.0176 8.35444 13.5375 8.04373 13.958 7.62086C14.5581 7.01861 14.9243 6.22244 14.991 5.37486C15.071 4.91886 14.607 4.65286 14.212 5.04986ZM3.768 13.6979C3.67659 13.7885 3.56041 13.85 3.4341 13.8747C3.30779 13.8994 3.17699 13.8861 3.05819 13.8366C2.93939 13.7871 2.8379 13.7036 2.76651 13.5965C2.69511 13.4894 2.65701 13.3636 2.657 13.2349C2.65647 13.0618 2.72462 12.8957 2.84649 12.7729C2.96836 12.6501 3.13399 12.5807 3.307 12.5799C3.487 12.5799 3.651 12.6529 3.768 12.7719C3.888 12.8889 3.96 13.0539 3.96 13.2349C3.9604 13.3209 3.94363 13.4062 3.91066 13.4857C3.87769 13.5652 3.82919 13.6373 3.768 13.6979ZM3.118 5.16786L5.377 7.43986L6.297 6.51286L4.04 4.24286L3.535 3.27086L1.92 2.11186L1 3.03986L2.151 4.66086L3.118 5.16786ZM10.672 9.98586C10.642 9.95526 10.6062 9.93095 10.5667 9.91436C10.5272 9.89776 10.4848 9.88921 10.442 9.88921C10.3992 9.88921 10.3568 9.89776 10.3173 9.91436C10.2778 9.93095 10.242 9.95526 10.212 9.98586L8.83 11.3759C8.79955 11.4062 8.7754 11.4423 8.75891 11.482C8.74243 11.5218 8.73395 11.5644 8.73395 11.6074C8.73395 11.6504 8.74243 11.693 8.75891 11.7327C8.7754 11.7724 8.79955 11.8085 8.83 11.8389L12.09 15.1169C12.2106 15.2383 12.3541 15.3348 12.5122 15.4006C12.6703 15.4663 12.8398 15.5002 13.011 15.5002C13.1822 15.5002 13.3517 15.4663 13.5098 15.4006C13.6679 15.3348 13.8114 15.2383 13.932 15.1169C14.442 14.6049 14.442 13.7769 13.932 13.2639L10.672 9.98586Z" fill="#86909C"></path></g></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              开发工具
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M1 2.5C1 1.94772 1.44772 1.5 2 1.5H14C14.5523 1.5 15 1.94772 15 2.5V14.5C15 15.0523 14.5523 15.5 14 15.5H2C1.44772 15.5 1 15.0523 1 14.5V2.5ZM3 5C3 4.72386 3.22386 4.5 3.5 4.5H12.5C12.7761 4.5 13 4.72386 13 5V5.3C13 5.57614 12.7761 5.8 12.5 5.8H3.5C3.22386 5.8 3 5.57614 3 5.3V5ZM3.5 7.5C3.22386 7.5 3 7.72386 3 8V8.3C3 8.57614 3.22386 8.8 3.5 8.8H4.5C4.77614 8.8 5 8.57614 5 8.3V8C5 7.72386 4.77614 7.5 4.5 7.5H3.5ZM7 8C7 7.72386 7.22386 7.5 7.5 7.5H8.5C8.77614 7.5 9 7.72386 9 8V8.3C9 8.57614 8.77614 8.8 8.5 8.8H7.5C7.22386 8.8 7 8.57614 7 8.3V8ZM11.5 7.5C11.2239 7.5 11 7.72386 11 8V8.3C11 8.57614 11.2239 8.8 11.5 8.8H12.5C12.7761 8.8 13 8.57614 13 8.3V8C13 7.72386 12.7761 7.5 12.5 7.5H11.5ZM3 11C3 10.7239 3.22386 10.5 3.5 10.5H7.5C7.77614 10.5 8 10.7239 8 11V11.3C8 11.5761 7.77614 11.8 7.5 11.8H3.5C3.22386 11.8 3 11.5761 3 11.3V11ZM10.5 10.5C10.2239 10.5 10 10.7239 10 11V11.3C10 11.5761 10.2239 11.8 10.5 11.8H12.5C12.7761 11.8 13 11.5761 13 11.3V11C13 10.7239 12.7761 10.5 12.5 10.5H10.5Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              代码人生
            </span></div></div></div><div data-v-41eefe39="" class="technology-box"><div data-v-41eefe39="" class="wrap"><svg data-v-41eefe39="" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="left"><g data-v-41eefe39="" id="&amp;#230;&amp;#161;&amp;#136;&amp;#228;&amp;#190;&amp;#139;"><path data-v-41eefe39="" id="Subtract" fill-rule="evenodd" clip-rule="evenodd" d="M14.9187 7.03385C15.0999 7.26744 14.9466 7.7 14.651 7.7H6.32905V4.5H5.02905V7.7H3.6C2.16406 7.7 1 6.53594 1 5.1C1 3.66406 2.16406 2.5 3.6 2.5H14.651C14.9466 2.5 15.0999 2.93257 14.9188 3.16616C14.5064 3.69779 14.2602 4.36959 14.2602 5.10001C14.2602 5.83043 14.5064 6.50222 14.9187 7.03385Z" fill="#86909C"></path><path data-v-41eefe39="" id="Subtract_2" fill-rule="evenodd" clip-rule="evenodd" d="M1.34902 14.5008C1.0534 14.5008 0.900077 14.0682 1.08126 13.8346C1.49363 13.303 1.7398 12.6312 1.7398 11.9008C1.7398 11.1704 1.49362 10.4986 1.08125 9.96694C0.900064 9.73335 1.05339 9.30078 1.34901 9.30078H12.4C13.8359 9.30078 15 10.4648 15 11.9008C15 13.3367 13.8359 14.5008 12.4 14.5008H1.34902Z" fill="#86909C"></path></g></svg> <div data-v-41eefe39="" class="right"><span data-v-41eefe39="" class="descrip">
              阅读
            </span></div></div></div></div> <!----></div><div class="byte-modal__footer"><div data-v-41eefe39="" class="left">跳过</div> <div data-v-41eefe39="" class="mid" style="display: none;">上一步</div> <div data-v-41eefe39="" class="right">
      至少选择1个分类
    </div></div></div></div></div><div data-v-8bb78912="" data-transfer="true" class="upgrade-new-modal byte-modal v-transfer-dom"><div class="byte-modal__mask" style="z-index: 1005; display: none;"></div><div class="byte-modal__wrapper" style="z-index: 1005; display: none;"><div class="byte-modal__content" style="width: 311px;"><div class="byte-modal__header"><span class="byte-modal__title"></span><!----></div><div class="byte-modal__body"> <!----> <div data-v-8bb78912="" class="close-icon"><img data-v-8bb78912="" src="./今日头条 iOS 客户端启动速度优化 - 掘金_files/8867e249c23a7c0ea596c139befc04d7.svg" alt=""></div></div><!----></div></div></div><link href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/100.b5554a0.css" rel="stylesheet" type="text/css"><link href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/155.cc4a86e.css" rel="stylesheet" type="text/css"><link href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/9.b3ecb8a.css" rel="stylesheet" type="text/css"><link href="./今日头条 iOS 客户端启动速度优化 - 掘金_files/88.9843b4c.css" rel="stylesheet" type="text/css"></body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>